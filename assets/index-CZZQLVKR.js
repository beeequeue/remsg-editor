import{p as m,t as ie,a as j,b as se,s as qe,c as It,d as br,l as Xe,e as te,f as lr,i as sr,g as Oe,h as _t,j as xr,k as Br,m as le,n as Lt,o as Mt,q as Dt,r as vr,u as O,$ as Ht,v as Bt,w as $,x as Et,y as we,z as Er,A as or,B as Ir,C as Ve,D as pe,E as g,F as Re,G as Ee,H as ne,I as fe,J as Ye,K as ce,L as _r,M as Yt,N as Ur,O as at,P as ze,Q as Fr,R as Xt,S as Rt,T as Zt,U as Tt,V as Ge,W as Ar,X as ar,Y as Or,Z as Sr,_ as Nt,a0 as Kt,a1 as Qt,a2 as Cr}from"./svelte-DEulY7nW.js";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const d of document.querySelectorAll('link[rel="modulepreload"]'))c(d);new MutationObserver(d=>{for(const y of d)if(y.type==="childList")for(const p of y.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&c(p)}).observe(document,{childList:!0,subtree:!0});function h(d){const y={};return d.integrity&&(y.integrity=d.integrity),d.referrerPolicy&&(y.referrerPolicy=d.referrerPolicy),d.crossOrigin==="use-credentials"?y.credentials="include":d.crossOrigin==="anonymous"?y.credentials="omit":y.credentials="same-origin",y}function c(d){if(d.ep)return;d.ep=!0;const y=h(d);fetch(d.href,y)}})();var kt={},mt={},$t;function Tr(){if($t)return mt;$t=1,mt.byteLength=o,mt.toByteArray=B,mt.fromByteArray=k;for(var l=[],n=[],h=typeof Uint8Array<"u"?Uint8Array:Array,c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",d=0,y=c.length;d<y;++d)l[d]=c[d],n[c.charCodeAt(d)]=d;n[45]=62,n[95]=63;function p(b){var _=b.length;if(_%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var S=b.indexOf("=");S===-1&&(S=_);var D=S===_?0:4-S%4;return[S,D]}function o(b){var _=p(b),S=_[0],D=_[1];return(S+D)*3/4-D}function I(b,_,S){return(_+S)*3/4-S}function B(b){var _,S=p(b),D=S[0],x=S[1],L=new h(I(b,D,x)),T=0,be=x>0?D-4:D,W;for(W=0;W<be;W+=4)_=n[b.charCodeAt(W)]<<18|n[b.charCodeAt(W+1)]<<12|n[b.charCodeAt(W+2)]<<6|n[b.charCodeAt(W+3)],L[T++]=_>>16&255,L[T++]=_>>8&255,L[T++]=_&255;return x===2&&(_=n[b.charCodeAt(W)]<<2|n[b.charCodeAt(W+1)]>>4,L[T++]=_&255),x===1&&(_=n[b.charCodeAt(W)]<<10|n[b.charCodeAt(W+1)]<<4|n[b.charCodeAt(W+2)]>>2,L[T++]=_>>8&255,L[T++]=_&255),L}function w(b){return l[b>>18&63]+l[b>>12&63]+l[b>>6&63]+l[b&63]}function v(b,_,S){for(var D,x=[],L=_;L<S;L+=3)D=(b[L]<<16&16711680)+(b[L+1]<<8&65280)+(b[L+2]&255),x.push(w(D));return x.join("")}function k(b){for(var _,S=b.length,D=S%3,x=[],L=16383,T=0,be=S-D;T<be;T+=L)x.push(v(b,T,T+L>be?be:T+L));return D===1?(_=b[S-1],x.push(l[_>>2]+l[_<<4&63]+"==")):D===2&&(_=(b[S-2]<<8)+b[S-1],x.push(l[_>>10]+l[_>>4&63]+l[_<<2&63]+"=")),x.join("")}return mt}var vt={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */var er;function Nr(){return er||(er=1,vt.read=function(l,n,h,c,d){var y,p,o=d*8-c-1,I=(1<<o)-1,B=I>>1,w=-7,v=h?d-1:0,k=h?-1:1,b=l[n+v];for(v+=k,y=b&(1<<-w)-1,b>>=-w,w+=o;w>0;y=y*256+l[n+v],v+=k,w-=8);for(p=y&(1<<-w)-1,y>>=-w,w+=c;w>0;p=p*256+l[n+v],v+=k,w-=8);if(y===0)y=1-B;else{if(y===I)return p?NaN:(b?-1:1)*(1/0);p=p+Math.pow(2,c),y=y-B}return(b?-1:1)*p*Math.pow(2,y-c)},vt.write=function(l,n,h,c,d,y){var p,o,I,B=y*8-d-1,w=(1<<B)-1,v=w>>1,k=d===23?Math.pow(2,-24)-Math.pow(2,-77):0,b=c?0:y-1,_=c?1:-1,S=n<0||n===0&&1/n<0?1:0;for(n=Math.abs(n),isNaN(n)||n===1/0?(o=isNaN(n)?1:0,p=w):(p=Math.floor(Math.log(n)/Math.LN2),n*(I=Math.pow(2,-p))<1&&(p--,I*=2),p+v>=1?n+=k/I:n+=k*Math.pow(2,1-v),n*I>=2&&(p++,I/=2),p+v>=w?(o=0,p=w):p+v>=1?(o=(n*I-1)*Math.pow(2,d),p=p+v):(o=n*Math.pow(2,v-1)*Math.pow(2,d),p=0));d>=8;l[h+b]=o&255,b+=_,o/=256,d-=8);for(p=p<<d|o,B+=d;B>0;l[h+b]=p&255,b+=_,p/=256,B-=8);l[h+b-_]|=S*128}),vt}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var tr;function kr(){return tr||(tr=1,function(l){const n=Tr(),h=Nr(),c=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;l.Buffer=o,l.SlowBuffer=L,l.INSPECT_MAX_BYTES=50;const d=2147483647;l.kMaxLength=d,o.TYPED_ARRAY_SUPPORT=y(),!o.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function y(){try{const r=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(r,e),r.foo()===42}catch{return!1}}Object.defineProperty(o.prototype,"parent",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.buffer}}),Object.defineProperty(o.prototype,"offset",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.byteOffset}});function p(r){if(r>d)throw new RangeError('The value "'+r+'" is invalid for option "size"');const e=new Uint8Array(r);return Object.setPrototypeOf(e,o.prototype),e}function o(r,e,t){if(typeof r=="number"){if(typeof e=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return v(r)}return I(r,e,t)}o.poolSize=8192;function I(r,e,t){if(typeof r=="string")return k(r,e);if(ArrayBuffer.isView(r))return _(r);if(r==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof r);if(Ae(r,ArrayBuffer)||r&&Ae(r.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Ae(r,SharedArrayBuffer)||r&&Ae(r.buffer,SharedArrayBuffer)))return S(r,e,t);if(typeof r=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const i=r.valueOf&&r.valueOf();if(i!=null&&i!==r)return o.from(i,e,t);const s=D(r);if(s)return s;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof r[Symbol.toPrimitive]=="function")return o.from(r[Symbol.toPrimitive]("string"),e,t);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof r)}o.from=function(r,e,t){return I(r,e,t)},Object.setPrototypeOf(o.prototype,Uint8Array.prototype),Object.setPrototypeOf(o,Uint8Array);function B(r){if(typeof r!="number")throw new TypeError('"size" argument must be of type number');if(r<0)throw new RangeError('The value "'+r+'" is invalid for option "size"')}function w(r,e,t){return B(r),r<=0?p(r):e!==void 0?typeof t=="string"?p(r).fill(e,t):p(r).fill(e):p(r)}o.alloc=function(r,e,t){return w(r,e,t)};function v(r){return B(r),p(r<0?0:x(r)|0)}o.allocUnsafe=function(r){return v(r)},o.allocUnsafeSlow=function(r){return v(r)};function k(r,e){if((typeof e!="string"||e==="")&&(e="utf8"),!o.isEncoding(e))throw new TypeError("Unknown encoding: "+e);const t=T(r,e)|0;let i=p(t);const s=i.write(r,e);return s!==t&&(i=i.slice(0,s)),i}function b(r){const e=r.length<0?0:x(r.length)|0,t=p(e);for(let i=0;i<e;i+=1)t[i]=r[i]&255;return t}function _(r){if(Ae(r,Uint8Array)){const e=new Uint8Array(r);return S(e.buffer,e.byteOffset,e.byteLength)}return b(r)}function S(r,e,t){if(e<0||r.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(r.byteLength<e+(t||0))throw new RangeError('"length" is outside of buffer bounds');let i;return e===void 0&&t===void 0?i=new Uint8Array(r):t===void 0?i=new Uint8Array(r,e):i=new Uint8Array(r,e,t),Object.setPrototypeOf(i,o.prototype),i}function D(r){if(o.isBuffer(r)){const e=x(r.length)|0,t=p(e);return t.length===0||r.copy(t,0,0,e),t}if(r.length!==void 0)return typeof r.length!="number"||pt(r.length)?p(0):b(r);if(r.type==="Buffer"&&Array.isArray(r.data))return b(r.data)}function x(r){if(r>=d)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+d.toString(16)+" bytes");return r|0}function L(r){return+r!=r&&(r=0),o.alloc(+r)}o.isBuffer=function(e){return e!=null&&e._isBuffer===!0&&e!==o.prototype},o.compare=function(e,t){if(Ae(e,Uint8Array)&&(e=o.from(e,e.offset,e.byteLength)),Ae(t,Uint8Array)&&(t=o.from(t,t.offset,t.byteLength)),!o.isBuffer(e)||!o.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let i=e.length,s=t.length;for(let a=0,f=Math.min(i,s);a<f;++a)if(e[a]!==t[a]){i=e[a],s=t[a];break}return i<s?-1:s<i?1:0},o.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},o.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(e.length===0)return o.alloc(0);let i;if(t===void 0)for(t=0,i=0;i<e.length;++i)t+=e[i].length;const s=o.allocUnsafe(t);let a=0;for(i=0;i<e.length;++i){let f=e[i];if(Ae(f,Uint8Array))a+f.length>s.length?(o.isBuffer(f)||(f=o.from(f)),f.copy(s,a)):Uint8Array.prototype.set.call(s,f,a);else if(o.isBuffer(f))f.copy(s,a);else throw new TypeError('"list" argument must be an Array of Buffers');a+=f.length}return s};function T(r,e){if(o.isBuffer(r))return r.length;if(ArrayBuffer.isView(r)||Ae(r,ArrayBuffer))return r.byteLength;if(typeof r!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof r);const t=r.length,i=arguments.length>2&&arguments[2]===!0;if(!i&&t===0)return 0;let s=!1;for(;;)switch(e){case"ascii":case"latin1":case"binary":return t;case"utf8":case"utf-8":return dt(r).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return t*2;case"hex":return t>>>1;case"base64":return Je(r).length;default:if(s)return i?-1:dt(r).length;e=(""+e).toLowerCase(),s=!0}}o.byteLength=T;function be(r,e,t){let i=!1;if((e===void 0||e<0)&&(e=0),e>this.length||((t===void 0||t>this.length)&&(t=this.length),t<=0)||(t>>>=0,e>>>=0,t<=e))return"";for(r||(r="utf8");;)switch(r){case"hex":return ae(this,e,t);case"utf8":case"utf-8":return rt(this,e,t);case"ascii":return ft(this,e,t);case"latin1":case"binary":return nt(this,e,t);case"base64":return tt(this,e,t);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Ne(this,e,t);default:if(i)throw new TypeError("Unknown encoding: "+r);r=(r+"").toLowerCase(),i=!0}}o.prototype._isBuffer=!0;function W(r,e,t){const i=r[e];r[e]=r[t],r[t]=i}o.prototype.swap16=function(){const e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)W(this,t,t+1);return this},o.prototype.swap32=function(){const e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)W(this,t,t+3),W(this,t+1,t+2);return this},o.prototype.swap64=function(){const e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)W(this,t,t+7),W(this,t+1,t+6),W(this,t+2,t+5),W(this,t+3,t+4);return this},o.prototype.toString=function(){const e=this.length;return e===0?"":arguments.length===0?rt(this,0,e):be.apply(this,arguments)},o.prototype.toLocaleString=o.prototype.toString,o.prototype.equals=function(e){if(!o.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e?!0:o.compare(this,e)===0},o.prototype.inspect=function(){let e="";const t=l.INSPECT_MAX_BYTES;return e=this.toString("hex",0,t).replace(/(.{2})/g,"$1 ").trim(),this.length>t&&(e+=" ... "),"<Buffer "+e+">"},c&&(o.prototype[c]=o.prototype.inspect),o.prototype.compare=function(e,t,i,s,a){if(Ae(e,Uint8Array)&&(e=o.from(e,e.offset,e.byteLength)),!o.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(t===void 0&&(t=0),i===void 0&&(i=e?e.length:0),s===void 0&&(s=0),a===void 0&&(a=this.length),t<0||i>e.length||s<0||a>this.length)throw new RangeError("out of range index");if(s>=a&&t>=i)return 0;if(s>=a)return-1;if(t>=i)return 1;if(t>>>=0,i>>>=0,s>>>=0,a>>>=0,this===e)return 0;let f=a-s,N=i-t;const J=Math.min(f,N),z=this.slice(s,a),H=e.slice(t,i);for(let G=0;G<J;++G)if(z[G]!==H[G]){f=z[G],N=H[G];break}return f<N?-1:N<f?1:0};function A(r,e,t,i,s){if(r.length===0)return-1;if(typeof t=="string"?(i=t,t=0):t>2147483647?t=2147483647:t<-2147483648&&(t=-2147483648),t=+t,pt(t)&&(t=s?0:r.length-1),t<0&&(t=r.length+t),t>=r.length){if(s)return-1;t=r.length-1}else if(t<0)if(s)t=0;else return-1;if(typeof e=="string"&&(e=o.from(e,i)),o.isBuffer(e))return e.length===0?-1:P(r,e,t,i,s);if(typeof e=="number")return e=e&255,typeof Uint8Array.prototype.indexOf=="function"?s?Uint8Array.prototype.indexOf.call(r,e,t):Uint8Array.prototype.lastIndexOf.call(r,e,t):P(r,[e],t,i,s);throw new TypeError("val must be string, number or Buffer")}function P(r,e,t,i,s){let a=1,f=r.length,N=e.length;if(i!==void 0&&(i=String(i).toLowerCase(),i==="ucs2"||i==="ucs-2"||i==="utf16le"||i==="utf-16le")){if(r.length<2||e.length<2)return-1;a=2,f/=2,N/=2,t/=2}function J(H,G){return a===1?H[G]:H.readUInt16BE(G*a)}let z;if(s){let H=-1;for(z=t;z<f;z++)if(J(r,z)===J(e,H===-1?0:z-H)){if(H===-1&&(H=z),z-H+1===N)return H*a}else H!==-1&&(z-=z-H),H=-1}else for(t+N>f&&(t=f-N),z=t;z>=0;z--){let H=!0;for(let G=0;G<N;G++)if(J(r,z+G)!==J(e,G)){H=!1;break}if(H)return z}return-1}o.prototype.includes=function(e,t,i){return this.indexOf(e,t,i)!==-1},o.prototype.indexOf=function(e,t,i){return A(this,e,t,i,!0)},o.prototype.lastIndexOf=function(e,t,i){return A(this,e,t,i,!1)};function Y(r,e,t,i){t=Number(t)||0;const s=r.length-t;i?(i=Number(i),i>s&&(i=s)):i=s;const a=e.length;i>a/2&&(i=a/2);let f;for(f=0;f<i;++f){const N=parseInt(e.substr(f*2,2),16);if(pt(N))return f;r[t+f]=N}return f}function oe(r,e,t,i){return $e(dt(e,r.length-t),r,t,i)}function re(r,e,t,i){return $e(Z(e),r,t,i)}function ge(r,e,t,i){return $e(Je(e),r,t,i)}function je(r,e,t,i){return $e(F(e,r.length-t),r,t,i)}o.prototype.write=function(e,t,i,s){if(t===void 0)s="utf8",i=this.length,t=0;else if(i===void 0&&typeof t=="string")s=t,i=this.length,t=0;else if(isFinite(t))t=t>>>0,isFinite(i)?(i=i>>>0,s===void 0&&(s="utf8")):(s=i,i=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const a=this.length-t;if((i===void 0||i>a)&&(i=a),e.length>0&&(i<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");s||(s="utf8");let f=!1;for(;;)switch(s){case"hex":return Y(this,e,t,i);case"utf8":case"utf-8":return oe(this,e,t,i);case"ascii":case"latin1":case"binary":return re(this,e,t,i);case"base64":return ge(this,e,t,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return je(this,e,t,i);default:if(f)throw new TypeError("Unknown encoding: "+s);s=(""+s).toLowerCase(),f=!0}},o.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function tt(r,e,t){return e===0&&t===r.length?n.fromByteArray(r):n.fromByteArray(r.slice(e,t))}function rt(r,e,t){t=Math.min(r.length,t);const i=[];let s=e;for(;s<t;){const a=r[s];let f=null,N=a>239?4:a>223?3:a>191?2:1;if(s+N<=t){let J,z,H,G;switch(N){case 1:a<128&&(f=a);break;case 2:J=r[s+1],(J&192)===128&&(G=(a&31)<<6|J&63,G>127&&(f=G));break;case 3:J=r[s+1],z=r[s+2],(J&192)===128&&(z&192)===128&&(G=(a&15)<<12|(J&63)<<6|z&63,G>2047&&(G<55296||G>57343)&&(f=G));break;case 4:J=r[s+1],z=r[s+2],H=r[s+3],(J&192)===128&&(z&192)===128&&(H&192)===128&&(G=(a&15)<<18|(J&63)<<12|(z&63)<<6|H&63,G>65535&&G<1114112&&(f=G))}}f===null?(f=65533,N=1):f>65535&&(f-=65536,i.push(f>>>10&1023|55296),f=56320|f&1023),i.push(f),s+=N}return ut(i)}const Ze=4096;function ut(r){const e=r.length;if(e<=Ze)return String.fromCharCode.apply(String,r);let t="",i=0;for(;i<e;)t+=String.fromCharCode.apply(String,r.slice(i,i+=Ze));return t}function ft(r,e,t){let i="";t=Math.min(r.length,t);for(let s=e;s<t;++s)i+=String.fromCharCode(r[s]&127);return i}function nt(r,e,t){let i="";t=Math.min(r.length,t);for(let s=e;s<t;++s)i+=String.fromCharCode(r[s]);return i}function ae(r,e,t){const i=r.length;(!e||e<0)&&(e=0),(!t||t<0||t>i)&&(t=i);let s="";for(let a=e;a<t;++a)s+=Ft[r[a]];return s}function Ne(r,e,t){const i=r.slice(e,t);let s="";for(let a=0;a<i.length-1;a+=2)s+=String.fromCharCode(i[a]+i[a+1]*256);return s}o.prototype.slice=function(e,t){const i=this.length;e=~~e,t=t===void 0?i:~~t,e<0?(e+=i,e<0&&(e=0)):e>i&&(e=i),t<0?(t+=i,t<0&&(t=0)):t>i&&(t=i),t<e&&(t=e);const s=this.subarray(e,t);return Object.setPrototypeOf(s,o.prototype),s};function U(r,e,t){if(r%1!==0||r<0)throw new RangeError("offset is not uint");if(r+e>t)throw new RangeError("Trying to access beyond buffer length")}o.prototype.readUintLE=o.prototype.readUIntLE=function(e,t,i){e=e>>>0,t=t>>>0,i||U(e,t,this.length);let s=this[e],a=1,f=0;for(;++f<t&&(a*=256);)s+=this[e+f]*a;return s},o.prototype.readUintBE=o.prototype.readUIntBE=function(e,t,i){e=e>>>0,t=t>>>0,i||U(e,t,this.length);let s=this[e+--t],a=1;for(;t>0&&(a*=256);)s+=this[e+--t]*a;return s},o.prototype.readUint8=o.prototype.readUInt8=function(e,t){return e=e>>>0,t||U(e,1,this.length),this[e]},o.prototype.readUint16LE=o.prototype.readUInt16LE=function(e,t){return e=e>>>0,t||U(e,2,this.length),this[e]|this[e+1]<<8},o.prototype.readUint16BE=o.prototype.readUInt16BE=function(e,t){return e=e>>>0,t||U(e,2,this.length),this[e]<<8|this[e+1]},o.prototype.readUint32LE=o.prototype.readUInt32LE=function(e,t){return e=e>>>0,t||U(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+this[e+3]*16777216},o.prototype.readUint32BE=o.prototype.readUInt32BE=function(e,t){return e=e>>>0,t||U(e,4,this.length),this[e]*16777216+(this[e+1]<<16|this[e+2]<<8|this[e+3])},o.prototype.readBigUInt64LE=Le(function(e){e=e>>>0,We(e,"offset");const t=this[e],i=this[e+7];(t===void 0||i===void 0)&&Qe(e,this.length-8);const s=t+this[++e]*2**8+this[++e]*2**16+this[++e]*2**24,a=this[++e]+this[++e]*2**8+this[++e]*2**16+i*2**24;return BigInt(s)+(BigInt(a)<<BigInt(32))}),o.prototype.readBigUInt64BE=Le(function(e){e=e>>>0,We(e,"offset");const t=this[e],i=this[e+7];(t===void 0||i===void 0)&&Qe(e,this.length-8);const s=t*2**24+this[++e]*2**16+this[++e]*2**8+this[++e],a=this[++e]*2**24+this[++e]*2**16+this[++e]*2**8+i;return(BigInt(s)<<BigInt(32))+BigInt(a)}),o.prototype.readIntLE=function(e,t,i){e=e>>>0,t=t>>>0,i||U(e,t,this.length);let s=this[e],a=1,f=0;for(;++f<t&&(a*=256);)s+=this[e+f]*a;return a*=128,s>=a&&(s-=Math.pow(2,8*t)),s},o.prototype.readIntBE=function(e,t,i){e=e>>>0,t=t>>>0,i||U(e,t,this.length);let s=t,a=1,f=this[e+--s];for(;s>0&&(a*=256);)f+=this[e+--s]*a;return a*=128,f>=a&&(f-=Math.pow(2,8*t)),f},o.prototype.readInt8=function(e,t){return e=e>>>0,t||U(e,1,this.length),this[e]&128?(255-this[e]+1)*-1:this[e]},o.prototype.readInt16LE=function(e,t){e=e>>>0,t||U(e,2,this.length);const i=this[e]|this[e+1]<<8;return i&32768?i|4294901760:i},o.prototype.readInt16BE=function(e,t){e=e>>>0,t||U(e,2,this.length);const i=this[e+1]|this[e]<<8;return i&32768?i|4294901760:i},o.prototype.readInt32LE=function(e,t){return e=e>>>0,t||U(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},o.prototype.readInt32BE=function(e,t){return e=e>>>0,t||U(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},o.prototype.readBigInt64LE=Le(function(e){e=e>>>0,We(e,"offset");const t=this[e],i=this[e+7];(t===void 0||i===void 0)&&Qe(e,this.length-8);const s=this[e+4]+this[e+5]*2**8+this[e+6]*2**16+(i<<24);return(BigInt(s)<<BigInt(32))+BigInt(t+this[++e]*2**8+this[++e]*2**16+this[++e]*2**24)}),o.prototype.readBigInt64BE=Le(function(e){e=e>>>0,We(e,"offset");const t=this[e],i=this[e+7];(t===void 0||i===void 0)&&Qe(e,this.length-8);const s=(t<<24)+this[++e]*2**16+this[++e]*2**8+this[++e];return(BigInt(s)<<BigInt(32))+BigInt(this[++e]*2**24+this[++e]*2**16+this[++e]*2**8+i)}),o.prototype.readFloatLE=function(e,t){return e=e>>>0,t||U(e,4,this.length),h.read(this,e,!0,23,4)},o.prototype.readFloatBE=function(e,t){return e=e>>>0,t||U(e,4,this.length),h.read(this,e,!1,23,4)},o.prototype.readDoubleLE=function(e,t){return e=e>>>0,t||U(e,8,this.length),h.read(this,e,!0,52,8)},o.prototype.readDoubleBE=function(e,t){return e=e>>>0,t||U(e,8,this.length),h.read(this,e,!1,52,8)};function X(r,e,t,i,s,a){if(!o.isBuffer(r))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>s||e<a)throw new RangeError('"value" argument is out of bounds');if(t+i>r.length)throw new RangeError("Index out of range")}o.prototype.writeUintLE=o.prototype.writeUIntLE=function(e,t,i,s){if(e=+e,t=t>>>0,i=i>>>0,!s){const N=Math.pow(2,8*i)-1;X(this,e,t,i,N,0)}let a=1,f=0;for(this[t]=e&255;++f<i&&(a*=256);)this[t+f]=e/a&255;return t+i},o.prototype.writeUintBE=o.prototype.writeUIntBE=function(e,t,i,s){if(e=+e,t=t>>>0,i=i>>>0,!s){const N=Math.pow(2,8*i)-1;X(this,e,t,i,N,0)}let a=i-1,f=1;for(this[t+a]=e&255;--a>=0&&(f*=256);)this[t+a]=e/f&255;return t+i},o.prototype.writeUint8=o.prototype.writeUInt8=function(e,t,i){return e=+e,t=t>>>0,i||X(this,e,t,1,255,0),this[t]=e&255,t+1},o.prototype.writeUint16LE=o.prototype.writeUInt16LE=function(e,t,i){return e=+e,t=t>>>0,i||X(this,e,t,2,65535,0),this[t]=e&255,this[t+1]=e>>>8,t+2},o.prototype.writeUint16BE=o.prototype.writeUInt16BE=function(e,t,i){return e=+e,t=t>>>0,i||X(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=e&255,t+2},o.prototype.writeUint32LE=o.prototype.writeUInt32LE=function(e,t,i){return e=+e,t=t>>>0,i||X(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=e&255,t+4},o.prototype.writeUint32BE=o.prototype.writeUInt32BE=function(e,t,i){return e=+e,t=t>>>0,i||X(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=e&255,t+4};function it(r,e,t,i,s){ht(e,i,s,r,t,7);let a=Number(e&BigInt(4294967295));r[t++]=a,a=a>>8,r[t++]=a,a=a>>8,r[t++]=a,a=a>>8,r[t++]=a;let f=Number(e>>BigInt(32)&BigInt(4294967295));return r[t++]=f,f=f>>8,r[t++]=f,f=f>>8,r[t++]=f,f=f>>8,r[t++]=f,t}function yt(r,e,t,i,s){ht(e,i,s,r,t,7);let a=Number(e&BigInt(4294967295));r[t+7]=a,a=a>>8,r[t+6]=a,a=a>>8,r[t+5]=a,a=a>>8,r[t+4]=a;let f=Number(e>>BigInt(32)&BigInt(4294967295));return r[t+3]=f,f=f>>8,r[t+2]=f,f=f>>8,r[t+1]=f,f=f>>8,r[t]=f,t+8}o.prototype.writeBigUInt64LE=Le(function(e,t=0){return it(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))}),o.prototype.writeBigUInt64BE=Le(function(e,t=0){return yt(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))}),o.prototype.writeIntLE=function(e,t,i,s){if(e=+e,t=t>>>0,!s){const J=Math.pow(2,8*i-1);X(this,e,t,i,J-1,-J)}let a=0,f=1,N=0;for(this[t]=e&255;++a<i&&(f*=256);)e<0&&N===0&&this[t+a-1]!==0&&(N=1),this[t+a]=(e/f>>0)-N&255;return t+i},o.prototype.writeIntBE=function(e,t,i,s){if(e=+e,t=t>>>0,!s){const J=Math.pow(2,8*i-1);X(this,e,t,i,J-1,-J)}let a=i-1,f=1,N=0;for(this[t+a]=e&255;--a>=0&&(f*=256);)e<0&&N===0&&this[t+a+1]!==0&&(N=1),this[t+a]=(e/f>>0)-N&255;return t+i},o.prototype.writeInt8=function(e,t,i){return e=+e,t=t>>>0,i||X(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=e&255,t+1},o.prototype.writeInt16LE=function(e,t,i){return e=+e,t=t>>>0,i||X(this,e,t,2,32767,-32768),this[t]=e&255,this[t+1]=e>>>8,t+2},o.prototype.writeInt16BE=function(e,t,i){return e=+e,t=t>>>0,i||X(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=e&255,t+2},o.prototype.writeInt32LE=function(e,t,i){return e=+e,t=t>>>0,i||X(this,e,t,4,2147483647,-2147483648),this[t]=e&255,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},o.prototype.writeInt32BE=function(e,t,i){return e=+e,t=t>>>0,i||X(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=e&255,t+4},o.prototype.writeBigInt64LE=Le(function(e,t=0){return it(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),o.prototype.writeBigInt64BE=Le(function(e,t=0){return yt(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Ke(r,e,t,i,s,a){if(t+i>r.length)throw new RangeError("Index out of range");if(t<0)throw new RangeError("Index out of range")}function ke(r,e,t,i,s){return e=+e,t=t>>>0,s||Ke(r,e,t,4),h.write(r,e,t,i,23,4),t+4}o.prototype.writeFloatLE=function(e,t,i){return ke(this,e,t,!0,i)},o.prototype.writeFloatBE=function(e,t,i){return ke(this,e,t,!1,i)};function me(r,e,t,i,s){return e=+e,t=t>>>0,s||Ke(r,e,t,8),h.write(r,e,t,i,52,8),t+8}o.prototype.writeDoubleLE=function(e,t,i){return me(this,e,t,!0,i)},o.prototype.writeDoubleBE=function(e,t,i){return me(this,e,t,!1,i)},o.prototype.copy=function(e,t,i,s){if(!o.isBuffer(e))throw new TypeError("argument should be a Buffer");if(i||(i=0),!s&&s!==0&&(s=this.length),t>=e.length&&(t=e.length),t||(t=0),s>0&&s<i&&(s=i),s===i||e.length===0||this.length===0)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(i<0||i>=this.length)throw new RangeError("Index out of range");if(s<0)throw new RangeError("sourceEnd out of bounds");s>this.length&&(s=this.length),e.length-t<s-i&&(s=e.length-t+i);const a=s-i;return this===e&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(t,i,s):Uint8Array.prototype.set.call(e,this.subarray(i,s),t),a},o.prototype.fill=function(e,t,i,s){if(typeof e=="string"){if(typeof t=="string"?(s=t,t=0,i=this.length):typeof i=="string"&&(s=i,i=this.length),s!==void 0&&typeof s!="string")throw new TypeError("encoding must be a string");if(typeof s=="string"&&!o.isEncoding(s))throw new TypeError("Unknown encoding: "+s);if(e.length===1){const f=e.charCodeAt(0);(s==="utf8"&&f<128||s==="latin1")&&(e=f)}}else typeof e=="number"?e=e&255:typeof e=="boolean"&&(e=Number(e));if(t<0||this.length<t||this.length<i)throw new RangeError("Out of range index");if(i<=t)return this;t=t>>>0,i=i===void 0?this.length:i>>>0,e||(e=0);let a;if(typeof e=="number")for(a=t;a<i;++a)this[a]=e;else{const f=o.isBuffer(e)?e:o.from(e,s),N=f.length;if(N===0)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(a=0;a<i-t;++a)this[a+t]=f[a%N]}return this};const Te={};function ct(r,e,t){Te[r]=class extends t{constructor(){super(),Object.defineProperty(this,"message",{value:e.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${r}]`,this.stack,delete this.name}get code(){return r}set code(s){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:s,writable:!0})}toString(){return`${this.name} [${r}]: ${this.message}`}}}ct("ERR_BUFFER_OUT_OF_BOUNDS",function(r){return r?`${r} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),ct("ERR_INVALID_ARG_TYPE",function(r,e){return`The "${r}" argument must be of type number. Received type ${typeof e}`},TypeError),ct("ERR_OUT_OF_RANGE",function(r,e,t){let i=`The value of "${r}" is out of range.`,s=t;return Number.isInteger(t)&&Math.abs(t)>2**32?s=lt(String(t)):typeof t=="bigint"&&(s=String(t),(t>BigInt(2)**BigInt(32)||t<-(BigInt(2)**BigInt(32)))&&(s=lt(s)),s+="n"),i+=` It must be ${e}. Received ${s}`,i},RangeError);function lt(r){let e="",t=r.length;const i=r[0]==="-"?1:0;for(;t>=i+4;t-=3)e=`_${r.slice(t-3,t)}${e}`;return`${r.slice(0,t)}${e}`}function Ut(r,e,t){We(e,"offset"),(r[e]===void 0||r[e+t]===void 0)&&Qe(e,r.length-(t+1))}function ht(r,e,t,i,s,a){if(r>t||r<e){const f=typeof e=="bigint"?"n":"";let N;throw e===0||e===BigInt(0)?N=`>= 0${f} and < 2${f} ** ${(a+1)*8}${f}`:N=`>= -(2${f} ** ${(a+1)*8-1}${f}) and < 2 ** ${(a+1)*8-1}${f}`,new Te.ERR_OUT_OF_RANGE("value",N,r)}Ut(i,s,a)}function We(r,e){if(typeof r!="number")throw new Te.ERR_INVALID_ARG_TYPE(e,"number",r)}function Qe(r,e,t){throw Math.floor(r)!==r?(We(r,t),new Te.ERR_OUT_OF_RANGE("offset","an integer",r)):e<0?new Te.ERR_BUFFER_OUT_OF_BOUNDS:new Te.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${e}`,r)}const wt=/[^+/0-9A-Za-z-_]/g;function xe(r){if(r=r.split("=")[0],r=r.trim().replace(wt,""),r.length<2)return"";for(;r.length%4!==0;)r=r+"=";return r}function dt(r,e){e=e||1/0;let t;const i=r.length;let s=null;const a=[];for(let f=0;f<i;++f){if(t=r.charCodeAt(f),t>55295&&t<57344){if(!s){if(t>56319){(e-=3)>-1&&a.push(239,191,189);continue}else if(f+1===i){(e-=3)>-1&&a.push(239,191,189);continue}s=t;continue}if(t<56320){(e-=3)>-1&&a.push(239,191,189),s=t;continue}t=(s-55296<<10|t-56320)+65536}else s&&(e-=3)>-1&&a.push(239,191,189);if(s=null,t<128){if((e-=1)<0)break;a.push(t)}else if(t<2048){if((e-=2)<0)break;a.push(t>>6|192,t&63|128)}else if(t<65536){if((e-=3)<0)break;a.push(t>>12|224,t>>6&63|128,t&63|128)}else if(t<1114112){if((e-=4)<0)break;a.push(t>>18|240,t>>12&63|128,t>>6&63|128,t&63|128)}else throw new Error("Invalid code point")}return a}function Z(r){const e=[];for(let t=0;t<r.length;++t)e.push(r.charCodeAt(t)&255);return e}function F(r,e){let t,i,s;const a=[];for(let f=0;f<r.length&&!((e-=2)<0);++f)t=r.charCodeAt(f),i=t>>8,s=t%256,a.push(s),a.push(i);return a}function Je(r){return n.toByteArray(xe(r))}function $e(r,e,t,i){let s;for(s=0;s<i&&!(s+t>=e.length||s>=r.length);++s)e[s+t]=r[s];return s}function Ae(r,e){return r instanceof e||r!=null&&r.constructor!=null&&r.constructor.name!=null&&r.constructor.name===e.name}function pt(r){return r!==r}const Ft=function(){const r="0123456789abcdef",e=new Array(256);for(let t=0;t<16;++t){const i=t*16;for(let s=0;s<16;++s)e[i+s]=r[t]+r[s]}return e}();function Le(r){return typeof BigInt>"u"?At:r}function At(){throw new Error("BigInt not supported")}}(kt)),kt}var Ce=kr(),Lr=["ja","en","fr","it","de","es","ru","pl","nl","pt","pt-br","ko","zh-tw","zh-cn","fi","sv","da","no","cs","hu","sk","ar","tr","bg","el","ro","th","uk","vi","id","fiction","hi","es-mx","max"],Mr=class{#t;#e=0;#r=!0;constructor(l=0){this.#t=Ce.Buffer.alloc(l)}get currentOffset(){return this.#e}get currentSize(){return this.#t.length}get buffer(){let l=Ce.Buffer.alloc(this.#t.length);return this.#t.copy(l),l}endianness(l){this.#r=l==="little"}grow(l){this.#t=Ce.Buffer.concat([this.#t,Ce.Buffer.alloc(l)])}growIfNeeded(l){this.#e+l>this.#t.length&&this.grow(this.#e+l-this.#t.length)}seek(l){let n=this.#e;return this.growIfNeeded(l),this.#e+=l,n}goto(l){let n=this.#e;return this.growIfNeeded(this.currentOffset-l),this.#e=l,n}alignTo(l){let n=this.#e%l;n!==0&&(this.growIfNeeded(l-n),this.#e+=l-n)}#n=(l,n,h)=>(c,d)=>{(d?.into==null||d.into+l>this.#t.length)&&this.growIfNeeded(l),this.#t[!this.#r&&h!=null?h:n](c,d?.into??this.#e,l),d?.into==null&&(this.#e+=l)};setInt8=this.#n(1,"writeInt8");setUint8=this.#n(1,"writeUInt8");setInt16=this.#n(2,"writeInt16LE","writeInt16BE");setUint16=this.#n(2,"writeUInt16LE","writeUInt16BE");setInt32=this.#n(4,"writeInt32LE","writeInt32BE");setUint32=this.#n(4,"writeUInt32LE","writeUInt32BE");setInt64=this.#n(8,"writeBigInt64LE","writeBigInt64BE");setUint64=this.#n(8,"writeBigUInt64LE","writeBigUInt64BE");setFloat=this.#n(4,"writeFloatLE","writeFloatBE");setDouble=this.#n(8,"writeDoubleLE","writeDoubleBE");setString(l,n){this.growIfNeeded(l.length),this.#t.write(l,n?.into??this.#e,"utf8"),n?.into==null&&(this.#e+=l.length)}setBuffer(l,n){this.growIfNeeded(l.length),l.copy(this.#t,n?.into??this.#e),n?.into==null&&(this.#e+=l.length)}},Dr=class{#t;#e=0;#r=!0;constructor(l){this.#t=l}get currentOffset(){return this.#e}endianness(l){this.#r=l==="little"}seek(l){let n=this.#e;return this.#e+=l,n}goto(l){let n=this.#e;return this.#e=l,n}alignTo(l){this.#e+=this.#e%l}readInt8(l){let n=new DataView(this.#t.buffer,l?.pointer??this.#e,1);return l?.pointer==null&&(this.#e+=1),n.getInt8(0)}readUint8(l){let n=new DataView(this.#t.buffer,l?.pointer??this.#e,1);return l?.pointer==null&&(this.#e+=1),n.getUint8(0)}readInt16(l){let n=new DataView(this.#t.buffer,l?.pointer??this.#e,2);return l?.pointer==null&&(this.#e+=2),n.getInt16(0,this.#r)}readUint16(l){let n=new DataView(this.#t.buffer,l?.pointer??this.#e,2);return l?.pointer==null&&(this.#e+=2),n.getUint16(0,this.#r)}readInt32(l){let n=new DataView(this.#t.buffer,l?.pointer??this.#e,4);return l?.pointer==null&&(this.#e+=4),n.getInt32(0,this.#r)}readUint32(l){let n=new DataView(this.#t.buffer,l?.pointer??this.#e,4);return l?.pointer==null&&(this.#e+=4),n.getUint32(0,this.#r)}readInt64(l){let n=new DataView(this.#t.buffer,l?.pointer??this.#e,8);return l?.pointer==null&&(this.#e+=8),n.getBigInt64(0,this.#r)}readUint64(l){let n=new DataView(this.#t.buffer,l?.pointer??this.#e,8);return l?.pointer==null&&(this.#e+=8),n.getBigUint64(0,this.#r)}readFloat(l){let n=new DataView(this.#t.buffer,l?.pointer??this.#e,4);return l?.pointer==null&&(this.#e+=4),n.getFloat32(0,this.#r)}readDouble(l){let n=new DataView(this.#t.buffer,l?.pointer??this.#e,8);return l?.pointer==null&&(this.#e+=8),n.getFloat64(0,this.#r)}readBuffer(l){let n=this.#t.subarray(this.#e,this.#e+l.length);return l.pointer==null&&(this.#e+=l.length),n}readString(l){let n;if("length"in l&&(n=this.readBuffer(l)),"zeroed"in l){let h=new DataView(this.#t.buffer,this.#e),c=0;for(;h.getUint8(this.#e+c)!==0;)c++;n=this.#t.subarray(0,c),this.#e+=c}return new TextDecoder().decode(n)}},ur=[207,206,251,248,236,10,51,102,147,169,29,147,80,57,95,9],Rr=l=>{let n=Ce.Buffer.from(l),h=0;for(let c=0;c<n.length;c++){let d=n[c];n[c]=d^h^ur[c&15],h=d}return n},jr=l=>{let n=Ce.Buffer.from(l),h=0;for(let c=0;c<n.length;c++){let d=n[c];n[c]=d^h^ur[c&15],h=n[c]}return n},Pr=l=>{let n=l.toString("hex");return[n.slice(6,8)+n.slice(4,6)+n.slice(2,4)+n.slice(0,2),n.slice(10,12)+n.slice(8,10),n.slice(14,16)+n.slice(12,14),n.slice(16,18)+n.slice(18,20),n.slice(20,32)].join("-")},Vr=l=>{let n=l.replaceAll("-","");return Ce.Buffer.from([n.slice(6,8)+n.slice(4,6)+n.slice(2,4)+n.slice(0,2),n.slice(10,12)+n.slice(8,10),n.slice(14,16)+n.slice(12,14),n.slice(16,18)+n.slice(18,20),n.slice(20,32)].join(""),"hex")},qr=(l,n)=>{if(l.length===0)return new Map;let h=l.toString("utf16le");if(h.at(-1)!=="\0")throw new Error("String is not null-terminated");let c=new Map,d=0;for(let y=0;y<h.length;y++)h[y]==="\0"&&(c.set(n+d*2,h.slice(d,y)),d=y+1);return c},zr=(l,n)=>{let h=0,c=new Map,d=I=>{if(c.has(I))return c.get("str");let B=n+h;return c.set(I,B),h+=I.length*2+2,B},y=[],p=[];for(let I=0;I<l.meta.attributes.length;I++){let B=l.meta.attributes[I];B.type===-1?(d(""),y.push(I)):B.type===2&&(d(B.name),p.push(I))}for(let I=0;I<l.meta.attributes.length;I++){let B=l.meta.attributes[I];d(B.name)}for(let I of l.entries){d(I.name);for(let B of Object.values(I.strings))d(B);for(let B of p)d(I.attributes[B])}let o=Ce.Buffer.alloc(0);for(let I of c.keys()){let B=Ce.Buffer.from(`${I}\0`,"utf16le");o=Ce.Buffer.concat([o,B])}return{map:c,nullAttributes:y,stringAttributes:p,data:o}},Gr=l=>({version:l.readUint32(),magic:l.readString({length:4}),headerOffset:l.readUint64(),entryCount:l.readUint32(),attributeCount:l.readUint32(),langCount:l.readUint32(),_:l.alignTo(8),dataOffset:l.readUint64(),_2:l.seek(8),langOffset:l.readUint64(),attributesOffset:l.readUint64(),attributeNamesOffset:l.readUint64()}),rr=l=>{let n=new Dr(l),h=Gr(n),c=[];if(h.magic!=="GMSG")throw new Error(`Invalid magic: ${h.magic}`);if(h.version!==539100710&&h.version!==23)throw new Error(`Uknkown version: ${h.version}`);let d=[];for(let o=0;o<h.entryCount;o++)d.push(n.readUint64());n.seek(8);let y=[];for(let o=0;o<h.langCount;o++)y.push(Lr[n.readInt32()]??"unknown");if(n.alignTo(8),Number(h.attributesOffset)!==n.currentOffset)throw new Error(`Attributes offset mismatch: ${h.attributesOffset} != ${n.currentOffset}`);let p=[];for(let o=0;o<h.attributeCount;o++)p.push({type:n.readInt32(),nameOffset:null,name:null});if(n.alignTo(8),Number(h.attributeNamesOffset)!==n.currentOffset)throw new Error(`Attribute names offset mismatch: ${h.attributeNamesOffset} != ${n.currentOffset}`);for(let o=0;o<h.attributeCount;o++)p[o].nameOffset=n.readUint64();if(h.entryCount!==0){for(let B=0;B<h.entryCount;B++){if(Number(d[B])!==n.currentOffset)throw new Error(`Entry header offset mismatch: $${n.currentOffset} != entry:${B}:${d[B]}`);let w={id:Pr(n.readBuffer({length:16})),crc:n.readUint32(),hash:n.readUint32(),nameOffset:n.readUint64(),attributesOffset:n.readUint64(),contentOffsetsByLang:[]};for(let v=0;v<h.langCount;v++)w.contentOffsetsByLang.push(n.readUint64());c.push({header:w})}for(let B=0;B<h.entryCount;B++){let w=c[B];if(Number(w.header.attributesOffset)!==n.currentOffset)throw new Error(`Entry header attributes offset mismatch: $${n.currentOffset} != entry:${B}:${w.header.attributesOffset}`);w.attributes=[];for(let v=0;v<p.length;v++){let k=p[v];switch(k.type){case-1:w.attributes[v]=Number(n.readUint64());break;case 0:w.attributes[v]=n.readUint32(),n.seek(4);break;case 1:w.attributes[v]=n.readDouble();break;case 2:w.attributes[v]=Number(n.readUint64());break;default:throw new Error(`Not implemented attribute type ${k.type}`)}}}if(Number(h.dataOffset)!==n.currentOffset)throw new Error(`Data offset mismatch: $${h.dataOffset} != ${n.currentOffset}`);let o=Rr(l.subarray(n.currentOffset)),I=qr(o,n.currentOffset);for(let B=0;B<p.length;B++){let w=p[B];w.name=I.get(Number(w.nameOffset))}for(let B=0;B<c.length;B++){let w=c[B];for(let v=0;v<h.attributeCount;v++)switch(p[v].type){case 2:w.attributes[v]=I.get(w.attributes[v]);break;case-1:if(w.attributes[v]=I.get(w.attributes[v]),w.attributes[v]!==""&&w.attributes[v]!=="\0")throw new Error(`Attribute with type -1 is not empty string: "${w.attributes[v]}"`);break}}for(let B=0;B<c.length;B++){let w=c[B];w.name=I.get(Number(w.header.nameOffset)),w.strings={};for(let v=0;v<w.header.contentOffsetsByLang.length;v++){let k=Number(w.header.contentOffsetsByLang[v]);w.strings[y[v]]=I.get(k)}}}return{meta:{version:h.version,attributes:p.map(o=>({type:o.type,name:o.name}))},entries:c.map(o=>({meta:{id:o.header.id,crc:o.header.crc,hash:o.header.hash},name:o.name,attributes:o.attributes,strings:o.strings}))}},Wr=l=>{if(l.meta.version!==539100710&&l.meta.version!==23)throw new Error(`Unsupported version ${l.meta.version}`);let n=new Mr;n.setUint32(l.meta.version),n.setString("GMSG"),n.setUint64(16n),n.setUint32(l.entries.length),n.setUint32(l.meta.attributes.length);let h=l.entries[0]!=null?Object.keys(l.entries[0].strings).length:0;n.setUint32(h),n.alignTo(8);let c=n.currentOffset;n.setInt64(-1n);let d=n.currentOffset;n.setInt64(-1n);let y=n.currentOffset;n.setInt64(-1n);let p=n.currentOffset;n.setInt64(-1n);let o=n.currentOffset;n.setInt64(-1n);let I=[];for(let x=0;x<l.entries.length;x++)I.push(n.currentOffset),n.setInt64(-1n);n.setUint64(BigInt(n.currentOffset),{into:d}),n.setUint64(0n),n.setUint64(BigInt(n.currentOffset),{into:y});for(let x=0;x<h;x++)n.setInt32(x);n.alignTo(8),n.setUint64(BigInt(n.currentOffset),{into:p});for(let x of l.meta.attributes)n.setInt32(x.type);n.alignTo(8),n.setUint64(BigInt(n.currentOffset),{into:o});let B=[];for(let x of l.meta.attributes)B.push(n.currentOffset),n.setInt64(-1n);let w=[];for(let x=0;x<l.entries.length;x++){n.setUint64(BigInt(n.currentOffset),{into:I[x]});let L=l.entries[x];n.setBuffer(Vr(L.meta.id)),n.setUint32(L.meta.crc),n.setUint32(L.meta.hash),w[x]??={},w[x].name=n.currentOffset,n.setInt64(-1n),w[x].attributes=n.currentOffset,n.setInt64(-1n),w[x].langs=[];for(let T=0;T<h;T++)w[x].langs[T]=n.currentOffset,n.setInt64(-1n);w[x].attributeValues=[]}for(let x=0;x<l.entries.length;x++){let L=l.entries[x];n.setUint64(BigInt(n.currentOffset),{into:w[x].attributes});for(let T=0;T<l.meta.attributes.length;T++){switch(l.meta.attributes[T].type){case-1:n.setInt64(-1n);break;case 0:n.setInt32(L.attributes[T]);break;case 1:n.setDouble(L.attributes[T]);break;case 2:n.setInt64(-1n);break}w[x].attributeValues[T]=n.currentOffset}}let v=n.currentOffset;n.setUint64(BigInt(v),{into:c});let{data:k,map:b,nullAttributes:_,stringAttributes:S}=zr(l,v),D=jr(k);n.setBuffer(D);for(let x=0;x<l.meta.attributes.length;x++){let{name:L}=l.meta.attributes[x],T=B[x];n.setUint64(BigInt(b.get(L)),{into:T})}for(let x=0;x<l.entries.length;x++){let L=l.entries[x],T=w[x];n.setUint64(BigInt(b.get(L.name)),{into:T.name});let be=Object.values(L.strings);for(let A=0;A<be.length;A++){let P=be[A];n.setUint64(BigInt(b.get(P)),{into:T.langs[A]})}for(let A of S){let P=L.attributes[A];n.setUint64(BigInt(b.get(P)),{into:T.attributeValues[A]})}let W=b.get("");for(let A of _)n.setUint64(BigInt(W),{into:T.attributeValues[A]})}return n.buffer},Jr=se('<div class="svelte-66wdl1"></div>');function Hr(l,n){let h=m(n,"color",24,()=>"cornflowerblue"),c=m(n,"duration",24,()=>"1.5s"),d=m(n,"size",24,()=>"1em");var y=Jr();let p;ie(()=>p=qe(y,`--duration: ${c()??""}`,p,{"border-color":`${h()??""} transparent ${h()??""}
  ${h()??""}`,width:d(),height:d()})),j(l,y)}var Yr=se("<span><!></span>");function Xr(l,n){It(n,!1);const[h,c]=xr(),d=()=>Br(_,"$store",h);let y=m(n,"wiggle",12,!1),p=m(n,"angle",8,0),o=m(n,"scale",8,1),I=m(n,"dx",8,0),B=m(n,"dy",8,0),w=m(n,"duration",8,200),v=m(n,"stiffness",8,.05),k=m(n,"damping",8,.1),b={angle:0,scale:1,dx:0,dy:0},_=br(b,{stiffness:v(),damping:k()});Xe(()=>(te(y()),te(w())),()=>{y()&&setTimeout(()=>y(!1),w())}),Xe(()=>(te(y()),te(o()),te(p()),te(I()),te(B())),()=>{_.set(y()?{scale:o(),angle:p(),dx:I(),dy:B()}:b)}),lr(),sr();var S=Yr();let D;var x=le(S);Oe(x,n,"default",{},null),ie(()=>D=qe(S,"",D,{transform:`rotate(${d().angle??""}deg) scale(${d().scale??""}) translate(${d().dx??""}px,
  ${d().dy??""}px)`})),j(l,S),_t(),c()}var Zr=Mt('<svg><path d="M3.646 9.146a.5.5 0 0 1 .708 0L8 12.793l3.646-3.647a.5.5 0 0 1 .708.708l-4 4a.5.5 0 0 1-.708 0l-4-4a.5.5 0 0 1 0-.708zm0-2.292a.5.5 0 0 0 .708 0L8 3.207l3.646 3.647a.5.5 0 0 0 .708-.708l-4-4a.5.5 0 0 0-.708 0l-4 4a.5.5 0 0 0 0 .708z"></path></svg>');function Kr(l,n){const h=Lt(n,["children","$$slots","$$events","$$legacy"]);var c=Zr();let d;ie(()=>d=Dt(c,d,{...h,fill:"currentColor",viewBox:"0 0 16 16"})),j(l,c)}var Qr=Mt('<svg><path d="M18.3 5.71a.996.996 0 0 0-1.41 0L12 10.59L7.11 5.7A.996.996 0 1 0 5.7 7.11L10.59 12L5.7 16.89a.996.996 0 1 0 1.41 1.41L12 13.41l4.89 4.89a.996.996 0 1 0 1.41-1.41L13.41 12l4.89-4.89c.38-.38.38-1.02 0-1.4z"></path></svg>');function nr(l,n){const h=Lt(n,["children","$$slots","$$events","$$legacy"]);var c=Qr();let d;ie(()=>d=Dt(c,d,{...h,viewBox:"0 0 24 24",fill:"currentColor"})),j(l,c)}var $r=Mt('<svg><path d="M12 22c5.523 0 10-4.477 10-10S17.523 2 12 2S2 6.477 2 12s4.477 10 10 10Zm-4.906-3.68L18.32 7.094A8 8 0 0 1 7.094 18.32ZM5.68 16.906A8 8 0 0 1 16.906 5.68L5.68 16.906Z"></path></svg>');function en(l,n){const h=Lt(n,["children","$$slots","$$events","$$legacy"]);var c=$r();let d;ie(()=>d=Dt(c,d,{...h,viewBox:"0 0 24 24",fill:"currentColor"})),j(l,c)}const Fe=l=>l instanceof Object?(l.label===void 0&&console.error(`MultiSelect option ${JSON.stringify(l)} is an object but has no label key`),l.label):`${l}`;function ir(l,n=null){let h="";if(["selected","option",null].includes(n)||console.error(`MultiSelect: Invalid key=${n} for get_style`),typeof l=="object"&&l.style&&(typeof l.style=="string"&&(h=l.style),typeof l.style=="object")){if(n&&n in l.style)return l.style[n]??"";console.error(`Invalid style object for option=${JSON.stringify(l)}`)}return h.trim()&&!h.trim().endsWith(";")&&(h+=";"),h}var tn=se('<button type="button" class="remove svelte-1r2hsto"><!></button>'),rn=se('<li role="option" aria-selected="true"><!> <!></li>'),nn=se("<span> </span>"),ln=se('<button type="button" class="remove remove-all svelte-1r2hsto"><!></button>'),sn=se("<!> <!>",1),on=se('<li role="option" aria-selected="false"><!></li>'),an=se('<li role="option" aria-selected="false"><!></li>'),un=se('<ul role="listbox"><!> <!></ul>'),fn=se('<div role="searchbox" tabindex="-1"><input tabindex="-1" aria-hidden="true" aria-label="ignore this, used only to prevent form submission if select is required but empty" class="form-control svelte-1r2hsto"> <!> <ul aria-label="selected options"><!> <input> <!></ul> <!> <!> <!></div>');function cn(l,n){It(n,!1);const h=at();let c=m(n,"activeIndex",12,null),d=m(n,"activeOption",12,null),y=m(n,"createOptionMsg",24,()=>"Create this option..."),p=m(n,"allowUserOptions",8,!1),o=m(n,"allowEmpty",8,!1),I=m(n,"autocomplete",24,()=>"off"),B=m(n,"autoScroll",8,!0),w=m(n,"breakpoint",8,800),v=m(n,"defaultDisabledTitle",24,()=>"This option is disabled"),k=m(n,"disabled",8,!1),b=m(n,"disabledInputTitle",24,()=>"This input is disabled"),_=m(n,"duplicateOptionMsg",24,()=>"This option is already selected"),S=m(n,"duplicates",8,!1),D=m(n,"key",8,u=>`${Fe(u)}`.toLowerCase()),x=m(n,"filterFunc",8,(u,E)=>E?`${Fe(u)}`.toLowerCase().includes(E.toLowerCase()):!0),L=m(n,"closeDropdownOnSelect",24,()=>"desktop"),T=m(n,"form_input",12,null),be=m(n,"highlightMatches",8,!0),W=m(n,"id",8,null),A=m(n,"input",12,null),P=m(n,"inputClass",24,()=>""),Y=m(n,"inputStyle",8,null),oe=m(n,"inputmode",8,null),re=m(n,"invalid",12,!1),ge=m(n,"liActiveOptionClass",24,()=>""),je=m(n,"liActiveUserMsgClass",24,()=>""),tt=m(n,"liOptionClass",24,()=>""),rt=m(n,"liOptionStyle",8,null),Ze=m(n,"liSelectedClass",24,()=>""),ut=m(n,"liSelectedStyle",8,null),ft=m(n,"liUserMsgClass",24,()=>""),nt=m(n,"loading",8,!1),ae=m(n,"matchingOptions",28,()=>[]),Ne=m(n,"maxOptions",8,void 0),U=m(n,"maxSelect",8,null),X=m(n,"maxSelectMsg",8,(u,E)=>E>1?`${u}/${E}`:""),it=m(n,"maxSelectMsgClass",24,()=>""),yt=m(n,"name",8,null),Ke=m(n,"noMatchingOptionsMsg",24,()=>"No matching options"),ke=m(n,"open",12,!1),me=m(n,"options",12),Te=m(n,"outerDiv",12,null),ct=m(n,"outerDivClass",24,()=>""),lt=m(n,"parseLabelsAsHtml",8,!1),Ut=m(n,"pattern",8,null),ht=m(n,"placeholder",8,null),We=m(n,"removeAllTitle",24,()=>"Remove all"),Qe=m(n,"removeBtnTitle",24,()=>"Remove"),wt=m(n,"minSelect",8,null),xe=m(n,"required",8,!1),dt=m(n,"resetFilterOnAdd",8,!0),Z=m(n,"searchText",28,()=>""),F=m(n,"selected",28,()=>me()?.filter(u=>u instanceof Object&&u?.preselected).slice(0,U()??void 0)??[]),Je=m(n,"sortSelected",8,!1),$e=m(n,"selectedOptionsDraggable",24,()=>!Je()),Ae=m(n,"style",8,null),pt=m(n,"ulOptionsClass",24,()=>""),Ft=m(n,"ulSelectedClass",24,()=>""),Le=m(n,"ulSelectedStyle",8,null),At=m(n,"ulOptionsStyle",8,null),r=m(n,"value",12,null);const e=u=>{r(U()===1?u[0]??null:u)},t=u=>{U()===1?F(u?[u]:[]):F(u??[])};let i=at(!1);me()?.length>0||(p()||nt()||k()||o()?me([]):console.error("MultiSelect received no options")),U()!==null&&U()<1&&console.error(`MultiSelect's maxSelect must be null or positive integer, got ${U()}`),Array.isArray(F())||console.error(`MultiSelect's selected prop should always be an array, got ${F()}`),U()&&typeof xe()=="number"&&xe()>U()&&console.error(`MultiSelect maxSelect=${U()} < required=${xe()}, makes it impossible for users to submit a valid form`),lt()&&p()&&console.warn("Don't combine parseLabelsAsHtml and allowUserOptions. It's susceptible to XSS attacks!"),Je()&&$e()&&console.warn("MultiSelect's sortSelected and selectedOptionsDraggable should not be combined as any user re-orderings of selected options will be undone by sortSelected on component re-renders."),p()&&!y()&&y()!==null&&console.error(`MultiSelect has allowUserOptions=${p()} but createOptionMsg=${y()} is falsy. This prevents the "Add option" <span> from showing up, resulting in a confusing user experience.`),Ne()&&(typeof Ne()!="number"||Ne()<0||Ne()%1!=0)&&console.error(`MultiSelect's maxOptions must be undefined or a positive integer, got ${Ne()}`);const s=vr();let a=at(!1),f=at();if(c()!==null&&!ae()[c()])throw`Run time error, activeIndex=${c()} is out of bounds, matchingOptions.length=${ae().length}`;function N(u,E){U()&&U()>1&&F().length>=U()&&ne(i,!0),!isNaN(Number(u))&&typeof F().map(Fe)[0]=="number"&&(u=Number(u));const R=F().map(D()).includes(D()(u));if((U()===null||U()===1||F().length<U())&&(S()||!R)){if(!me().includes(u)&&[!0,"append"].includes(p())&&Z().length>0&&(typeof me()[0]=="object"?u={label:Z()}:(["number","undefined"].includes(typeof me()[0])&&!isNaN(Number(Z()))?u=Number(Z()):u=Z(),s("create",{option:u})),p()==="append"&&me([...me(),u])),dt()&&Z(""),["",void 0,null].includes(u)){console.error(`MultiSelect: encountered falsy option ${u}`);return}U()===1?F([u]):(F([...F(),u]),Je()===!0?F(F().sort((Me,Q)=>{const[K,he]=[Fe(Me),Fe(Q)];return`${K}`.localeCompare(`${he}`)})):typeof Je()=="function"&&F(F().sort(Je())));const M=F().length===U(),Ie=L()===!0||L()==="desktop"&&g(f)<w();M||Ie?H(E):Ie||A()?.focus(),s("add",{option:u}),s("change",{option:u,type:"add"}),re(!1),T()?.setCustomValidity("")}}function J(u){if(F().length===0)return;const E=F().findIndex(M=>D()(M)===D()(u));let[R]=F().splice(E,1);if(R===void 0&&p()&&(R=typeof me()[0]?{label:u}:u),R===void 0)return console.error(`Multiselect can't remove selected option ${JSON.stringify(u)}, not found in selected list`);F([...F()]),re(!1),T()?.setCustomValidity(""),s("remove",{option:R}),s("change",{option:R,type:"remove"})}function z(u){k()||(ke(!0),u instanceof FocusEvent||A()?.focus(),s("open",{event:u}))}function H(u){ke(!1),A()?.blur(),c(null),s("close",{event:u})}async function G(u){if(u.key==="Escape"||u.key==="Tab")H(u),Z("");else if(u.key==="Enter")u.preventDefault(),d()?(F().includes(d())?J(d()):N(d(),u),Z("")):p()&&Z().length>0?N(Z(),u):z(u);else if(["ArrowDown","ArrowUp"].includes(u.key)){if(c()===null&&ae().length>0){c(0);return}else if(p()&&!ae().length&&Z().length>0){ne(a,!g(a));return}else if(c()===null)return;u.preventDefault();const E=u.key==="ArrowUp"?-1:1;if(c((c()+E)%ae().length),c()<0&&c(ae().length-1),B()){await Ur();const R=document.querySelector("ul.options > li.active");R&&R.scrollIntoViewIfNeeded?.()}}else u.key==="Backspace"&&F().length>0&&!Z()?J(F().at(-1)):ae().length>0&&c(0)}function jt(){s("removeAll",{options:F()}),s("change",{options:F(),type:"removeAll"}),F([]),Z("")}const Pt=u=>E=>{["Enter","Space"].includes(E.code)&&(E.preventDefault(),u())};function Vt(u){Te()&&!Te().contains(u.target)&&H(u)}let Ot=at(null);const fr=u=>E=>{if(!E.dataTransfer)return;E.dataTransfer.dropEffect="move";const R=parseInt(E.dataTransfer.getData("text/plain")),M=[...F()];R<u?(M.splice(u+1,0,M[R]),M.splice(R,1)):(M.splice(u,0,M[R]),M.splice(R+1,1)),F(M),ne(Ot,null)},cr=u=>E=>{E.dataTransfer&&(E.dataTransfer.effectAllowed="move",E.dataTransfer.dropEffect="move",E.dataTransfer.setData("text/plain",`${u}`))};let St=at();function hr(u){if(!be()||typeof CSS>"u"||!CSS.highlights)return;CSS.highlights.clear();const E=u?.target?.value.trim().toLowerCase();if(!E)return;const R=document.createTreeWalker(g(St),NodeFilter.SHOW_TEXT,{acceptNode:Q=>Q?.textContent===Ke()?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT}),M=[];let Ie=R.nextNode();for(;Ie;)M.push(Ie),Ie=R.nextNode();const Me=M.map(Q=>{const K=Q.textContent?.toLowerCase(),he=[];let de=0;for(;K&&de<K.length;){const C=K.indexOf(E,de);if(C===-1)break;he.push(C),de=C+E.length}return he.map(C=>{const q=new Range;return q.setStart(Q,C),q.setEnd(Q,C+E.length),q})});CSS.highlights.set("sms-search-matches",new Highlight(...Me.flat()))}Xe(()=>te(F()),()=>{e(F())}),Xe(()=>te(r()),()=>{t(r())}),Xe(()=>(te(me()),te(x()),te(Z()),te(F()),te(D()),te(S())),()=>{ae(me().filter(u=>x()(u,Z())&&(!F().map(D()).includes(D()(u))||S())))}),Xe(()=>(te(ae()),te(c())),()=>{d(ae()[c()??-1]??null)}),Xe(()=>(te(F()),Fe),()=>{ne(h,u=>F().map(Fe).includes(u))}),Xe(()=>(te(xe()),te(T())),()=>{xe(),T()?.setCustomValidity("")}),lr(),sr();var He=fn();O("click",Ht,Vt),O("touchstart",Ht,Vt);let qt;var st=le(He);Bt(st,u=>T(u),()=>T());var zt=$(st,2);Oe(zt,n,"expand-icon",{get open(){return ke()}},u=>{Kr(u,{width:"15px",style:"min-width: 1em; padding: 0 1pt; cursor: pointer;"})});var bt=$(zt,2),Gt=le(bt);Et(Gt,11,F,(u,E)=>S()?[D()(u),E]:D()(u),(u,E,R)=>{var M=rn(),Ie=ze(()=>cr(g(R))),Me=ze(()=>fr(g(R)));let Q;var K=le(M);Oe(K,n,"selected",{get option(){return g(E)},get idx(){return g(R)}},C=>{var q=Re(),ue=Ee(q);Oe(ue,n,"default",{get option(){return g(E)},get idx(){return g(R)}},Be=>{var ve=Re(),ye=Ee(ve);{var ee=_e=>{var Ue=Re(),et=Ee(Ue);Zt(et,()=>Fe(g(E))),j(_e,Ue)},De=_e=>{var Ue=Tt();ie(et=>Ge(Ue,et),[()=>Fe(g(E))],fe),j(_e,Ue)};we(ye,_e=>{lt()?_e(ee):_e(De,!1)})}j(Be,ve)}),j(C,q)});var he=$(K,2);{var de=C=>{var q=tn(),ue=ze(()=>Pt(()=>J(g(E)))),Be=le(q);Oe(Be,n,"remove-icon",{},ve=>{nr(ve,{width:"15px"})}),ie(ve=>ce(q,"title",`${Qe()??""} ${ve??""}`),[()=>Fe(g(E))],fe),O("mouseup",q,Ve(()=>J(g(E)))),O("keydown",q,function(...ve){g(ue)?.apply(this,ve)}),j(C,q)};we(he,C=>{!k()&&(wt()===null||F().length>wt())&&C(de)})}ie((C,q)=>{Q=Ye(M,1,Yt(Ze()),"svelte-1r2hsto",Q,C),ce(M,"draggable",$e()&&!k()&&F().length>1),qe(M,`${q??""} ${ut()??""}`)},[()=>({active:g(Ot)===g(R)}),()=>ir(g(E),"selected")],fe),Fr(M,()=>Ar,()=>({duration:100})),O("dragstart",M,function(...C){g(Ie)?.apply(this,C)}),O("drop",M,Xt(function(...C){g(Me)?.apply(this,C)})),O("dragenter",M,()=>ne(Ot,g(R))),O("dragover",M,Xt(function(C){pe.call(this,n,C)})),j(u,M)});var V=$(Gt,2);Bt(V,u=>A(u),()=>A());var dr=$(V,2);Oe(dr,n,"after-input",{get selected(){return F()},get disabled(){return k()},get invalid(){return re()},get id(){return W()},get placeholder(){return ht()},get open(){return ke()},get required(){return xe()}},null);var Wt=$(bt,2);{var pr=u=>{var E=Re(),R=Ee(E);Oe(R,n,"spinner",{},M=>{Hr(M,{})}),j(u,E)};we(Wt,u=>{nt()&&u(pr)})}var Jt=$(Wt,2);{var gr=u=>{var E=Re(),R=Ee(E);Oe(R,n,"disabled-icon",{},M=>{en(M,{width:"14pt",style:"margin: 0 2pt;","data-name":"disabled-icon"})}),j(u,E)},mr=(u,E)=>{{var R=M=>{var Ie=sn(),Me=Ee(Ie);{var Q=de=>{Xr(de,{angle:20,get wiggle(){return g(i)},set wiggle(C){ne(i,C)},children:(C,q)=>{var ue=nn(),Be=le(ue);ie(ve=>{Ye(ue,1,`max-select-msg ${it()??""}`,"svelte-1r2hsto"),Ge(Be,ve)},[()=>X()?.(F().length,U())],fe),j(C,ue)},$$slots:{default:!0},$$legacy:!0})};we(Me,de=>{U()&&(U()>1||X())&&de(Q)})}var K=$(Me,2);{var he=de=>{var C=ln(),q=ze(()=>Pt(jt)),ue=le(C);Oe(ue,n,"remove-icon",{},Be=>{nr(Be,{width:"15px"})}),ie(()=>ce(C,"title",We())),O("mouseup",C,Ve(jt)),O("keydown",C,function(...Be){g(q)?.apply(this,Be)}),j(de,C)};we(K,de=>{U()!==1&&F().length>1&&de(he)})}j(M,Ie)};we(u,M=>{F().length>0&&M(R)},E)}};we(Jt,u=>{k()?u(gr):u(mr,!1)})}var yr=$(Jt,2);{var wr=u=>{var E=un();let R;var M=le(E);Et(M,1,()=>ae().slice(0,Math.max(0,Ne()??0)||1/0),Rt,(Q,K,he,de)=>{var C=on();const q=fe(()=>{const{label:ye,disabled:ee=null,title:De=null,selectedTitle:_e=null,disabledTitle:Ue=v()}=g(K)instanceof Object?g(K):{label:g(K)};return{label:ye,disabled:ee,title:De,selectedTitle:_e,disabledTitle:Ue}}),ue=fe(()=>c()===he);let Be;var ve=le(C);Oe(ve,n,"option",{get option(){return g(K)},idx:he},ye=>{var ee=Re(),De=Ee(ee);Oe(De,n,"default",{get option(){return g(K)},idx:he},_e=>{var Ue=Re(),et=Ee(Ue);{var Pe=ot=>{var gt=Re(),Ct=Ee(gt);Zt(Ct,()=>Fe(g(K))),j(ot,gt)},xt=ot=>{var gt=Tt();ie(Ct=>Ge(gt,Ct),[()=>Fe(g(K))],fe),j(ot,gt)};we(et,ot=>{lt()?ot(Pe):ot(xt,!1)})}j(_e,Ue)}),j(ye,ee)}),ie((ye,ee,De)=>{ce(C,"title",ye),Be=Ye(C,1,`${tt()??""} ${(g(ue)?ge():"")??""}`,"svelte-1r2hsto",Be,ee),qe(C,`${De??""} ${rt()??""}`)},[()=>g(q).disabled?g(q).disabledTitle:g(h)(g(q).label)&&g(q).selectedTitle||g(q).title,()=>({selected:g(h)(g(q).label),active:g(ue),disabled:g(q).disabled}),()=>ir(g(K),"option")],fe),O("mousedown",C,Ve(function(ye){pe.call(this,n,ye)})),O("mouseup",C,Ve(ye=>{g(q).disabled||N(g(K),ye)})),O("mouseover",C,()=>{g(q).disabled||c(he)}),O("focus",C,()=>{g(q).disabled||c(he)}),O("mouseout",C,()=>c(null)),O("blur",C,()=>c(null)),j(Q,C)});var Ie=$(M,2);{var Me=Q=>{var K=Re();const he=fe(()=>F().map(Fe).includes(Z())),de=fe(()=>!S()&&g(he)&&"dupe"),C=fe(()=>!!(p()&&y())&&"create"),q=fe(()=>!!(ae()?.length==0&&Ke())&&"no-match"),ue=fe(()=>g(de)||g(C)||g(q));var Be=Ee(K);{var ve=ye=>{var ee=an();const De=fe(()=>({dupe:_(),create:y(),"no-match":Ke()})[g(ue)]);let _e,Ue;var et=le(ee);Oe(et,n,"user-msg",{get searchText(){return Z()},get msgType(){return g(ue)},get msg(){return g(De)}},Pe=>{var xt=Tt();ie(()=>Ge(xt,g(De))),j(Pe,xt)}),ie(Pe=>{ce(ee,"title",y()),_e=Ye(ee,1,`user-msg ${ft()??""} ${(g(a)?je():"")??""}`,"svelte-1r2hsto",_e,Pe),Ue=qe(ee,"",Ue,{cursor:{dupe:"not-allowed",create:"pointer","no-match":"default"}[g(ue)]})},[()=>({active:g(a)})],fe),O("mousedown",ee,Ve(function(Pe){pe.call(this,n,Pe)})),O("mouseup",ee,Ve(Pe=>{p()&&N(Z(),Pe)})),O("mouseover",ee,()=>ne(a,!0)),O("focus",ee,()=>ne(a,!0)),O("mouseout",ee,()=>ne(a,!1)),O("blur",ee,()=>ne(a,!1)),j(ye,ee)};we(Be,ye=>{g(ue)&&ye(ve)})}j(Q,K)};we(Ie,Q=>{Z()&&Q(Me)})}Bt(E,Q=>ne(St,Q),()=>g(St)),ie(Q=>{R=Ye(E,1,`options ${pt()??""}`,"svelte-1r2hsto",R,Q),ce(E,"aria-multiselectable",U()===null||U()>1),ce(E,"aria-expanded",ke()),ce(E,"aria-disabled",k()?"true":null),qe(E,At())},[()=>({hidden:!ke()})],fe),j(u,E)};we(yr,u=>{(Z()&&Ke()||me()?.length>0)&&u(wr)})}Bt(He,u=>Te(u),()=>Te()),ie((u,E)=>{qt=Ye(He,1,`multiselect ${ct()??""}`,"svelte-1r2hsto",qt,u),ce(He,"title",k()?b():null),ce(He,"data-id",W()),qe(He,Ae()),ce(st,"name",yt()),st.required=xe(),_r(st,E),Ye(bt,1,`selected ${Ft()??""}`,"svelte-1r2hsto"),qe(bt,Le()),Ye(V,1,Yt(P()),"svelte-1r2hsto"),qe(V,Y()),ce(V,"id",W()),V.disabled=k(),ce(V,"autocomplete",I()),ce(V,"inputmode",oe()),ce(V,"pattern",Ut()),ce(V,"placeholder",F().length==0?ht():null),ce(V,"aria-invalid",re()?"true":null)},[()=>({disabled:k(),single:U()===1,open:ke(),invalid:re()}),()=>F().length>=Number(xe())?JSON.stringify(F()):null],fe),Er("innerWidth",u=>ne(f,u)),O("invalid",st,()=>{re(!0);let u;U()&&U()>1&&Number(xe())>1?u=`Please select between ${xe()} and ${U()} options`:Number(xe())>1?u=`Please select at least ${xe()} options`:u="Please select an option",T()?.setCustomValidity(u)}),or(V,Z),O("mouseup",V,Ir(Ve(z))),O("keydown",V,Ve(G)),O("focus",V,function(u){pe.call(this,n,u)}),O("focus",V,z),O("input",V,hr),O("drop",V,()=>!1),O("blur",V,function(u){pe.call(this,n,u)}),O("change",V,function(u){pe.call(this,n,u)}),O("click",V,function(u){pe.call(this,n,u)}),O("keydown",V,function(u){pe.call(this,n,u)}),O("keyup",V,function(u){pe.call(this,n,u)}),O("mousedown",V,function(u){pe.call(this,n,u)}),O("mouseenter",V,function(u){pe.call(this,n,u)}),O("mouseleave",V,function(u){pe.call(this,n,u)}),O("touchcancel",V,function(u){pe.call(this,n,u)}),O("touchend",V,function(u){pe.call(this,n,u)}),O("touchmove",V,function(u){pe.call(this,n,u)}),O("touchstart",V,function(u){pe.call(this,n,u)}),O("mouseup",He,Ve(z)),j(l,He),_t()}function hn(l=!0){const n=this,h=new IntersectionObserver(function([c]){const d=c.intersectionRatio;if(d<1){const y=d<=0&&l?"center":"nearest";n.scrollIntoView({block:y,inline:y})}this.disconnect()});return h.observe(n),h}typeof Element<"u"&&!Element.prototype?.scrollIntoViewIfNeeded&&typeof IntersectionObserver<"u"&&(Element.prototype.scrollIntoViewIfNeeded=hn);const Se=ar({file:null});var dn=se('<div> </div> <textarea class="h-100px bg-#33221166 shadow-#00000099 b-color-amber rounded-lg p-3 shadow-md"></textarea>',1),pn=se('<div class="px-6 py-2"><h2 class="m-0"> </h2> <div class="w-450px flex flex-col"></div></div>');function gn(l,n){It(n,!0);const h=ze(()=>Se.file?.entries[n.entryName]);var c=Re(),d=Ee(c);{var y=p=>{var o=pn(),I=le(o),B=le(I),w=$(I,2);Et(w,21,()=>n.languages,Rt,(v,k)=>{var b=dn(),_=Ee(b),S=le(_),D=$(_,2);ie(()=>Ge(S,g(k))),or(D,()=>g(h).strings[g(k)],x=>g(h).strings[g(k)]=x),j(v,b)}),ie(()=>Ge(B,g(h).name)),j(p,o)};we(d,p=>{g(h)!=null&&p(y)})}j(l,c),_t()}var mn=se('<div class="bg-amber-9 bg-op-25 z-100 fixed flex h-full w-full items-center justify-center"><div class="w-350px max-w-80% h-250px text-30px bg-#111 text-shadow-lg b-3px b-amber-4 rounded-30px b-dashed flex items-center justify-center font-bold shadow-lg">Drop file</div></div>'),yn=se('<div class="b-3 b-1px b-solid b-red-5 fixed bottom-8 right-8 z-50 flex items-center justify-center rounded-lg bg-red-950 px-5 py-3">Invalid file</div>'),wn=se('<label for="file" class="h-75 w-75 b-1 b-amber b-solid flex cursor-pointer flex-col items-center justify-center rounded-2xl p-8"><span class="i-lucide:file-scan h-25 w-25"></span> <span class="text-center font-bold">Select/Drop <br> *.msg.* file</span></label>'),bn=se('<h1 class="m-0"> </h1> <div class="flex items-center gap-6"><div> </div> <div> </div> <button class="b-solid b-1 b-amber cursor-pointer rounded-lg">Export as msg</button> <button class="b-solid b-1 b-amber cursor-pointer rounded-lg">Export as json</button></div> <div class="mb-4 mt-2"><!></div> <div class="flex h-full w-full flex-col items-center overflow-auto"></div>',1),xn=se('<input id="file" type="file" hidden> <div class="flex h-full w-full flex-col items-center justify-center"><!> <!> <!> <a target="_blank" rel="noopener" href="https://github.com/beeequeue/remsg-editor" class="text-#eee fixed bottom-2 flex items-center"><div class="i-simple-icons:github mr-1"></div> Made by beequeue</a></div>',1);function Bn(l,n){It(n,!0);const h=ze(()=>Object.values(Se.file?.entries??{}));let c=Nt(!1);Sr(()=>{g(c)&&setTimeout(()=>{ne(c,!1)},7500)});const d=ze(()=>{const A=Object.keys(g(h)[0].strings),P=Object.fromEntries(A.map(Y=>[Y,!1]));for(const Y of A)for(const oe of g(h))oe.strings[Y]==null||oe.strings[Y].length===0||(P[Y]=!0);return Object.entries(P).filter(([,Y])=>Y).map(([Y])=>Y)});let y=Nt(ar(["en"]));const p=async A=>{const P=A.target.files;if(P==null||P.length===0)return;const Y=P.item(0),oe=rr(Ce.Buffer.from(await Y.arrayBuffer())),re=Object.fromEntries(oe.entries.map(ge=>[ge.name,ge]));Se.file={name:Y.name,meta:oe.meta,entries:re}};let o=Nt(!1);const I=A=>{ne(o,!0),A.preventDefault()},B=()=>{ne(o,!1)},w=async A=>{A.preventDefault(),ne(c,!1);try{const P=A.dataTransfer.items[0].getAsFile(),Y=rr(Ce.Buffer.from(await P.arrayBuffer())),oe=Object.fromEntries(Y.entries.map(re=>[re.name,re]));Se.file={name:P.name,meta:Y.meta,entries:oe}}catch{ne(c,!0)}ne(o,!1)},v=A=>()=>{if(Se.file==null)return;const P=Object.values(Se.file.entries),Y={meta:Se.file.meta,entries:P};let oe;if(A==="msg"){const je=Wr(Y);oe=new Blob([je],{type:"application/octet-stream"})}else{const je=JSON.stringify(Y,null,2);oe=new Blob([je],{type:"application/json"})}const re=URL.createObjectURL(oe),ge=document.createElement("a");ge.href=re,ge.download=Se.file.name,A==="json"&&(ge.download+=".json"),ge.click(),URL.revokeObjectURL(re),ge.remove()};var k=xn(),b=Ee(k);b.__change=p;var _=$(b,2),S=le(_);{var D=A=>{var P=mn();Kt(3,P,()=>Qt,()=>({duration:100})),j(A,P)};we(S,A=>{g(o)&&A(D)})}var x=$(S,2);{var L=A=>{var P=yn();Kt(3,P,()=>Qt,()=>({duration:250})),j(A,P)};we(x,A=>{g(c)&&A(L)})}var T=$(x,2);{var be=A=>{var P=wn();j(A,P)},W=A=>{var P=bn(),Y=Ee(P),oe=le(Y),re=$(Y,2),ge=le(re),je=le(ge),tt=$(ge,2),rt=le(tt),Ze=$(tt,2),ut=ze(()=>v("msg"));Ze.__click=function(...X){g(ut)?.apply(this,X)};var ft=$(Ze,2),nt=ze(()=>v("json"));ft.__click=function(...X){g(nt)?.apply(this,X)};var ae=$(re,2),Ne=le(ae);cn(Ne,{placeholder:"Languages",get options(){return g(d)},outerDivClass:"w-300px min-h-32px b-color-amber",liOptionClass:"color-#eee bg-#333",get selected(){return g(y)},set selected(X){ne(y,X,!0)}});var U=$(ae,2);Et(U,21,()=>g(h),Rt,(X,it)=>{gn(X,{get entryName(){return g(it).name},get languages(){return g(y)}})}),ie(()=>{Ge(oe,Se.file.name),Ge(je,`Version ${Se.file.meta.version??""}`),Ge(rt,`${Se.file.meta.attributes.length??""} attributes`)}),j(A,P)};we(T,A=>{Se?.file==null?A(be):A(W,!1)})}O("drop",_,w),O("dragover",_,I),O("dragleave",_,B),j(l,k),_t()}Or(["change","click"]);Cr(Bn,{target:document.getElementById("root")});
