import{p,f as ue,t as ne,s as mt,a as M,b as en,c as Fi,d as Jn,e as tn,r as Zn,g as s,u as T,h as pe,i as ee,j as yt,S as ki,k as We,l as Qt,m as Ti,n as qe,o as Lr,q as Yn,v as Ce,w as P,x as vr,y as Vn,z as je,$ as _r,A as _n,B as K,C as V,D as $t,E as Mi,F as he,G as Dr,H as xr,I as me,J as se,K as Li,L as Di,M as at,N as Br,O as it,P as Ni,Q as Ri,R as Ir,T as _e,U as Pi,V as xn,W as ji,X as zi,Y as Nr,Z as Er,_ as Or,a0 as Gi}from"./svelte-Dy1OfNIp.js";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const g of document.querySelectorAll('link[rel="modulepreload"]'))y(g);new MutationObserver(g=>{for(const w of g)if(w.type==="childList")for(const b of w.addedNodes)b.tagName==="LINK"&&b.rel==="modulepreload"&&y(b)}).observe(document,{childList:!0,subtree:!0});function d(g){const w={};return g.integrity&&(w.integrity=g.integrity),g.referrerPolicy&&(w.referrerPolicy=g.referrerPolicy),g.crossOrigin==="use-credentials"?w.credentials="include":g.crossOrigin==="anonymous"?w.credentials="omit":w.credentials="same-origin",w}function y(g){if(g.ep)return;g.ep=!0;const w=d(g);fetch(g.href,w)}})();var qn={},Kt={},Sr;function Hi(){if(Sr)return Kt;Sr=1,Kt.byteLength=a,Kt.toByteArray=_,Kt.fromByteArray=J;for(var l=[],n=[],d=typeof Uint8Array<"u"?Uint8Array:Array,y="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",g=0,w=y.length;g<w;++g)l[g]=y[g],n[y.charCodeAt(g)]=g;n[45]=62,n[95]=63;function b(B){var C=B.length;if(C%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var L=B.indexOf("=");L===-1&&(L=C);var F=L===C?0:4-L%4;return[L,F]}function a(B){var C=b(B),L=C[0],F=C[1];return(L+F)*3/4-F}function v(B,C,L){return(C+L)*3/4-L}function _(B){var C,L=b(B),F=L[0],E=L[1],z=new d(v(B,F,E)),G=0,ve=E>0?F-4:F,re;for(re=0;re<ve;re+=4)C=n[B.charCodeAt(re)]<<18|n[B.charCodeAt(re+1)]<<12|n[B.charCodeAt(re+2)]<<6|n[B.charCodeAt(re+3)],z[G++]=C>>16&255,z[G++]=C>>8&255,z[G++]=C&255;return E===2&&(C=n[B.charCodeAt(re)]<<2|n[B.charCodeAt(re+1)]>>4,z[G++]=C&255),E===1&&(C=n[B.charCodeAt(re)]<<10|n[B.charCodeAt(re+1)]<<4|n[B.charCodeAt(re+2)]>>2,z[G++]=C>>8&255,z[G++]=C&255),z}function x(B){return l[B>>18&63]+l[B>>12&63]+l[B>>6&63]+l[B&63]}function A(B,C,L){for(var F,E=[],z=C;z<L;z+=3)F=(B[z]<<16&16711680)+(B[z+1]<<8&65280)+(B[z+2]&255),E.push(x(F));return E.join("")}function J(B){for(var C,L=B.length,F=L%3,E=[],z=16383,G=0,ve=L-F;G<ve;G+=z)E.push(A(B,G,G+z>ve?ve:G+z));return F===1?(C=B[L-1],E.push(l[C>>2]+l[C<<4&63]+"==")):F===2&&(C=(B[L-2]<<8)+B[L-1],E.push(l[C>>10]+l[C>>4&63]+l[C<<2&63]+"=")),E.join("")}return Kt}var Bn={};var Ar;function Vi(){return Ar||(Ar=1,Bn.read=function(l,n,d,y,g){var w,b,a=g*8-y-1,v=(1<<a)-1,_=v>>1,x=-7,A=d?g-1:0,J=d?-1:1,B=l[n+A];for(A+=J,w=B&(1<<-x)-1,B>>=-x,x+=a;x>0;w=w*256+l[n+A],A+=J,x-=8);for(b=w&(1<<-x)-1,w>>=-x,x+=y;x>0;b=b*256+l[n+A],A+=J,x-=8);if(w===0)w=1-_;else{if(w===v)return b?NaN:(B?-1:1)*(1/0);b=b+Math.pow(2,y),w=w-_}return(B?-1:1)*b*Math.pow(2,w-y)},Bn.write=function(l,n,d,y,g,w){var b,a,v,_=w*8-g-1,x=(1<<_)-1,A=x>>1,J=g===23?Math.pow(2,-24)-Math.pow(2,-77):0,B=y?0:w-1,C=y?1:-1,L=n<0||n===0&&1/n<0?1:0;for(n=Math.abs(n),isNaN(n)||n===1/0?(a=isNaN(n)?1:0,b=x):(b=Math.floor(Math.log(n)/Math.LN2),n*(v=Math.pow(2,-b))<1&&(b--,v*=2),b+A>=1?n+=J/v:n+=J*Math.pow(2,1-A),n*v>=2&&(b++,v/=2),b+A>=x?(a=0,b=x):b+A>=1?(a=(n*v-1)*Math.pow(2,g),b=b+A):(a=n*Math.pow(2,A-1)*Math.pow(2,g),b=0));g>=8;l[d+B]=a&255,B+=C,a/=256,g-=8);for(b=b<<g|a,_+=g;_>0;l[d+B]=b&255,B+=C,b/=256,_-=8);l[d+B-C]|=L*128}),Bn}var Ur;function qi(){return Ur||(Ur=1,(function(l){const n=Hi(),d=Vi(),y=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;l.Buffer=a,l.SlowBuffer=z,l.INSPECT_MAX_BYTES=50;const g=2147483647;l.kMaxLength=g,a.TYPED_ARRAY_SUPPORT=w(),!a.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function w(){try{const r=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(r,e),r.foo()===42}catch{return!1}}Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}});function b(r){if(r>g)throw new RangeError('The value "'+r+'" is invalid for option "size"');const e=new Uint8Array(r);return Object.setPrototypeOf(e,a.prototype),e}function a(r,e,t){if(typeof r=="number"){if(typeof e=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return A(r)}return v(r,e,t)}a.poolSize=8192;function v(r,e,t){if(typeof r=="string")return J(r,e);if(ArrayBuffer.isView(r))return C(r);if(r==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof r);if(Ae(r,ArrayBuffer)||r&&Ae(r.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Ae(r,SharedArrayBuffer)||r&&Ae(r.buffer,SharedArrayBuffer)))return L(r,e,t);if(typeof r=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const o=r.valueOf&&r.valueOf();if(o!=null&&o!==r)return a.from(o,e,t);const u=F(r);if(u)return u;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof r[Symbol.toPrimitive]=="function")return a.from(r[Symbol.toPrimitive]("string"),e,t);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof r)}a.from=function(r,e,t){return v(r,e,t)},Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array);function _(r){if(typeof r!="number")throw new TypeError('"size" argument must be of type number');if(r<0)throw new RangeError('The value "'+r+'" is invalid for option "size"')}function x(r,e,t){return _(r),r<=0?b(r):e!==void 0?typeof t=="string"?b(r).fill(e,t):b(r).fill(e):b(r)}a.alloc=function(r,e,t){return x(r,e,t)};function A(r){return _(r),b(r<0?0:E(r)|0)}a.allocUnsafe=function(r){return A(r)},a.allocUnsafeSlow=function(r){return A(r)};function J(r,e){if((typeof e!="string"||e==="")&&(e="utf8"),!a.isEncoding(e))throw new TypeError("Unknown encoding: "+e);const t=G(r,e)|0;let o=b(t);const u=o.write(r,e);return u!==t&&(o=o.slice(0,u)),o}function B(r){const e=r.length<0?0:E(r.length)|0,t=b(e);for(let o=0;o<e;o+=1)t[o]=r[o]&255;return t}function C(r){if(Ae(r,Uint8Array)){const e=new Uint8Array(r);return L(e.buffer,e.byteOffset,e.byteLength)}return B(r)}function L(r,e,t){if(e<0||r.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(r.byteLength<e+(t||0))throw new RangeError('"length" is outside of buffer bounds');let o;return e===void 0&&t===void 0?o=new Uint8Array(r):t===void 0?o=new Uint8Array(r,e):o=new Uint8Array(r,e,t),Object.setPrototypeOf(o,a.prototype),o}function F(r){if(a.isBuffer(r)){const e=E(r.length)|0,t=b(e);return t.length===0||r.copy(t,0,0,e),t}if(r.length!==void 0)return typeof r.length!="number"||Ct(r.length)?b(0):B(r);if(r.type==="Buffer"&&Array.isArray(r.data))return B(r.data)}function E(r){if(r>=g)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+g.toString(16)+" bytes");return r|0}function z(r){return+r!=r&&(r=0),a.alloc(+r)}a.isBuffer=function(e){return e!=null&&e._isBuffer===!0&&e!==a.prototype},a.compare=function(e,t){if(Ae(e,Uint8Array)&&(e=a.from(e,e.offset,e.byteLength)),Ae(t,Uint8Array)&&(t=a.from(t,t.offset,t.byteLength)),!a.isBuffer(e)||!a.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let o=e.length,u=t.length;for(let f=0,h=Math.min(o,u);f<h;++f)if(e[f]!==t[f]){o=e[f],u=t[f];break}return o<u?-1:u<o?1:0},a.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(e.length===0)return a.alloc(0);let o;if(t===void 0)for(t=0,o=0;o<e.length;++o)t+=e[o].length;const u=a.allocUnsafe(t);let f=0;for(o=0;o<e.length;++o){let h=e[o];if(Ae(h,Uint8Array))f+h.length>u.length?(a.isBuffer(h)||(h=a.from(h)),h.copy(u,f)):Uint8Array.prototype.set.call(u,h,f);else if(a.isBuffer(h))h.copy(u,f);else throw new TypeError('"list" argument must be an Array of Buffers');f+=h.length}return u};function G(r,e){if(a.isBuffer(r))return r.length;if(ArrayBuffer.isView(r)||Ae(r,ArrayBuffer))return r.byteLength;if(typeof r!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof r);const t=r.length,o=arguments.length>2&&arguments[2]===!0;if(!o&&t===0)return 0;let u=!1;for(;;)switch(e){case"ascii":case"latin1":case"binary":return t;case"utf8":case"utf-8":return Se(r).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return t*2;case"hex":return t>>>1;case"base64":return Ne(r).length;default:if(u)return o?-1:Se(r).length;e=(""+e).toLowerCase(),u=!0}}a.byteLength=G;function ve(r,e,t){let o=!1;if((e===void 0||e<0)&&(e=0),e>this.length||((t===void 0||t>this.length)&&(t=this.length),t<=0)||(t>>>=0,e>>>=0,t<=e))return"";for(r||(r="utf8");;)switch(r){case"hex":return ut(this,e,t);case"utf8":case"utf-8":return Ut(this,e,t);case"ascii":return jt(this,e,t);case"latin1":case"binary":return zt(this,e,t);case"base64":return At(this,e,t);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return st(this,e,t);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(r+"").toLowerCase(),o=!0}}a.prototype._isBuffer=!0;function re(r,e,t){const o=r[e];r[e]=r[t],r[t]=o}a.prototype.swap16=function(){const e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)re(this,t,t+1);return this},a.prototype.swap32=function(){const e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)re(this,t,t+3),re(this,t+1,t+2);return this},a.prototype.swap64=function(){const e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)re(this,t,t+7),re(this,t+1,t+6),re(this,t+2,t+5),re(this,t+3,t+4);return this},a.prototype.toString=function(){const e=this.length;return e===0?"":arguments.length===0?Ut(this,0,e):ve.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(e){if(!a.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e?!0:a.compare(this,e)===0},a.prototype.inspect=function(){let e="";const t=l.INSPECT_MAX_BYTES;return e=this.toString("hex",0,t).replace(/(.{2})/g,"$1 ").trim(),this.length>t&&(e+=" ... "),"<Buffer "+e+">"},y&&(a.prototype[y]=a.prototype.inspect),a.prototype.compare=function(e,t,o,u,f){if(Ae(e,Uint8Array)&&(e=a.from(e,e.offset,e.byteLength)),!a.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(t===void 0&&(t=0),o===void 0&&(o=e?e.length:0),u===void 0&&(u=0),f===void 0&&(f=this.length),t<0||o>e.length||u<0||f>this.length)throw new RangeError("out of range index");if(u>=f&&t>=o)return 0;if(u>=f)return-1;if(t>=o)return 1;if(t>>>=0,o>>>=0,u>>>=0,f>>>=0,this===e)return 0;let h=f-u,R=o-t;const ce=Math.min(h,R),ie=this.slice(u,f),Q=e.slice(t,o);for(let Z=0;Z<ce;++Z)if(ie[Z]!==Q[Z]){h=ie[Z],R=Q[Z];break}return h<R?-1:R<h?1:0};function N(r,e,t,o,u){if(r.length===0)return-1;if(typeof t=="string"?(o=t,t=0):t>2147483647?t=2147483647:t<-2147483648&&(t=-2147483648),t=+t,Ct(t)&&(t=u?0:r.length-1),t<0&&(t=r.length+t),t>=r.length){if(u)return-1;t=r.length-1}else if(t<0)if(u)t=0;else return-1;if(typeof e=="string"&&(e=a.from(e,o)),a.isBuffer(e))return e.length===0?-1:j(r,e,t,o,u);if(typeof e=="number")return e=e&255,typeof Uint8Array.prototype.indexOf=="function"?u?Uint8Array.prototype.indexOf.call(r,e,t):Uint8Array.prototype.lastIndexOf.call(r,e,t):j(r,[e],t,o,u);throw new TypeError("val must be string, number or Buffer")}function j(r,e,t,o,u){let f=1,h=r.length,R=e.length;if(o!==void 0&&(o=String(o).toLowerCase(),o==="ucs2"||o==="ucs-2"||o==="utf16le"||o==="utf-16le")){if(r.length<2||e.length<2)return-1;f=2,h/=2,R/=2,t/=2}function ce(Q,Z){return f===1?Q[Z]:Q.readUInt16BE(Z*f)}let ie;if(u){let Q=-1;for(ie=t;ie<h;ie++)if(ce(r,ie)===ce(e,Q===-1?0:ie-Q)){if(Q===-1&&(Q=ie),ie-Q+1===R)return Q*f}else Q!==-1&&(ie-=ie-Q),Q=-1}else for(t+R>h&&(t=h-R),ie=t;ie>=0;ie--){let Q=!0;for(let Z=0;Z<R;Z++)if(ce(r,ie+Z)!==ce(e,Z)){Q=!1;break}if(Q)return ie}return-1}a.prototype.includes=function(e,t,o){return this.indexOf(e,t,o)!==-1},a.prototype.indexOf=function(e,t,o){return N(this,e,t,o,!0)},a.prototype.lastIndexOf=function(e,t,o){return N(this,e,t,o,!1)};function le(r,e,t,o){t=Number(t)||0;const u=r.length-t;o?(o=Number(o),o>u&&(o=u)):o=u;const f=e.length;o>f/2&&(o=f/2);let h;for(h=0;h<o;++h){const R=parseInt(e.substr(h*2,2),16);if(Ct(R))return h;r[t+h]=R}return h}function xe(r,e,t,o){return I(Se(e,r.length-t),r,t,o)}function De(r,e,t,o){return I(ln(e),r,t,o)}function ye(r,e,t,o){return I(Ne(e),r,t,o)}function ot(r,e,t,o){return I(W(e,r.length-t),r,t,o)}a.prototype.write=function(e,t,o,u){if(t===void 0)u="utf8",o=this.length,t=0;else if(o===void 0&&typeof t=="string")u=t,o=this.length,t=0;else if(isFinite(t))t=t>>>0,isFinite(o)?(o=o>>>0,u===void 0&&(u="utf8")):(u=o,o=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const f=this.length-t;if((o===void 0||o>f)&&(o=f),e.length>0&&(o<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");u||(u="utf8");let h=!1;for(;;)switch(u){case"hex":return le(this,e,t,o);case"utf8":case"utf-8":return xe(this,e,t,o);case"ascii":case"latin1":case"binary":return De(this,e,t,o);case"base64":return ye(this,e,t,o);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ot(this,e,t,o);default:if(h)throw new TypeError("Unknown encoding: "+u);u=(""+u).toLowerCase(),h=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function At(r,e,t){return e===0&&t===r.length?n.fromByteArray(r):n.fromByteArray(r.slice(e,t))}function Ut(r,e,t){t=Math.min(r.length,t);const o=[];let u=e;for(;u<t;){const f=r[u];let h=null,R=f>239?4:f>223?3:f>191?2:1;if(u+R<=t){let ce,ie,Q,Z;switch(R){case 1:f<128&&(h=f);break;case 2:ce=r[u+1],(ce&192)===128&&(Z=(f&31)<<6|ce&63,Z>127&&(h=Z));break;case 3:ce=r[u+1],ie=r[u+2],(ce&192)===128&&(ie&192)===128&&(Z=(f&15)<<12|(ce&63)<<6|ie&63,Z>2047&&(Z<55296||Z>57343)&&(h=Z));break;case 4:ce=r[u+1],ie=r[u+2],Q=r[u+3],(ce&192)===128&&(ie&192)===128&&(Q&192)===128&&(Z=(f&15)<<18|(ce&63)<<12|(ie&63)<<6|Q&63,Z>65535&&Z<1114112&&(h=Z))}}h===null?(h=65533,R=1):h>65535&&(h-=65536,o.push(h>>>10&1023|55296),h=56320|h&1023),o.push(h),u+=R}return Pt(o)}const wt=4096;function Pt(r){const e=r.length;if(e<=wt)return String.fromCharCode.apply(String,r);let t="",o=0;for(;o<e;)t+=String.fromCharCode.apply(String,r.slice(o,o+=wt));return t}function jt(r,e,t){let o="";t=Math.min(r.length,t);for(let u=e;u<t;++u)o+=String.fromCharCode(r[u]&127);return o}function zt(r,e,t){let o="";t=Math.min(r.length,t);for(let u=e;u<t;++u)o+=String.fromCharCode(r[u]);return o}function ut(r,e,t){const o=r.length;(!e||e<0)&&(e=0),(!t||t<0||t>o)&&(t=o);let u="";for(let f=e;f<t;++f)u+=On[r[f]];return u}function st(r,e,t){const o=r.slice(e,t);let u="";for(let f=0;f<o.length-1;f+=2)u+=String.fromCharCode(o[f]+o[f+1]*256);return u}a.prototype.slice=function(e,t){const o=this.length;e=~~e,t=t===void 0?o:~~t,e<0?(e+=o,e<0&&(e=0)):e>o&&(e=o),t<0?(t+=o,t<0&&(t=0)):t>o&&(t=o),t<e&&(t=e);const u=this.subarray(e,t);return Object.setPrototypeOf(u,a.prototype),u};function X(r,e,t){if(r%1!==0||r<0)throw new RangeError("offset is not uint");if(r+e>t)throw new RangeError("Trying to access beyond buffer length")}a.prototype.readUintLE=a.prototype.readUIntLE=function(e,t,o){e=e>>>0,t=t>>>0,o||X(e,t,this.length);let u=this[e],f=1,h=0;for(;++h<t&&(f*=256);)u+=this[e+h]*f;return u},a.prototype.readUintBE=a.prototype.readUIntBE=function(e,t,o){e=e>>>0,t=t>>>0,o||X(e,t,this.length);let u=this[e+--t],f=1;for(;t>0&&(f*=256);)u+=this[e+--t]*f;return u},a.prototype.readUint8=a.prototype.readUInt8=function(e,t){return e=e>>>0,t||X(e,1,this.length),this[e]},a.prototype.readUint16LE=a.prototype.readUInt16LE=function(e,t){return e=e>>>0,t||X(e,2,this.length),this[e]|this[e+1]<<8},a.prototype.readUint16BE=a.prototype.readUInt16BE=function(e,t){return e=e>>>0,t||X(e,2,this.length),this[e]<<8|this[e+1]},a.prototype.readUint32LE=a.prototype.readUInt32LE=function(e,t){return e=e>>>0,t||X(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+this[e+3]*16777216},a.prototype.readUint32BE=a.prototype.readUInt32BE=function(e,t){return e=e>>>0,t||X(e,4,this.length),this[e]*16777216+(this[e+1]<<16|this[e+2]<<8|this[e+3])},a.prototype.readBigUInt64LE=tt(function(e){e=e>>>0,Ze(e,"offset");const t=this[e],o=this[e+7];(t===void 0||o===void 0)&&_t(e,this.length-8);const u=t+this[++e]*2**8+this[++e]*2**16+this[++e]*2**24,f=this[++e]+this[++e]*2**8+this[++e]*2**16+o*2**24;return BigInt(u)+(BigInt(f)<<BigInt(32))}),a.prototype.readBigUInt64BE=tt(function(e){e=e>>>0,Ze(e,"offset");const t=this[e],o=this[e+7];(t===void 0||o===void 0)&&_t(e,this.length-8);const u=t*2**24+this[++e]*2**16+this[++e]*2**8+this[++e],f=this[++e]*2**24+this[++e]*2**16+this[++e]*2**8+o;return(BigInt(u)<<BigInt(32))+BigInt(f)}),a.prototype.readIntLE=function(e,t,o){e=e>>>0,t=t>>>0,o||X(e,t,this.length);let u=this[e],f=1,h=0;for(;++h<t&&(f*=256);)u+=this[e+h]*f;return f*=128,u>=f&&(u-=Math.pow(2,8*t)),u},a.prototype.readIntBE=function(e,t,o){e=e>>>0,t=t>>>0,o||X(e,t,this.length);let u=t,f=1,h=this[e+--u];for(;u>0&&(f*=256);)h+=this[e+--u]*f;return f*=128,h>=f&&(h-=Math.pow(2,8*t)),h},a.prototype.readInt8=function(e,t){return e=e>>>0,t||X(e,1,this.length),this[e]&128?(255-this[e]+1)*-1:this[e]},a.prototype.readInt16LE=function(e,t){e=e>>>0,t||X(e,2,this.length);const o=this[e]|this[e+1]<<8;return o&32768?o|4294901760:o},a.prototype.readInt16BE=function(e,t){e=e>>>0,t||X(e,2,this.length);const o=this[e+1]|this[e]<<8;return o&32768?o|4294901760:o},a.prototype.readInt32LE=function(e,t){return e=e>>>0,t||X(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},a.prototype.readInt32BE=function(e,t){return e=e>>>0,t||X(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},a.prototype.readBigInt64LE=tt(function(e){e=e>>>0,Ze(e,"offset");const t=this[e],o=this[e+7];(t===void 0||o===void 0)&&_t(e,this.length-8);const u=this[e+4]+this[e+5]*2**8+this[e+6]*2**16+(o<<24);return(BigInt(u)<<BigInt(32))+BigInt(t+this[++e]*2**8+this[++e]*2**16+this[++e]*2**24)}),a.prototype.readBigInt64BE=tt(function(e){e=e>>>0,Ze(e,"offset");const t=this[e],o=this[e+7];(t===void 0||o===void 0)&&_t(e,this.length-8);const u=(t<<24)+this[++e]*2**16+this[++e]*2**8+this[++e];return(BigInt(u)<<BigInt(32))+BigInt(this[++e]*2**24+this[++e]*2**16+this[++e]*2**8+o)}),a.prototype.readFloatLE=function(e,t){return e=e>>>0,t||X(e,4,this.length),d.read(this,e,!0,23,4)},a.prototype.readFloatBE=function(e,t){return e=e>>>0,t||X(e,4,this.length),d.read(this,e,!1,23,4)},a.prototype.readDoubleLE=function(e,t){return e=e>>>0,t||X(e,8,this.length),d.read(this,e,!0,52,8)},a.prototype.readDoubleBE=function(e,t){return e=e>>>0,t||X(e,8,this.length),d.read(this,e,!1,52,8)};function U(r,e,t,o,u,f){if(!a.isBuffer(r))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>u||e<f)throw new RangeError('"value" argument is out of bounds');if(t+o>r.length)throw new RangeError("Index out of range")}a.prototype.writeUintLE=a.prototype.writeUIntLE=function(e,t,o,u){if(e=+e,t=t>>>0,o=o>>>0,!u){const R=Math.pow(2,8*o)-1;U(this,e,t,o,R,0)}let f=1,h=0;for(this[t]=e&255;++h<o&&(f*=256);)this[t+h]=e/f&255;return t+o},a.prototype.writeUintBE=a.prototype.writeUIntBE=function(e,t,o,u){if(e=+e,t=t>>>0,o=o>>>0,!u){const R=Math.pow(2,8*o)-1;U(this,e,t,o,R,0)}let f=o-1,h=1;for(this[t+f]=e&255;--f>=0&&(h*=256);)this[t+f]=e/h&255;return t+o},a.prototype.writeUint8=a.prototype.writeUInt8=function(e,t,o){return e=+e,t=t>>>0,o||U(this,e,t,1,255,0),this[t]=e&255,t+1},a.prototype.writeUint16LE=a.prototype.writeUInt16LE=function(e,t,o){return e=+e,t=t>>>0,o||U(this,e,t,2,65535,0),this[t]=e&255,this[t+1]=e>>>8,t+2},a.prototype.writeUint16BE=a.prototype.writeUInt16BE=function(e,t,o){return e=+e,t=t>>>0,o||U(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=e&255,t+2},a.prototype.writeUint32LE=a.prototype.writeUInt32LE=function(e,t,o){return e=+e,t=t>>>0,o||U(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=e&255,t+4},a.prototype.writeUint32BE=a.prototype.writeUInt32BE=function(e,t,o){return e=+e,t=t>>>0,o||U(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=e&255,t+4};function bt(r,e,t,o,u){sn(e,o,u,r,t,7);let f=Number(e&BigInt(4294967295));r[t++]=f,f=f>>8,r[t++]=f,f=f>>8,r[t++]=f,f=f>>8,r[t++]=f;let h=Number(e>>BigInt(32)&BigInt(4294967295));return r[t++]=h,h=h>>8,r[t++]=h,h=h>>8,r[t++]=h,h=h>>8,r[t++]=h,t}function nn(r,e,t,o,u){sn(e,o,u,r,t,7);let f=Number(e&BigInt(4294967295));r[t+7]=f,f=f>>8,r[t+6]=f,f=f>>8,r[t+5]=f,f=f>>8,r[t+4]=f;let h=Number(e>>BigInt(32)&BigInt(4294967295));return r[t+3]=h,h=h>>8,r[t+2]=h,h=h>>8,r[t+1]=h,h=h>>8,r[t]=h,t+8}a.prototype.writeBigUInt64LE=tt(function(e,t=0){return bt(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeBigUInt64BE=tt(function(e,t=0){return nn(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeIntLE=function(e,t,o,u){if(e=+e,t=t>>>0,!u){const ce=Math.pow(2,8*o-1);U(this,e,t,o,ce-1,-ce)}let f=0,h=1,R=0;for(this[t]=e&255;++f<o&&(h*=256);)e<0&&R===0&&this[t+f-1]!==0&&(R=1),this[t+f]=(e/h>>0)-R&255;return t+o},a.prototype.writeIntBE=function(e,t,o,u){if(e=+e,t=t>>>0,!u){const ce=Math.pow(2,8*o-1);U(this,e,t,o,ce-1,-ce)}let f=o-1,h=1,R=0;for(this[t+f]=e&255;--f>=0&&(h*=256);)e<0&&R===0&&this[t+f+1]!==0&&(R=1),this[t+f]=(e/h>>0)-R&255;return t+o},a.prototype.writeInt8=function(e,t,o){return e=+e,t=t>>>0,o||U(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=e&255,t+1},a.prototype.writeInt16LE=function(e,t,o){return e=+e,t=t>>>0,o||U(this,e,t,2,32767,-32768),this[t]=e&255,this[t+1]=e>>>8,t+2},a.prototype.writeInt16BE=function(e,t,o){return e=+e,t=t>>>0,o||U(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=e&255,t+2},a.prototype.writeInt32LE=function(e,t,o){return e=+e,t=t>>>0,o||U(this,e,t,4,2147483647,-2147483648),this[t]=e&255,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},a.prototype.writeInt32BE=function(e,t,o){return e=+e,t=t>>>0,o||U(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=e&255,t+4},a.prototype.writeBigInt64LE=tt(function(e,t=0){return bt(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),a.prototype.writeBigInt64BE=tt(function(e,t=0){return nn(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function rn(r,e,t,o,u,f){if(t+o>r.length)throw new RangeError("Index out of range");if(t<0)throw new RangeError("Index out of range")}function vt(r,e,t,o,u){return e=+e,t=t>>>0,u||rn(r,e,t,4),d.write(r,e,t,o,23,4),t+4}a.prototype.writeFloatLE=function(e,t,o){return vt(this,e,t,!0,o)},a.prototype.writeFloatBE=function(e,t,o){return vt(this,e,t,!1,o)};function ge(r,e,t,o,u){return e=+e,t=t>>>0,u||rn(r,e,t,8),d.write(r,e,t,o,52,8),t+8}a.prototype.writeDoubleLE=function(e,t,o){return ge(this,e,t,!0,o)},a.prototype.writeDoubleBE=function(e,t,o){return ge(this,e,t,!1,o)},a.prototype.copy=function(e,t,o,u){if(!a.isBuffer(e))throw new TypeError("argument should be a Buffer");if(o||(o=0),!u&&u!==0&&(u=this.length),t>=e.length&&(t=e.length),t||(t=0),u>0&&u<o&&(u=o),u===o||e.length===0||this.length===0)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(o<0||o>=this.length)throw new RangeError("Index out of range");if(u<0)throw new RangeError("sourceEnd out of bounds");u>this.length&&(u=this.length),e.length-t<u-o&&(u=e.length-t+o);const f=u-o;return this===e&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(t,o,u):Uint8Array.prototype.set.call(e,this.subarray(o,u),t),f},a.prototype.fill=function(e,t,o,u){if(typeof e=="string"){if(typeof t=="string"?(u=t,t=0,o=this.length):typeof o=="string"&&(u=o,o=this.length),u!==void 0&&typeof u!="string")throw new TypeError("encoding must be a string");if(typeof u=="string"&&!a.isEncoding(u))throw new TypeError("Unknown encoding: "+u);if(e.length===1){const h=e.charCodeAt(0);(u==="utf8"&&h<128||u==="latin1")&&(e=h)}}else typeof e=="number"?e=e&255:typeof e=="boolean"&&(e=Number(e));if(t<0||this.length<t||this.length<o)throw new RangeError("Out of range index");if(o<=t)return this;t=t>>>0,o=o===void 0?this.length:o>>>0,e||(e=0);let f;if(typeof e=="number")for(f=t;f<o;++f)this[f]=e;else{const h=a.isBuffer(e)?e:a.from(e,u),R=h.length;if(R===0)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(f=0;f<o-t;++f)this[f+t]=h[f%R]}return this};const ze={};function et(r,e,t){ze[r]=class extends t{constructor(){super(),Object.defineProperty(this,"message",{value:e.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${r}]`,this.stack,delete this.name}get code(){return r}set code(u){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:u,writable:!0})}toString(){return`${this.name} [${r}]: ${this.message}`}}}et("ERR_BUFFER_OUT_OF_BOUNDS",function(r){return r?`${r} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),et("ERR_INVALID_ARG_TYPE",function(r,e){return`The "${r}" argument must be of type number. Received type ${typeof e}`},TypeError),et("ERR_OUT_OF_RANGE",function(r,e,t){let o=`The value of "${r}" is out of range.`,u=t;return Number.isInteger(t)&&Math.abs(t)>2**32?u=on(String(t)):typeof t=="bigint"&&(u=String(t),(t>BigInt(2)**BigInt(32)||t<-(BigInt(2)**BigInt(32)))&&(u=on(u)),u+="n"),o+=` It must be ${e}. Received ${u}`,o},RangeError);function on(r){let e="",t=r.length;const o=r[0]==="-"?1:0;for(;t>=o+4;t-=3)e=`_${r.slice(t-3,t)}${e}`;return`${r.slice(0,t)}${e}`}function Gt(r,e,t){Ze(e,"offset"),(r[e]===void 0||r[e+t]===void 0)&&_t(e,r.length-(t+1))}function sn(r,e,t,o,u,f){if(r>t||r<e){const h=typeof e=="bigint"?"n":"";let R;throw e===0||e===BigInt(0)?R=`>= 0${h} and < 2${h} ** ${(f+1)*8}${h}`:R=`>= -(2${h} ** ${(f+1)*8-1}${h}) and < 2 ** ${(f+1)*8-1}${h}`,new ze.ERR_OUT_OF_RANGE("value",R,r)}Gt(o,u,f)}function Ze(r,e){if(typeof r!="number")throw new ze.ERR_INVALID_ARG_TYPE(e,"number",r)}function _t(r,e,t){throw Math.floor(r)!==r?(Ze(r,t),new ze.ERR_OUT_OF_RANGE("offset","an integer",r)):e<0?new ze.ERR_BUFFER_OUT_OF_BOUNDS:new ze.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${e}`,r)}const En=/[^+/0-9A-Za-z-_]/g;function ct(r){if(r=r.split("=")[0],r=r.trim().replace(En,""),r.length<2)return"";for(;r.length%4!==0;)r=r+"=";return r}function Se(r,e){e=e||1/0;let t;const o=r.length;let u=null;const f=[];for(let h=0;h<o;++h){if(t=r.charCodeAt(h),t>55295&&t<57344){if(!u){if(t>56319){(e-=3)>-1&&f.push(239,191,189);continue}else if(h+1===o){(e-=3)>-1&&f.push(239,191,189);continue}u=t;continue}if(t<56320){(e-=3)>-1&&f.push(239,191,189),u=t;continue}t=(u-55296<<10|t-56320)+65536}else u&&(e-=3)>-1&&f.push(239,191,189);if(u=null,t<128){if((e-=1)<0)break;f.push(t)}else if(t<2048){if((e-=2)<0)break;f.push(t>>6|192,t&63|128)}else if(t<65536){if((e-=3)<0)break;f.push(t>>12|224,t>>6&63|128,t&63|128)}else if(t<1114112){if((e-=4)<0)break;f.push(t>>18|240,t>>12&63|128,t>>6&63|128,t&63|128)}else throw new Error("Invalid code point")}return f}function ln(r){const e=[];for(let t=0;t<r.length;++t)e.push(r.charCodeAt(t)&255);return e}function W(r,e){let t,o,u;const f=[];for(let h=0;h<r.length&&!((e-=2)<0);++h)t=r.charCodeAt(h),o=t>>8,u=t%256,f.push(u),f.push(o);return f}function Ne(r){return n.toByteArray(ct(r))}function I(r,e,t,o){let u;for(u=0;u<o&&!(u+t>=e.length||u>=r.length);++u)e[u+t]=r[u];return u}function Ae(r,e){return r instanceof e||r!=null&&r.constructor!=null&&r.constructor.name!=null&&r.constructor.name===e.name}function Ct(r){return r!==r}const On=(function(){const r="0123456789abcdef",e=new Array(256);for(let t=0;t<16;++t){const o=t*16;for(let u=0;u<16;++u)e[o+u]=r[t]+r[u]}return e})();function tt(r){return typeof BigInt>"u"?Sn:r}function Sn(){throw new Error("BigInt not supported")}})(qn)),qn}var Je=qi();const Wi=["ja","en","fr","it","de","es","ru","pl","nl","pt","pt-br","ko","zh-tw","zh-cn","fi","sv","da","no","cs","hu","sk","ar","tr","bg","el","ro","th","uk","vi","id","fiction","hi","es-mx","max"],Rr=[207,206,251,248,236,10,51,102,147,169,29,147,80,57,95,9],Ji=l=>{const n=Je.Buffer.from(l);let d=0;for(let y=0;y<n.length;y++){const g=n[y];n[y]=g^d^Rr[y&15],d=g}return n},Zi=l=>{const n=Je.Buffer.from(l);let d=0;for(let y=0;y<n.length;y++)n[y]=n[y]^d^Rr[y&15],d=n[y];return n},Yi=l=>{const n=l.toString("hex");return[n.slice(6,8)+n.slice(4,6)+n.slice(2,4)+n.slice(0,2),n.slice(10,12)+n.slice(8,10),n.slice(14,16)+n.slice(12,14),n.slice(16,18)+n.slice(18,20),n.slice(20,32)].join("-")},Ki=l=>{const n=l.replaceAll("-","");return Je.Buffer.from([n.slice(6,8)+n.slice(4,6)+n.slice(2,4)+n.slice(0,2),n.slice(10,12)+n.slice(8,10),n.slice(14,16)+n.slice(12,14),n.slice(16,18)+n.slice(18,20),n.slice(20,32)].join(""),"hex")},Xi=(l,n)=>{if(l.length===0)return new Map;const d=l.toString("utf16le");if(d[d.length-1]!=="\0")throw new Error("String is not null-terminated");const y=new Map;let g=0;for(let w=0;w<d.length;w++)d[w]==="\0"&&(y.set(n+g*2,d.slice(g,w)),g=w+1);return y},Qi=(l,n)=>{let d=0;const y=new Map,g=v=>{if(y.has(v))return y.get("str");const _=n+d;return y.set(v,_),d+=v.length*2+2,_},w=[],b=[];for(let v=0;v<l.meta.attributes.length;v++){const _=l.meta.attributes[v];_.type===-1?(g(""),w.push(v)):_.type===2&&(g(_.name),b.push(v))}for(let v=0;v<l.meta.attributes.length;v++){const _=l.meta.attributes[v];g(_.name)}for(const v of l.entries){g(v.name);for(const _ of Object.values(v.strings))g(_);for(const _ of b)g(v.attributes[_])}let a=Je.Buffer.alloc(0);for(const v of y.keys()){const _=Je.Buffer.from(`${v}\0`,"utf16le");a=Je.Buffer.concat([a,_])}return{map:y,nullAttributes:w,stringAttributes:b,data:a}};var $i=class{#t;#e=0;#n=!0;constructor(l){this.#t=l}get currentOffset(){return this.#e}endianness(l){this.#n=l==="little"}seek(l){const n=this.#e;return this.#e+=l,n}goto(l){const n=this.#e;return this.#e=l,n}alignTo(l){this.#e+=this.#e%l}readInt8(l){const n=new DataView(this.#t.buffer,this.#t.byteOffset+(l?.pointer??this.#e),1);return l?.pointer==null&&(this.#e+=1),n.getInt8(0)}readUint8(l){const n=new DataView(this.#t.buffer,this.#t.byteOffset+(l?.pointer??this.#e),1);return l?.pointer==null&&(this.#e+=1),n.getUint8(0)}readInt16(l){const n=new DataView(this.#t.buffer,this.#t.byteOffset+(l?.pointer??this.#e),2);return l?.pointer==null&&(this.#e+=2),n.getInt16(0,this.#n)}readUint16(l){const n=new DataView(this.#t.buffer,this.#t.byteOffset+(l?.pointer??this.#e),2);return l?.pointer==null&&(this.#e+=2),n.getUint16(0,this.#n)}readInt32(l){const n=new DataView(this.#t.buffer,this.#t.byteOffset+(l?.pointer??this.#e),4);return l?.pointer==null&&(this.#e+=4),n.getInt32(0,this.#n)}readUint32(l){const n=new DataView(this.#t.buffer,this.#t.byteOffset+(l?.pointer??this.#e),4);return l?.pointer==null&&(this.#e+=4),n.getUint32(0,this.#n)}readInt64(l){const n=new DataView(this.#t.buffer,this.#t.byteOffset+(l?.pointer??this.#e),8);return l?.pointer==null&&(this.#e+=8),n.getBigInt64(0,this.#n)}readUint64(l){const n=new DataView(this.#t.buffer,this.#t.byteOffset+(l?.pointer??this.#e),8);return l?.pointer==null&&(this.#e+=8),n.getBigUint64(0,this.#n)}readFloat(l){const n=new DataView(this.#t.buffer,this.#t.byteOffset+(l?.pointer??this.#e),4);return l?.pointer==null&&(this.#e+=4),n.getFloat32(0,this.#n)}readDouble(l){const n=new DataView(this.#t.buffer,this.#t.byteOffset+(l?.pointer??this.#e),8);return l?.pointer==null&&(this.#e+=8),n.getFloat64(0,this.#n)}readBuffer(l){const n=this.#t.subarray(this.#e,this.#e+l.length);return l.pointer==null&&(this.#e+=l.length),n}readString(l){let n;if("length"in l&&(n=this.readBuffer(l)),"zeroed"in l){const d=new DataView(this.#t.buffer,this.#t.byteOffset+this.#e);let y=0;for(;d.getUint8(y)!==0;)y++;n=this.#t.subarray(this.#e,this.#e+y),this.#e+=y+1}return n.toString(l.encoding??"utf8")}},eo=class{#t;#e=0;#n=!0;constructor(l=0){this.#t=Je.Buffer.alloc(l)}get currentOffset(){return this.#e}get currentSize(){return this.#t.length}get buffer(){const l=Je.Buffer.alloc(this.#t.length);return this.#t.copy(l),l}endianness(l){this.#n=l==="little"}grow(l){this.#t=Je.Buffer.concat([this.#t,Je.Buffer.alloc(l)])}growIfNeeded(l){this.#e+l>this.#t.length&&this.grow(this.#e+l-this.#t.length)}seek(l){const n=this.#e;return this.growIfNeeded(l),this.#e+=l,n}goto(l){const n=this.#e;return this.growIfNeeded(this.currentOffset-l),this.#e=l,n}alignTo(l){const n=this.#e%l;n!==0&&(this.growIfNeeded(l-n),this.#e+=l-n)}#r=(l,n,d)=>(y,g)=>{(g?.into==null||g.into+l>this.#t.length)&&this.growIfNeeded(l),this.#t[!this.#n&&d!=null?d:n](y,g?.into??this.#e,l),g?.into==null&&(this.#e+=l)};setInt8=this.#r(1,"writeInt8");setUint8=this.#r(1,"writeUInt8");setInt16=this.#r(2,"writeInt16LE","writeInt16BE");setUint16=this.#r(2,"writeUInt16LE","writeUInt16BE");setInt32=this.#r(4,"writeInt32LE","writeInt32BE");setUint32=this.#r(4,"writeUInt32LE","writeUInt32BE");setInt64=this.#r(8,"writeBigInt64LE","writeBigInt64BE");setUint64=this.#r(8,"writeBigUInt64LE","writeBigUInt64BE");setFloat=this.#r(4,"writeFloatLE","writeFloatBE");setDouble=this.#r(8,"writeDoubleLE","writeDoubleBE");setString(l,n){const d=Je.Buffer.from(`${l}\0`,n?.encoding??"utf8");this.growIfNeeded(d.byteLength),d.copy(this.#t,n?.into??this.#e),n?.into==null&&(this.#e+=d.byteLength)}setBuffer(l,n){this.growIfNeeded(l.length),l.copy(this.#t,n?.into??this.#e),n?.into==null&&(this.#e+=l.length)}};const to=l=>({version:l.readUint32(),magic:l.readString({length:4}),headerOffset:l.readUint64(),entryCount:l.readUint32(),attributeCount:l.readUint32(),langCount:l.readUint32(),_:l.alignTo(8),dataOffset:l.readUint64(),_2:l.seek(8),langOffset:l.readUint64(),attributesOffset:l.readUint64(),attributeNamesOffset:l.readUint64()}),Cr=l=>{const n=new $i(l),d=to(n),y=[];if(d.magic!=="GMSG")throw new Error(`Invalid magic: ${d.magic}`);if(d.version!==539100710&&d.version!==23)throw new Error(`Uknkown version: ${d.version}`);const g=[];for(let a=0;a<d.entryCount;a++)g.push(n.readUint64());n.seek(8);const w=[];for(let a=0;a<d.langCount;a++)w.push(Wi[n.readInt32()]??"unknown");if(n.alignTo(8),Number(d.attributesOffset)!==n.currentOffset)throw new Error(`Attributes offset mismatch: ${d.attributesOffset} != ${n.currentOffset}`);const b=[];for(let a=0;a<d.attributeCount;a++)b.push({type:n.readInt32(),nameOffset:null,name:null});if(n.alignTo(8),Number(d.attributeNamesOffset)!==n.currentOffset)throw new Error(`Attribute names offset mismatch: ${d.attributeNamesOffset} != ${n.currentOffset}`);for(let a=0;a<d.attributeCount;a++)b[a].nameOffset=n.readUint64();if(d.entryCount!==0){for(let v=0;v<d.entryCount;v++){if(Number(g[v])!==n.currentOffset)throw new Error(`Entry header offset mismatch: $${n.currentOffset} != entry:${v}:${g[v]}`);const _={id:Yi(n.readBuffer({length:16})),crc:n.readUint32(),hash:n.readUint32(),nameOffset:n.readUint64(),attributesOffset:n.readUint64(),contentOffsetsByLang:[]};for(let x=0;x<d.langCount;x++)_.contentOffsetsByLang.push(n.readUint64());y.push({header:_})}for(let v=0;v<d.entryCount;v++){const _=y[v];if(Number(_.header.attributesOffset)!==n.currentOffset)throw new Error(`Entry header attributes offset mismatch: $${n.currentOffset} != entry:${v}:${_.header.attributesOffset}`);_.attributes=[];for(let x=0;x<b.length;x++){const A=b[x];switch(A.type){case-1:_.attributes[x]=Number(n.readUint64());break;case 0:_.attributes[x]=n.readUint32(),n.seek(4);break;case 1:_.attributes[x]=n.readDouble();break;case 2:_.attributes[x]=Number(n.readUint64());break;default:throw new Error(`Not implemented attribute type ${A.type}`)}}}if(Number(d.dataOffset)!==n.currentOffset)throw new Error(`Data offset mismatch: $${d.dataOffset} != ${n.currentOffset}`);const a=Xi(Ji(l.subarray(n.currentOffset)),n.currentOffset);for(let v=0;v<b.length;v++){const _=b[v];_.name=a.get(Number(_.nameOffset))}for(let v=0;v<y.length;v++){const _=y[v];for(let x=0;x<d.attributeCount;x++)switch(b[x].type){case 2:_.attributes[x]=a.get(_.attributes[x]);break;case-1:if(_.attributes[x]=a.get(_.attributes[x]),_.attributes[x]!==""&&_.attributes[x]!=="\0")throw new Error(`Attribute with type -1 is not empty string: "${_.attributes[x]}"`);break}}for(let v=0;v<y.length;v++){const _=y[v];_.name=a.get(Number(_.header.nameOffset)),_.strings={};for(let x=0;x<_.header.contentOffsetsByLang.length;x++){const A=Number(_.header.contentOffsetsByLang[x]);_.strings[w[x]]=a.get(A)}}}return{meta:{version:d.version,attributes:b.map(a=>({type:a.type,name:a.name}))},entries:y.map(a=>({meta:{id:a.header.id,crc:a.header.crc,hash:a.header.hash},name:a.name,attributes:a.attributes,strings:a.strings}))}},no=l=>{if(l.meta.version!==539100710&&l.meta.version!==23)throw new Error(`Unsupported version ${l.meta.version}`);const n=new eo;n.setUint32(l.meta.version),n.setString("GMSG"),n.setUint64(16n),n.setUint32(l.entries.length),n.setUint32(l.meta.attributes.length);const d=l.entries[0]!=null?Object.keys(l.entries[0].strings).length:0;n.setUint32(d),n.alignTo(8);const y=n.currentOffset;n.setInt64(-1n);const g=n.currentOffset;n.setInt64(-1n);const w=n.currentOffset;n.setInt64(-1n);const b=n.currentOffset;n.setInt64(-1n);const a=n.currentOffset;n.setInt64(-1n);const v=[];for(let E=0;E<l.entries.length;E++)v.push(n.currentOffset),n.setInt64(-1n);n.setUint64(BigInt(n.currentOffset),{into:g}),n.setUint64(0n),n.setUint64(BigInt(n.currentOffset),{into:w});for(let E=0;E<d;E++)n.setInt32(E);n.alignTo(8),n.setUint64(BigInt(n.currentOffset),{into:b});for(const E of l.meta.attributes)n.setInt32(E.type);n.alignTo(8),n.setUint64(BigInt(n.currentOffset),{into:a});const _=[];for(const E of l.meta.attributes)_.push(n.currentOffset),n.setInt64(-1n);const x=[];for(let E=0;E<l.entries.length;E++){n.setUint64(BigInt(n.currentOffset),{into:v[E]});const z=l.entries[E];n.setBuffer(Ki(z.meta.id)),n.setUint32(z.meta.crc),n.setUint32(z.meta.hash),x[E]??={},x[E].name=n.currentOffset,n.setInt64(-1n),x[E].attributes=n.currentOffset,n.setInt64(-1n),x[E].langs=[];for(let G=0;G<d;G++)x[E].langs[G]=n.currentOffset,n.setInt64(-1n);x[E].attributeValues=[]}for(let E=0;E<l.entries.length;E++){const z=l.entries[E];n.setUint64(BigInt(n.currentOffset),{into:x[E].attributes});for(let G=0;G<l.meta.attributes.length;G++){switch(l.meta.attributes[G].type){case-1:n.setInt64(-1n);break;case 0:n.setInt32(z.attributes[G]);break;case 1:n.setDouble(z.attributes[G]);break;case 2:n.setInt64(-1n);break}x[E].attributeValues[G]=n.currentOffset}}const A=n.currentOffset;n.setUint64(BigInt(A),{into:y});const{data:J,map:B,nullAttributes:C,stringAttributes:L}=Qi(l,A),F=Zi(J);n.setBuffer(F);for(let E=0;E<l.meta.attributes.length;E++){const{name:z}=l.meta.attributes[E],G=_[E];n.setUint64(BigInt(B.get(z)),{into:G})}for(let E=0;E<l.entries.length;E++){const z=l.entries[E],G=x[E];n.setUint64(BigInt(B.get(z.name)),{into:G.name});const ve=Object.values(z.strings);for(let N=0;N<ve.length;N++){const j=ve[N];n.setUint64(BigInt(B.get(j)),{into:G.langs[N]})}for(const N of L){const j=z.attributes[N];n.setUint64(BigInt(B.get(j)),{into:G.attributeValues[N]})}const re=B.get("");for(const N of C)n.setUint64(BigInt(re),{into:G.attributeValues[N]})}return n.buffer};let ro=0;function io(){return globalThis.crypto?.randomUUID?globalThis.crypto.randomUUID():(Date.now().toString(16)+(ro++).toString(16)).padStart(32,"0").replace(/(.{8})(.{4})(.{4})(.{4})(.{12})/,"$1-$2-$3-$4-$5")}const In=l=>typeof l=="object"&&l!==null,Fr=l=>In(l)&&typeof l.group=="string",Ve=l=>{if(In(l)){if(l.label===void 0){const n=JSON.stringify(l);console.error("MultiSelect: option is an object but has no label key",n)}return l.label}return`${l}`};function kr(l,n=null){n===void 0&&(n=null);let d="";if(n===null||n==="selected"||n==="option"||console.error(`MultiSelect: Invalid key=${n} for get_style`),typeof l=="object"&&l.style&&(typeof l.style=="string"&&(d=l.style),typeof l.style=="object")){if(n&&n in l.style)return l.style[n]??"";console.error("MultiSelect: invalid style object for option",l)}return d.trim()&&!d.trim().endsWith(";")&&(d+=";"),d}function Tr(l,n){if(l==null||n===null||n===void 0)return!1;if(!l)return!0;if(!n)return!1;const[d,y]=[l.toLowerCase(),n.toLowerCase()];let[g,w]=[0,0];for(;g<d.length&&w<y.length;)d[g]===y[w]&&g++,w++;return g===d.length}const oo=l=>n=>{const{query:d="",disabled:y=!1,fuzzy:g=!1,node_filter:w=()=>NodeFilter.FILTER_ACCEPT,css_class:b="highlight-match"}=l;if(typeof CSS>"u"||!CSS.highlights||(CSS.highlights.delete(b),!d||y))return;const a=document.createTreeWalker(n,NodeFilter.SHOW_TEXT,{acceptNode:w}),v=[];let _=a.nextNode();for(;_;)v.push(_),_=a.nextNode();const x=v.map(A=>{const J=A.textContent?.toLowerCase();if(!J)return[];const B=d.toLowerCase();if(g){const C=[];let L=0,F=0;for(;L<B.length&&F<J.length;)B[L]===J[F]&&(C.push(F),L++),F++;return L===B.length?C.map(E=>{const z=new Range;return z.setStart(A,E),z.setEnd(A,E+1),z}):[]}else{const C=[];let L=0;for(;L<J.length;){const F=J.indexOf(B,L);if(F===-1)break;C.push(F),L=F+B.length}return C.map(F=>{const E=new Range;return E.setStart(A,F),E.setEnd(A,F+B.length),E})}});return CSS.highlights.set(b,new Highlight(...x.flat())),()=>CSS.highlights.delete(b)};var so=ue('<div class="svelte-17xccz8"></div>');function Mr(l,n){let d=p(n,"color",19,()=>"cornflowerblue"),y=p(n,"duration",19,()=>"1.5s"),g=p(n,"size",19,()=>"1em");var w=so();let b;ne(()=>b=mt(w,`--duration: ${y()??""}`,b,{"border-color":`${d()??""} transparent ${d()??""}
  ${d()??""}`,width:g(),height:g()})),M(l,w)}const Wn={Alert:{viewBox:"0 0 16 16",path:"M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"},Check:{viewBox:"0 0 12 16",path:"M12 5l-8 8l-4-4l1.5-1.5L4 10l6.5-6.5L12 5z"},ChevronExpand:{viewBox:"0 0 16 16",path:"M3.646 9.146a.5.5 0 0 1 .708 0L8 12.793l3.646-3.647a.5.5 0 0 1 .708.708l-4 4a.5.5 0 0 1-.708 0l-4-4a.5.5 0 0 1 0-.708zm0-2.292a.5.5 0 0 0 .708 0L8 3.207l3.646 3.647a.5.5 0 0 0 .708-.708l-4-4a.5.5 0 0 0-.708 0l-4 4a.5.5 0 0 0 0 .708z"},ChevronRight:{viewBox:"0 0 16 16",path:"M4.646 1.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1 0 .708l-6 6a.5.5 0 0 1-.708-.708L10.293 8L4.646 2.354a.5.5 0 0 1 0-.708z"},ChevronDown:{viewBox:"0 0 16 16",path:"M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z"},Collapse:{viewBox:"0 0 24 24",path:"M12 7.59L7.05 2.64L5.64 4.05L12 10.41l6.36-6.36l-1.41-1.41L12 7.59zM5.64 19.95l1.41 1.41L12 16.41l4.95 4.95l1.41-1.41L12 13.59l-6.36 6.36z"},Copy:{viewBox:"0 0 16 16",path:"M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"},Cross:{viewBox:"0 0 24 24",path:"M18.3 5.71a.996.996 0 0 0-1.41 0L12 10.59L7.11 5.7A.996.996 0 1 0 5.7 7.11L10.59 12L5.7 16.89a.996.996 0 1 0 1.41 1.41L12 13.41l4.89 4.89a.996.996 0 1 0 1.41-1.41L13.41 12l4.89-4.89c.38-.38.38-1.02 0-1.4z"},Disabled:{viewBox:"0 0 24 24",path:"M12 22c5.523 0 10-4.477 10-10S17.523 2 12 2S2 6.477 2 12s4.477 10 10 10Zm-4.906-3.68L18.32 7.094A8 8 0 0 1 7.094 18.32ZM5.68 16.906A8 8 0 0 1 16.906 5.68L5.68 16.906Z"},Expand:{viewBox:"0 0 24 24",path:"m12 19.24l-4.95-4.95l-1.41 1.42L12 22.07l6.36-6.36l-1.41-1.42L12 19.24zM5.64 8.29l1.41 1.42L12 4.76l4.95 4.95l1.41-1.42L12 1.93L5.64 8.29z"},GitHub:{viewBox:"0 0 24 24",path:"M8.422 20.081c0 .896.01 1.753.016 2.285a.617.617 0 0 0 .422.58c2.078.686 4.317.718 6.414.091l.292-.087a.67.67 0 0 0 .478-.638c.005-.733.017-2.017.017-3.53c0-1.372-.477-2.25-1.031-2.707c3.399-.366 6.97-1.61 6.97-7.227c0-1.61-.592-2.91-1.566-3.934c.153-.366.688-1.866-.153-3.878c0 0-1.28-.403-4.201 1.5a14.76 14.76 0 0 0-3.82-.494c-1.298 0-2.597.165-3.819.494C5.52.65 4.24 1.036 4.24 1.036c-.84 2.012-.306 3.512-.153 3.878a5.565 5.565 0 0 0-1.566 3.934c0 5.598 3.552 6.86 6.951 7.227c-.439.366-.84 1.006-.973 1.957c-.879.384-3.075 1.006-4.45-1.207c-.286-.44-1.146-1.519-2.349-1.5c-1.28.018-.516.695.02.97c.648.347 1.393 1.646 1.565 2.067c.306.823 1.299 2.396 5.137 1.72Z"},StackBlitz:{viewBox:"0 0 24 24",path:"M10.797 14.182H3.635L16.728 0l-3.525 9.818h7.162L7.272 24l3.524-9.818Z"},Svelte:{viewBox:"0 0 24 24",path:"M10.354 21.125a4.44 4.44 0 0 1-4.765-1.767a4.109 4.109 0 0 1-.703-3.107a3.898 3.898 0 0 1 .134-.522l.105-.321l.287.21a7.21 7.21 0 0 0 2.186 1.092l.208.063l-.02.208a1.253 1.253 0 0 0 .226.83a1.337 1.337 0 0 0 1.435.533a1.231 1.231 0 0 0 .343-.15l5.59-3.562a1.164 1.164 0 0 0 .524-.778a1.242 1.242 0 0 0-.211-.937a1.338 1.338 0 0 0-1.435-.533a1.23 1.23 0 0 0-.343.15l-2.133 1.36a4.078 4.078 0 0 1-1.135.499a4.44 4.44 0 0 1-4.765-1.766a4.108 4.108 0 0 1-.702-3.108a3.855 3.855 0 0 1 1.742-2.582l5.589-3.563a4.072 4.072 0 0 1 1.135-.499a4.44 4.44 0 0 1 4.765 1.767a4.109 4.109 0 0 1 .703 3.107a3.943 3.943 0 0 1-.134.522l-.105.321l-.286-.21a7.204 7.204 0 0 0-2.187-1.093l-.208-.063l.02-.207a1.255 1.255 0 0 0-.226-.831a1.337 1.337 0 0 0-1.435-.532a1.231 1.231 0 0 0-.343.15L8.62 9.368a1.162 1.162 0 0 0-.524.778a1.24 1.24 0 0 0 .211.937a1.338 1.338 0 0 0 1.435.533a1.235 1.235 0 0 0 .344-.151l2.132-1.36a4.067 4.067 0 0 1 1.135-.498a4.44 4.44 0 0 1 4.765 1.766a4.108 4.108 0 0 1 .702 3.108a3.857 3.857 0 0 1-1.742 2.583l-5.589 3.562a4.072 4.072 0 0 1-1.135.499m10.358-17.95C18.484-.015 14.082-.96 10.9 1.068L5.31 4.63a6.412 6.412 0 0 0-2.896 4.295a6.753 6.753 0 0 0 .666 4.336a6.43 6.43 0 0 0-.96 2.396a6.833 6.833 0 0 0 1.168 5.167c2.229 3.19 6.63 4.135 9.812 2.108l5.59-3.562a6.41 6.41 0 0 0 2.896-4.295a6.756 6.756 0 0 0-.665-4.336a6.429 6.429 0 0 0 .958-2.396a6.831 6.831 0 0 0-1.167-5.168Z"}};var lo=Fi("<svg><path></path></svg>");function Xt(l,n){en(n,!0);let d=Zn(n,["$$slots","$$events","$$legacy","icon"]);const y=T(()=>n.icon in Wn?Wn[n.icon]:(console.error(`Icon '${n.icon}' not found`),Wn.Alert));var g=lo();Jn(g,()=>({viewBox:s(y).viewBox,fill:"currentColor",...d}),void 0,void 0,void 0,"svelte-1dquu72");var w=ee(g);ne(()=>pe(w,"d",s(y).path)),M(l,g),tn()}var ao=ue("<span><!></span>");function uo(l,n){en(n,!0);let d=p(n,"wiggle",15,!1),y=p(n,"angle",3,0),g=p(n,"scale",3,1),w=p(n,"dx",3,0),b=p(n,"dy",3,0),a=p(n,"duration",3,200),v=p(n,"spring_options",27,()=>yt({stiffness:.05,damping:.1})),_=Zn(n,["$$slots","$$events","$$legacy","wiggle","angle","scale","dx","dy","duration","spring_options","children"]);const x=ki.of(()=>d()?{scale:g(),angle:y(),dx:w(),dy:b()}:{angle:0,scale:1,dx:0,dy:0},v());We(()=>{x.stiffness=v().stiffness,x.damping=v().damping}),Qt(()=>{d()&&setTimeout(()=>d(!1),a())});var A=ao();Jn(A,()=>({..._,[Ti]:{display:"inline-block",transform:`rotate(${x.current.angle??""}deg) scale(${x.current.scale??""})
  translate(${x.current.dx??""}px, ${x.current.dy??""}px)`}}));var J=ee(A);qe(J,()=>n.children??Lr),M(l,A),tn()}var co=ue('<button type="button" class="remove svelte-1u9e7i4"><!></button>'),fo=ue('<li role="option" aria-selected="true"><!> <!></li>'),ho=ue("<span> </span>"),po=ue('<button type="button" class="remove remove-all svelte-1u9e7i4"><!></button>'),go=ue("<!> <!>",1),mo=ue('<li role="option" aria-selected="false" tabindex="0"> </li>'),yo=ue('<button type="button"> </button>'),wo=ue('<span class="group-label svelte-1u9e7i4"> </span> <span class="group-count svelte-1u9e7i4"><!></span> <!> <!>',1),bo=ue("<li><!></li>"),vo=ue('<input type="checkbox" class="option-checkbox svelte-1u9e7i4" tabindex="-1"/>'),_o=ue('<li role="option"><!> <!></li>'),xo=ue("<!> <!>",1),Bo=ue('<li role="option" aria-selected="false"><!></li>'),Io=ue('<li class="loading-more svelte-1u9e7i4" role="status" aria-label="Loading more options"><!></li>'),Eo=ue('<ul role="listbox"><!> <!> <!> <!></ul>'),Oo=ue('<div role="searchbox" tabindex="-1"><input tabindex="-1" aria-hidden="true" aria-label="ignore this, used only to prevent form submission if select is required but empty" class="form-control svelte-1u9e7i4"/> <span class="expand-icon svelte-1u9e7i4"><!></span> <ul aria-label="selected options"><!> <input/> <!></ul> <!> <!> <!> <div class="sr-only svelte-1u9e7i4" aria-live="polite" aria-atomic="true"><!></div></div>');function So(l,n){en(n,!0);let d=p(n,"activeIndex",15,null),y=p(n,"activeOption",15,null),g=p(n,"createOptionMsg",19,()=>"Create this option..."),w=p(n,"allowUserOptions",3,!1),b=p(n,"allowEmpty",3,!1),a=p(n,"autocomplete",19,()=>"off"),v=p(n,"autoScroll",3,!0),_=p(n,"breakpoint",3,800),x=p(n,"defaultDisabledTitle",19,()=>"This option is disabled"),A=p(n,"disabled",3,!1),J=p(n,"disabledInputTitle",19,()=>"This input is disabled"),B=p(n,"duplicateOptionMsg",19,()=>"This option is already selected"),C=p(n,"duplicates",3,!1),L=p(n,"keepSelectedInDropdown",3,!1),F=p(n,"key",3,i=>`${Ve(i)}`.toLowerCase()),E=p(n,"filterFunc",3,(i,c)=>{if(!c)return!0;const m=`${Ve(i)}`;return z()?Tr(c,m):m.toLowerCase().includes(c.toLowerCase())}),z=p(n,"fuzzy",3,!0),G=p(n,"closeDropdownOnSelect",3,!1),ve=p(n,"form_input",15,null),re=p(n,"highlightMatches",3,!0),N=p(n,"id",3,null),j=p(n,"input",15,null),le=p(n,"inputClass",19,()=>""),xe=p(n,"inputStyle",3,null),De=p(n,"inputmode",3,null),ye=p(n,"invalid",15,!1),ot=p(n,"liActiveOptionClass",19,()=>""),At=p(n,"liActiveUserMsgClass",19,()=>""),Ut=p(n,"liOptionClass",19,()=>""),wt=p(n,"liOptionStyle",3,null),Pt=p(n,"liSelectedClass",19,()=>""),jt=p(n,"liSelectedStyle",3,null),zt=p(n,"liUserMsgClass",19,()=>""),ut=p(n,"loading",3,!1),st=p(n,"matchingOptions",31,()=>yt([])),X=p(n,"maxOptions",3,void 0),U=p(n,"maxSelect",11,null),bt=p(n,"maxSelectMsg",3,(i,c)=>c>1?`${i}/${c}`:""),nn=p(n,"maxSelectMsgClass",19,()=>""),rn=p(n,"name",3,null),vt=p(n,"noMatchingOptionsMsg",19,()=>"No matching options"),ge=p(n,"open",15,!1),ze=p(n,"options",15),et=p(n,"outerDiv",15,null),on=p(n,"outerDivClass",19,()=>""),Gt=p(n,"parseLabelsAsHtml",3,!1),sn=p(n,"pattern",3,null),Ze=p(n,"placeholder",3,null),_t=p(n,"removeAllTitle",19,()=>"Remove all"),En=p(n,"removeBtnTitle",19,()=>"Remove"),ct=p(n,"minSelect",3,null),Se=p(n,"required",7,!1),ln=p(n,"resetFilterOnAdd",3,!0),W=p(n,"searchText",31,()=>""),Ne=p(n,"value",15,null),I=p(n,"selected",31,()=>yt(Ne()!==null&&Ne()!==void 0?Array.isArray(Ne())?Ne():[Ne()]:ze()?.filter(i=>typeof i=="object"&&i!==null&&i?.preselected).slice(0,U()??void 0)??[])),Ae=p(n,"sortSelected",3,!1),Ct=p(n,"selectedOptionsDraggable",19,()=>!Ae()),On=p(n,"style",3,null),tt=p(n,"ulOptionsClass",19,()=>""),Sn=p(n,"ulSelectedClass",19,()=>""),r=p(n,"ulSelectedStyle",3,null),e=p(n,"ulOptionsStyle",3,null),t=p(n,"portal",19,()=>({})),o=p(n,"selectAllOption",3,!1),u=p(n,"liSelectAllClass",19,()=>""),f=p(n,"selectedFlipParams",19,()=>({duration:100})),h=p(n,"collapsibleGroups",3,!1),R=p(n,"collapsedGroups",31,()=>yt(new Set)),ce=p(n,"groupSelectAll",3,!1),ie=p(n,"ungroupedPosition",19,()=>"first"),Q=p(n,"groupSortOrder",19,()=>"none"),Z=p(n,"searchExpandsCollapsedGroups",3,!1),Pr=p(n,"searchMatchesGroups",3,!1),jr=p(n,"keyboardExpandsCollapsedGroups",3,!1),zr=p(n,"stickyGroupHeaders",3,!1),Gr=p(n,"liGroupHeaderClass",19,()=>""),Hr=p(n,"liGroupHeaderStyle",3,null),Vr=p(n,"collapseAllGroups",15),qr=p(n,"expandAllGroups",15),Wr=p(n,"shortcuts",19,()=>({})),an=p(n,"history",3,!0),Kn=p(n,"undo",15),Xn=p(n,"redo",15),Qn=p(n,"canUndo",15,!1),$n=p(n,"canRedo",15,!1),Jr=Zn(n,["$$slots","$$events","$$legacy","activeIndex","activeOption","createOptionMsg","allowUserOptions","allowEmpty","autocomplete","autoScroll","breakpoint","defaultDisabledTitle","disabled","disabledInputTitle","duplicateOptionMsg","duplicates","keepSelectedInDropdown","key","filterFunc","fuzzy","closeDropdownOnSelect","form_input","highlightMatches","id","input","inputClass","inputStyle","inputmode","invalid","liActiveOptionClass","liActiveUserMsgClass","liOptionClass","liOptionStyle","liSelectedClass","liSelectedStyle","liUserMsgClass","loading","matchingOptions","maxOptions","maxSelect","maxSelectMsg","maxSelectMsgClass","name","noMatchingOptionsMsg","open","options","outerDiv","outerDivClass","parseLabelsAsHtml","pattern","placeholder","removeAllTitle","removeBtnTitle","minSelect","required","resetFilterOnAdd","searchText","value","selected","sortSelected","selectedOptionsDraggable","style","ulOptionsClass","ulSelectedClass","ulSelectedStyle","ulOptionsStyle","expandIcon","selectedItem","children","removeIcon","afterInput","spinner","disabledIcon","option","userMsg","onblur","onclick","onfocus","onkeydown","onkeyup","onmousedown","onmouseenter","onmouseleave","ontouchcancel","ontouchend","ontouchmove","ontouchstart","onadd","oncreate","onremove","onremoveAll","onchange","onopen","onclose","onselectAll","onreorder","portal","selectAllOption","liSelectAllClass","loadOptions","selectedFlipParams","collapsibleGroups","collapsedGroups","groupSelectAll","ungroupedPosition","groupSortOrder","searchExpandsCollapsedGroups","searchMatchesGroups","keyboardExpandsCollapsedGroups","stickyGroupHeaders","liGroupHeaderClass","liGroupHeaderStyle","groupHeader","ongroupToggle","oncollapseAll","onexpandAll","onsearch","onmaxreached","onduplicate","onactivate","collapseAllGroups","expandAllGroups","shortcuts","history","undo","redo","canUndo","canRedo","onundo","onredo"]);const An=T(()=>N()??`sms-${io().slice(0,8)}`),er=T(()=>`${s(An)}-listbox`);function Zr(i){const c=i.toLowerCase().split("+").map(H=>H.trim()),m=c.pop()??"",S=c.includes("ctrl"),k=c.includes("shift"),O=c.includes("alt"),D=c.includes("meta")||c.includes("cmd");return{key:m,ctrl:S,shift:k,alt:O,meta:D}}function Yr(i,c){if(!c)return!1;const m=Zr(c);if(!m.key)return!1;const S=i.key.toLowerCase()===m.key,k=i.ctrlKey===m.ctrl,O=i.shiftKey===m.shift,D=i.altKey===m.alt,H=i.metaKey===m.meta;return S&&k&&O&&D&&H}const un=typeof navigator<"u"&&/Mac|iPhone|iPad|iPod/.test(navigator.userAgent)?"meta":"ctrl",Kr={select_all:`${un}+a`,clear_all:`${un}+shift+a`,open:null,close:null,undo:`${un}+z`,redo:`${un}+shift+z`},Xr=T(()=>({...Kr,...Wr()})),ft=T(()=>{if(!n.loadOptions)return null;const i=typeof n.loadOptions=="function";return{fetch:i?n.loadOptions:n.loadOptions.fetch,debounce_ms:i?300:n.loadOptions.debounceMs??300,batch_size:i?50:n.loadOptions.batchSize??50,on_open:i?!0:n.loadOptions.onOpen??!0}});function Un(i,c){if(i===c)return!0;const m=i==null||Array.isArray(i)&&i.length===0,S=c==null||Array.isArray(c)&&c.length===0;return m&&S?!0:Array.isArray(i)&&Array.isArray(c)?i.length===c.length&&i.every((k,O)=>k===c[O]):!1}Qt(()=>{const i=U()===1?I()[0]??null:I();Un(Vn(()=>Ne()),i)||Ne(i)}),Qt(()=>{const i=U()===1?Ne()?[Ne()]:[]:Array.isArray(Ne())?Ne():[];Un(Vn(()=>I()),i)||I(i)});let Cn=Ce(!1),cn=Ce(!1),Ye=Ce(null);We(()=>{if(s(Ye)){const i=setTimeout(()=>P(Ye,null),1e3);return()=>clearTimeout(i)}});const xt=T(()=>an()===!0?50:typeof an()=="number"&&Number.isFinite(an())?Math.max(0,Math.floor(an())):0);let Be=Ce(yt([])),Fe=Ce(-1),dt=null;We(()=>{if(!(s(xt)>0)){P(Be,[],!0),P(Fe,-1),dt=null;return}if(dt===null){dt=[...I()];return}if(!Un(I(),dt)){if(s(Be).length===0&&(P(Be,[[...dt]],!0),P(Fe,0)),s(Fe)<s(Be).length-1&&P(Be,s(Be).slice(0,s(Fe)+1),!0),P(Be,[...s(Be),[...I()]],!0),P(Fe,s(Be).length-1),s(Be).length>s(xt)){const c=s(Be).length-s(xt);P(Be,s(Be).slice(c),!0),P(Fe,Math.max(0,s(Fe)-c),!0)}dt=[...I()]}}),We(()=>{Qn(s(xt)>0&&!A()&&s(Fe)>0),$n(s(xt)>0&&!A()&&s(Fe)<s(Be).length-1)}),Kn(()=>{if(s(xt)<=0||A()||s(Fe)<=0)return!1;const i=[...I()];return vr(Fe,-1),I([...s(Be)[s(Fe)]]),dt=[...I()],n.onundo?.({previous:i,current:I()}),!0}),Xn(()=>{if(s(xt)<=0||A()||s(Fe)>=s(Be).length-1)return!1;const i=[...I()];return vr(Fe),I([...s(Be)[s(Fe)]]),dt=[...I()],n.onredo?.({previous:i,current:I()}),!0});let Fn=null,tr=!1;We(()=>{const i=W();if(!tr){tr=!0;return}if(n.onsearch)return Fn=setTimeout(()=>{n.onsearch?.({searchText:i,matchingCount:st().length})},150),()=>{Fn&&clearTimeout(Fn)}});let ht=Ce(yt([])),Ht=Ce(!0),Ft=Ce(!1),fn=Ce(null),kt=null,pt=T(()=>n.loadOptions?s(ht):ze()??[]),Qr=T(()=>I().map(F())),kn=T(()=>I().map(Ve)),Bt=T(()=>new Set(s(Qr))),nr=T(()=>new Set(s(kn))),$r=T(()=>new Set(s(pt).filter(i=>In(i)&&i.disabled).map(F())));const ei=i=>s($r).has(F()(i));let Vt=T(()=>{const i=new Br,c=[];for(const k of st())if(Fr(k)){const O=i.get(k.group);O?O.push(k):i.set(k.group,[k])}else c.push(k);let m=[...i.entries()].map(([k,O])=>({group:k,options:O,collapsed:R().has(k)}));if(Q()&&Q()!=="none"&&(m=m.toSorted((k,O)=>{if(typeof Q()=="function")return Q()(k.group,O.group);const D=k.group.localeCompare(O.group);return Q()==="desc"?-D:D})),c.length===0)return m;const S={group:null,options:c,collapsed:!1};return ie()==="first"?[S,...m]:[...m,S]}),ke=T(()=>s(Vt).flatMap(({options:i,collapsed:c})=>c&&h()?[]:i)),rr=T(()=>new Map(s(ke).map((i,c)=>[i,c]))),ti=T(()=>{const i=new Br;for(const{group:c,options:m,collapsed:S}of s(Vt)){if(c===null)continue;const k=Dn(m,S),O=k.length>0&&k.every(H=>s(Bt).has(F()(H)));let D=0;if(L())for(const H of m)s(Bt).has(F()(H))&&D++;i.set(c,{all_selected:O,selected_count:D})}return i});function dn(i,c){const m=typeof c=="string"?[c]:[...c];if(i==="set")R(new xr(m));else{const S=new xr(R());for(const k of m)S[i](k);R(S)}}function ni(i){const c=R().has(i);dn(c?"delete":"add",i),n.ongroupToggle?.({group:i,collapsed:!c})}Vr(()=>{const i=s(Vt).map(c=>c.group).filter(c=>c!==null);i.length!==0&&(dn("set",i),n.oncollapseAll?.({groups:i}))}),qr(()=>{const i=[...R()];i.length!==0&&(dn("set",[]),n.onexpandAll?.({groups:i}))});function ir(i){if(i.length!==0){dn("delete",i);for(const c of i)n.ongroupToggle?.({group:c,collapsed:!1})}}const or=()=>s(Vt).flatMap(({group:i,collapsed:c,options:m})=>i&&c&&m.length>0?[i]:[]);We(()=>{Z()&&W()&&h()&&ir(or())});const sr=T(()=>typeof Ze()=="string"?Ze():Ze()?.text??null),ri=T(()=>typeof Ze()=="object"&&Ze()?.persistent===!0);function lr(i){return Ae()===!0?i.toSorted((c,m)=>`${Ve(c)}`.localeCompare(`${Ve(m)}`)):typeof Ae()=="function"?i.toSorted(Ae()):i}Vn(()=>{!n.loadOptions&&!((ze()?.length??0)>0)&&(w()||ut()||A()||b()?ze([]):console.error("MultiSelect: received no options"))}),U()!==null&&U()<1&&console.error(`MultiSelect: maxSelect must be null or positive integer, got ${U()}`),Array.isArray(I())||console.error(`MultiSelect: selected prop should always be an array, got ${I()}`),We(()=>{U()&&typeof Se()=="number"&&Se()>U()&&console.error(`MultiSelect: maxSelect=${U()} < required=${Se()}, makes it impossible for users to submit a valid form`),Gt()&&w()&&console.warn("MultiSelect: don't combine parseLabelsAsHtml and allowUserOptions. It's susceptible to XSS attacks!"),Ae()&&Ct()&&console.warn("MultiSelect: sortSelected and selectedOptionsDraggable should not be combined as any user re-orderings of selected options will be undone by sortSelected on component re-renders."),w()&&!g()&&g()!==null&&console.error(`MultiSelect: allowUserOptions=${w()} but createOptionMsg=${g()} is falsy. This prevents the "Add option" <span> from showing up, resulting in a confusing user experience.`),X()&&(typeof X()!="number"||X()<0||X()%1!=0)&&console.error(`MultiSelect: maxOptions must be undefined or a positive integer, got ${X()}`)});let nt=Ce(!1),Tn=Ce(0);const ii=(i,c)=>E()(i,c)?!0:Pr()&&c&&Fr(i)?z()?Tr(c,i.group):i.group.toLowerCase().includes(c.toLowerCase()):!1;Qt(()=>{st(s(pt).filter(i=>!s(Bt).has(F()(i))||C()||L()?n.loadOptions||ii(i,W()):!1))}),We(()=>{d()!==null&&!s(ke)[d()]&&d(null)}),We(()=>{y(s(ke)[d()??-1]??null)});const oi=T(()=>d()!==null&&d()<s(ke).length?`${s(An)}-opt-${d()}`:void 0),hn=T(()=>ct()===null||I().length>ct());function si(i,c){s(Bt).has(F()(i))?s(hn)&&Wt(i,c):qt(i,c)}function qt(i,c){c.stopPropagation(),U()!==null&&I().length>=U()&&P(Cn,!0),!isNaN(Number(i))&&typeof s(kn)[0]=="number"&&(i=Number(i));const m=s(Bt).has(F()(i));if(U()!==null&&U()!==1&&I().length>=U()&&n.onmaxreached?.({selected:I(),maxSelect:U(),attemptedOption:i}),m&&!C()&&n.onduplicate?.({option:i}),(U()===null||U()===1||I().length<U())&&(C()||!m)){if(!s(pt).includes(i)&&[!0,"append"].includes(w())&&W().length>0&&(typeof s(pt)[0]=="object"?i={label:W()}:["number","undefined"].includes(typeof s(pt)[0])&&!isNaN(Number(W()))?i=Number(W()):i=W(),n.oncreate?.({option:i}),w()==="append"&&(n.loadOptions?P(ht,[...s(ht),i],!0):ze([...ze()??[],i]))),ln()&&W(""),["",void 0,null].includes(i)){console.error("MultiSelect: encountered falsy option",i);return}U()===1?I([i]):I(lr([...I(),i])),Mn(),ar(c),P(Ye,{type:"add",label:`${Ve(i)}`},!0),n.onadd?.({option:i}),n.onchange?.({option:i,type:"add"})}}function Wt(i,c){if(c.stopPropagation(),I().length===0)return;const m=I().findIndex(k=>F()(k)===F()(i));let S=I()[m];if(S===void 0&&w()&&(S=typeof s(pt)[0]=="object"?{label:i}:i),S===void 0){console.error(`MultiSelect: can't remove option ${JSON.stringify(i)}, not found in selected list`);return}I(I().filter((k,O)=>O!==m)),Mn(),P(Ye,{type:"remove",label:`${Ve(S)}`},!0),n.onremove?.({option:S}),n.onchange?.({option:S,type:"remove"})}function Tt(i){i.stopPropagation(),!A()&&(ge(!0),i instanceof FocusEvent||j()?.focus(),n.onopen?.({event:i}))}function Jt(i,c=!1){ge(!1),c||j()?.blur(),d(null),n.onclose?.({event:i})}function Mn(){ye(!1),ve()?.setCustomValidity("")}function ar(i){const c=I().length>=(U()??1/0),m=G()===!0||G()==="retain-focus"||G()==="if-mobile"&&s(Tn)&&s(Tn)<_();c||m?Jt(i,G()==="retain-focus"):j()?.focus()}const ur=T(()=>W().length>0&&!!(w()&&g()||!C()&&s(nr).has(W())||s(ke).length===0&&vt()));async function li(i){if(P(cn,!0),jr()&&h()&&R().size>0&&(ir(or()),await xn()),w()&&!s(ke).length&&W().length>0){P(nt,!s(nt));return}if(!(d()===null&&!s(ke).length)){if(d()===null)d(0);else{const c=s(ke).length+(s(ur)?1:0);if(c===0){d(null);return}d((d()+i+c)%c)}P(nt,s(ur)&&d()===s(ke).length,!0),y(s(nt)?null:s(ke)[d()]??null),v()&&(await xn(),document.querySelector("ul.options > li.active")?.scrollIntoViewIfNeeded?.()),n.onactivate?.({option:y(),index:d()})}}async function ai(i){if(A())return;const c=[{key:"select_all",condition:()=>!!o()&&s(ke).length>0&&U()!==1,action:()=>Nn(i)},{key:"clear_all",condition:()=>I().length>0,action:()=>Ln(i)},{key:"open",condition:()=>!ge(),action:()=>Tt(i)},{key:"close",condition:()=>ge(),action:()=>{Jt(i),W("")}},{key:"undo",condition:()=>!!Qn(),action:()=>Kn()?.()},{key:"redo",condition:()=>!!$n(),action:()=>Xn()?.()}];for(const{key:m,condition:S,action:k}of c)if(Yr(i,s(Xr)[m])&&S()){i.preventDefault(),i.stopPropagation(),k();return}if(i.key==="Escape"||i.key==="Tab")i.stopPropagation(),Jt(i),W("");else if(i.key==="Enter")i.stopPropagation(),i.preventDefault(),y()?s(Bt).has(F()(y()))?s(hn)&&Wt(y(),i):qt(y(),i):w()&&W().length>0?qt(W(),i):Tt(i);else if(i.key==="ArrowDown"||i.key==="ArrowUp")i.stopPropagation(),i.preventDefault(),await li(i.key==="ArrowUp"?-1:1);else if(i.key==="Backspace"&&I().length>0&&!W()){if(i.stopPropagation(),s(hn)){const m=I().at(-1);m&&Wt(m,i)}}else s(ke).length>0&&d()===null&&d(0)}function Ln(i){i.stopPropagation();let c=[];ct()===null?(c=I(),I([])):I().length>ct()&&(c=I().slice(ct()),I(I().slice(0,ct()))),c.length>0&&(W(""),P(Ye,{type:"removeAll",label:`${c.length} options`},!0),n.onremoveAll?.({options:c}),n.onchange?.({options:I(),type:"removeAll"}))}const cr=i=>i>=0&&(X()==null||i<X()),Dn=(i,c=!1)=>i.filter(m=>ei(m)?!1:c?!0:cr(s(rr).get(m)??-1));function fr(i,c){const m=Math.max(0,(U()??1/0)-I().length),S=i.filter(k=>!s(Bt).has(F()(k))).slice(0,m);S.length!==0&&(I(lr([...I(),...S])),ln()&&W(""),Mn(),ar(c),n.onselectAll?.({options:S}),n.onchange?.({options:I(),type:"selectAll"}))}function Nn(i){i.stopPropagation(),fr(Dn(s(ke)),i)}function ui(i,c,m,S){S.stopPropagation();const k=Dn(i,c);if(m){const O=new Set(k.map(F())),D=I().filter(H=>O.has(F()(H)));I(I().filter(H=>!O.has(F()(H)))),D.length>0&&(n.onremoveAll?.({options:D}),n.onchange?.({options:I(),type:"removeAll"}))}else fr(k,S)}const ci=i=>s(nr).has(i),It=i=>c=>{(c.key==="Enter"||c.code==="Space")&&(c.preventDefault(),i(c))},dr=(i,c,m)=>{c||(L()?si(i,m):qt(i,m))};function hr(i){if(!et())return;const c=i.target;et().contains(c)||t()?.active&&s(pn)&&s(pn).contains(c)||Jt(i)}let Rn=Ce(null);const fi=i=>c=>{if(!c.dataTransfer)return;c.dataTransfer.dropEffect="move";const m=parseInt(c.dataTransfer.getData("text/plain")),S=[...I()];m<i?(S.splice(i+1,0,S[m]),S.splice(m,1)):(S.splice(i,0,S[m]),S.splice(m+1,1)),I(S),P(Rn,null),n.onreorder?.({options:S}),n.onchange?.({options:S,type:"reorder"})},di=i=>c=>{c.dataTransfer&&(c.dataTransfer.effectAllowed="move",c.dataTransfer.dropEffect="move",c.dataTransfer.setData("text/plain",`${i}`))};let pn=Ce(void 0);const hi=i=>{ai(i),n.onkeydown?.(i)},pi=i=>{Tt(i),n.onfocus?.(i)};We(()=>{if(!j())return;const i=j().focus.bind(j());return j(j().focus=c=>{i(c),!A()&&!ge()&&Tt(new FocusEvent("focus",{bubbles:!0}))},!0),()=>{j()&&j(j().focus=i,!0)}});const gi=i=>{if(t()?.active){n.onblur?.(i);return}et()?.contains(i.relatedTarget)||Jt(i),n.onblur?.(i)};Qt(()=>{Se(Se()),ve()?.setCustomValidity("")});function mi(i,c){let{target_node:m,active:S}=c;if(!S)return;let k=typeof window>"u"||!document.body.contains(i);if(!k){document.body.appendChild(i),i.style.position="fixed";const O=()=>{if(!m||!ge())return i.hidden=!0;const D=m.getBoundingClientRect();i.style.left=`${D.left}px`,i.style.top=`${D.bottom}px`,i.style.width=`${D.width}px`,i.hidden=!1};return ge()&&xn().then(O),window.addEventListener("scroll",O,!0),window.addEventListener("resize",O),We(()=>{ge()&&m?O():i.hidden=!0}),{update(D){m=D.target_node,k=typeof window>"u"||!document.body.contains(i),ge()&&!k&&m?xn().then(O):(!ge()||!m)&&(i.hidden=!0)},destroy(){k||i.remove(),window.removeEventListener("scroll",O,!0),window.removeEventListener("resize",O)}}}}async function gn(i){if(!s(ft)||s(Ft)||!i&&!s(Ht))return;const c=W(),m=i?0:s(ht).length;P(Ft,!0);try{const S=s(ft).batch_size,k=await s(ft).fetch({search:c,offset:m,limit:S});P(ht,i?k.options:[...s(ht),...k.options],!0),P(Ht,k.hasMore,!0),P(fn,c,!0)}catch(S){console.error("MultiSelect: loadOptions error:",S)}finally{P(Ft,!1)}}We(()=>{if(!s(ft))return;if(!ge()){P(fn,null),P(ht,[],!0),P(Ht,!0);return}kt&&clearTimeout(kt);const i=W();return s(fn)===null?s(ft).on_open?gn(!0):i&&(kt=setTimeout(()=>gn(!0),s(ft).debounce_ms)):i!==s(fn)&&(P(ht,[],!0),P(Ht,!0),kt=setTimeout(()=>gn(!0),s(ft).debounce_ms)),()=>{kt&&clearTimeout(kt)}});function yi(i){if(!s(ft)||s(Ft)||!s(Ht))return;const{scrollTop:c,scrollHeight:m,clientHeight:S}=i.target;m-c-S<=100&&gn(!1)}var gt=Oo();je("click",_r,hr),je("touchstart",_r,hr,void 0,!0);let pr;var Mt=ee(gt);_n(Mt,i=>ve(i),()=>ve());var gr=K(Mt,2),wi=ee(gr);{var bi=i=>{var c=me(),m=se(c);qe(m,()=>n.expandIcon,()=>({open:ge()})),M(i,c)},vi=i=>{Xt(i,{icon:"ChevronExpand",style:"width: 15px; min-width: 1em; padding: 0 1pt; cursor: pointer"})};V(wi,i=>{n.expandIcon?i(bi):i(vi,!1)})}var mn=K(gr,2),mr=ee(mn);$t(mr,27,I,(i,c)=>C()?`${F()(i)}-${c}`:F()(i),(i,c,m,S)=>{const k=T(()=>[kr(s(c),"selected"),jt()].filter(Boolean).join(" ")||null);var O=fo();let D;var H=T(()=>di(s(m))),Lt=T(()=>fi(s(m))),rt=ee(O);{var te=q=>{var de=me(),Re=se(de);qe(Re,()=>n.selectedItem,()=>({option:s(c),idx:s(m)})),M(q,de)},we=q=>{var de=me(),Re=se(de);qe(Re,()=>n.children,()=>({option:s(c),idx:s(m)})),M(q,de)},fe=q=>{var de=me(),Re=se(de);Ir(Re,()=>Ve(s(c))),M(q,de)},Ie=q=>{var de=at();ne(Re=>_e(de,Re),[()=>Ve(s(c))]),M(q,de)};V(rt,q=>{n.selectedItem?q(te):n.children?q(we,1):Gt()?q(fe,2):q(Ie,!1)})}var Ge=K(rt,2);{var Ee=q=>{var de=co(),Re=T(()=>It(Y=>Wt(s(c),Y))),Dt=ee(de);{var Zt=Y=>{var be=me(),Qe=se(be);qe(Qe,()=>n.removeIcon),M(Y,be)},Xe=Y=>{Xt(Y,{icon:"Cross",style:"width: 15px"})};V(Dt,Y=>{n.removeIcon?Y(Zt):Y(Xe,!1)})}ne(Y=>pe(de,"title",`${En()??""} ${Y??""}`),[()=>Ve(s(c))]),he("click",de,Y=>Wt(s(c),Y)),he("keydown",de,function(...Y){s(Re)?.apply(this,Y)}),M(q,de)};V(Ge,q=>{!A()&&s(hn)&&q(Ee)})}ne(()=>{D=it(O,1,Ni(Pt()),"svelte-1u9e7i4",D,{active:s(Rn)===s(m)}),pe(O,"draggable",Ct()&&!A()&&I().length>1),mt(O,s(k))}),je("dragstart",O,function(...q){s(H)?.apply(this,q)}),je("dragover",O,q=>{q.preventDefault()}),je("drop",O,function(...q){s(Lt)?.apply(this,q)}),je("dragenter",O,()=>P(Rn,s(m),!0)),he("mouseup",O,q=>q.stopPropagation()),Ri(O,()=>ji,f),M(i,O)});var yn=K(mr,2),_i=()=>!1;Jn(yn,()=>({class:le(),style:xe(),id:N(),disabled:A(),autocomplete:a(),inputmode:De(),pattern:sn(),placeholder:I().length===0||s(ri)?s(sr):null,role:"combobox","aria-haspopup":"listbox","aria-expanded":ge(),"aria-controls":s(er),"aria-activedescendant":s(oi),"aria-busy":ut()||s(Ft)||null,"aria-invalid":ye()?"true":null,ondrop:_i,onmouseup:Tt,onkeydown:hi,onfocus:pi,onblur:gi,onclick:n.onclick,onkeyup:n.onkeyup,onmousedown:n.onmousedown,onmouseenter:n.onmouseenter,onmouseleave:n.onmouseleave,ontouchcancel:n.ontouchcancel,ontouchend:n.ontouchend,ontouchmove:n.ontouchmove,ontouchstart:n.ontouchstart,...Jr}),void 0,void 0,void 0,"svelte-1u9e7i4",!0),_n(yn,i=>j(i),()=>j());var xi=K(yn,2);qe(xi,()=>n.afterInput??Lr,()=>({selected:I(),disabled:A(),invalid:ye(),id:N(),placeholder:s(sr),open:ge(),required:Se()}));var yr=K(mn,2);{var Bi=i=>{var c=me(),m=se(c);{var S=O=>{var D=me(),H=se(D);qe(H,()=>n.spinner),M(O,D)},k=O=>{Mr(O,{})};V(m,O=>{n.spinner?O(S):O(k,!1)})}M(i,c)};V(yr,i=>{ut()&&i(Bi)})}var wr=K(yr,2);{var Ii=i=>{var c=me(),m=se(c);{var S=O=>{var D=me(),H=se(D);qe(H,()=>n.disabledIcon),M(O,D)},k=O=>{Xt(O,{icon:"Disabled",style:"width: 14pt; margin: 0 2pt","data-name":"disabled-icon","aria-disabled":"true"})};V(m,O=>{n.disabledIcon?O(S):O(k,!1)})}M(i,c)},Ei=i=>{var c=go(),m=se(c);{var S=D=>{uo(D,{angle:20,get wiggle(){return s(Cn)},set wiggle(H){P(Cn,H,!0)},children:(H,Lt)=>{var rt=ho(),te=ee(rt);ne(we=>{it(rt,1,`max-select-msg ${nn()??""}`,"svelte-1u9e7i4"),_e(te,we)},[()=>bt()?.(I().length,U())]),M(H,rt)},$$slots:{default:!0}})};V(m,D=>{U()&&(U()>1||bt())&&D(S)})}var k=K(m,2);{var O=D=>{var H=po(),Lt=T(()=>It(Ln)),rt=ee(H);{var te=fe=>{var Ie=me(),Ge=se(Ie);qe(Ge,()=>n.removeIcon),M(fe,Ie)},we=fe=>{Xt(fe,{icon:"Cross",style:"width: 15px"})};V(rt,fe=>{n.removeIcon?fe(te):fe(we,!1)})}ne(()=>pe(H,"title",_t())),he("click",H,Ln),he("keydown",H,function(...fe){s(Lt)?.apply(this,fe)}),M(D,H)};V(k,D=>{U()!==1&&I().length>1&&D(O)})}M(i,c)};V(wr,i=>{A()?i(Ii):I().length>0&&i(Ei,1)})}var br=K(wr,2);{var Oi=i=>{var c=Eo();let m;var S=ee(c);{var k=te=>{const we=T(()=>typeof o()=="string"?o():"Select all");var fe=mo(),Ie=T(()=>It(Nn)),Ge=ee(fe);ne(()=>{it(fe,1,`select-all ${u()??""}`,"svelte-1u9e7i4"),_e(Ge,s(we))}),he("click",fe,Nn),he("keydown",fe,function(...Ee){s(Ie)?.apply(this,Ee)}),M(te,fe)};V(S,te=>{o()&&s(pt).length>0&&(U()===null||U()>1)&&te(k)})}var O=K(S,2);$t(O,19,()=>s(Vt),({group:te,options:we,collapsed:fe},Ie)=>te??`ungrouped-${Ie}`,(te,we,fe)=>{let Ie=()=>s(we).group,Ge=()=>s(we).options,Ee=()=>s(we).collapsed;var q=xo(),de=se(q);{var Re=Xe=>{const Y=T(()=>{const{all_selected:ae,selected_count:$e}=s(ti).get(Ie())??{all_selected:!1,selected_count:0};return{all_selected:ae,selected_count:$e}}),be=T(()=>()=>h()&&ni(Ie())),Qe=T(()=>ae=>ui(Ge(),Ee(),s(Y).all_selected,ae));var $=bo();let Nt;var wn=T(()=>It(s(be))),He=ee($);{var Pe=ae=>{var $e=me(),Et=se($e);qe(Et,()=>n.groupHeader,()=>({group:Ie(),options:Ge(),collapsed:Ee()})),M(ae,$e)},Te=ae=>{var $e=wo(),Et=se($e),Pn=ee(Et),bn=K(Et,2),jn=ee(bn);{var Ot=Ue=>{var Me=at();ne(()=>_e(Me,`(${s(Y).selected_count??""}/${Ge().length??""})`)),M(Ue,Me)},Oe=Ue=>{var Me=at();ne(()=>_e(Me,`(${Ge().length??""})`)),M(Ue,Me)};V(jn,Ue=>{L()&&s(Y).selected_count>0?Ue(Ot):Ue(Oe,!1)})}var St=K(bn,2);{var Yt=Ue=>{var Me=yo();let vn;var Gn=T(()=>It(s(Qe))),Hn=ee(Me);ne(()=>{vn=it(Me,1,"group-select-all svelte-1u9e7i4",null,vn,{deselect:s(Y).all_selected}),_e(Hn,s(Y).all_selected?"Deselect all":"Select all")}),he("click",Me,function(...oe){s(Qe)?.apply(this,oe)}),he("keydown",Me,function(...oe){s(Gn)?.apply(this,oe)}),M(Ue,Me)};V(St,Ue=>{ce()&&(U()===null||U()>1)&&Ue(Yt)})}var Rt=K(St,2);{var zn=Ue=>{{let Me=T(()=>Ee()?"ChevronRight":"ChevronDown");Xt(Ue,{get icon(){return s(Me)},style:"width: 12px; margin-left: auto"})}};V(Rt,Ue=>{h()&&Ue(zn)})}ne(()=>_e(Pn,Ie())),M(ae,$e)};V(He,ae=>{n.groupHeader?ae(Pe):ae(Te,!1)})}ne(()=>{Nt=it($,1,`group-header ${Gr()??""}`,"svelte-1u9e7i4",Nt,{collapsible:h(),sticky:zr()}),pe($,"role",h()?"button":"presentation"),pe($,"aria-expanded",h()?!Ee():void 0),pe($,"aria-label",`Group: ${Ie()??""}`),mt($,Hr()),pe($,"tabindex",h()?0:-1)}),he("click",$,function(...ae){s(be)?.apply(this,ae)}),he("keydown",$,function(...ae){s(wn)?.apply(this,ae)}),M(Xe,$)};V(de,Xe=>{Ie()!==null&&Xe(Re)})}var Dt=K(de,2);{var Zt=Xe=>{var Y=me(),be=se(Y);$t(be,19,Ge,(Qe,$)=>C()?`${F()(Qe)}-${s(fe)}-${$}`:F()(Qe),(Qe,$,Nt,wn)=>{const He=T(()=>s(rr).get(s($))??-1),Pe=T(()=>{const{label:Ot,disabled:Oe=null,title:St=null,selectedTitle:Yt=null,disabledTitle:Rt=x()}=In(s($))?s($):{label:s($)};return{label:Ot,disabled:Oe,title:St,selectedTitle:Yt,disabledTitle:Rt}}),Te=T(()=>d()===s(He)&&s(He)>=0),ae=T(()=>ci(s(Pe).label)),$e=T(()=>[kr(s($),"option"),wt()].filter(Boolean).join(" ")||null);var Et=me(),Pn=se(Et);{var bn=Ot=>{var Oe=_o();let St;var Yt=T(()=>It(oe=>dr(s($),s(Pe).disabled,oe))),Rt=ee(Oe);{var zn=oe=>{var Le=vo();ne(lt=>{zi(Le,s(ae)),pe(Le,"aria-label",`Toggle ${lt??""}`)},[()=>Ve(s($))]),M(oe,Le)};V(Rt,oe=>{L()==="checkboxes"&&oe(zn)})}var Ue=K(Rt,2);{var Me=oe=>{var Le=me(),lt=se(Le);qe(lt,()=>n.option,()=>({option:s($),idx:s(He)})),M(oe,Le)},vn=oe=>{var Le=me(),lt=se(Le);qe(lt,()=>n.children,()=>({option:s($),idx:s(He)})),M(oe,Le)},Gn=oe=>{var Le=me(),lt=se(Le);Ir(lt,()=>Ve(s($))),M(oe,Le)},Hn=oe=>{var Le=at();ne(lt=>_e(Le,lt),[()=>Ve(s($))]),M(oe,Le)};V(Ue,oe=>{n.option?oe(Me):n.children?oe(vn,1):Gt()?oe(Gn,2):oe(Hn,!1)})}ne(()=>{pe(Oe,"id",`${s(An)??""}-opt-${s(He)??""}`),pe(Oe,"title",s(Pe).disabled?s(Pe).disabledTitle:s(ae)&&s(Pe).selectedTitle||s(Pe).title),St=it(Oe,1,`${Ut()??""} ${(s(Te)?ot():"")??""}`,"svelte-1u9e7i4",St,{selected:s(ae),active:s(Te),disabled:s(Pe).disabled}),pe(Oe,"aria-selected",s(ae)?"true":"false"),pe(Oe,"aria-posinset",s(He)+1),pe(Oe,"aria-setsize",s(ke).length),mt(Oe,s($e))}),he("click",Oe,oe=>dr(s($),s(Pe).disabled,oe)),he("mouseover",Oe,()=>{!s(Pe).disabled&&!s(cn)&&d(s(He))}),je("focus",Oe,()=>{s(Pe).disabled||d(s(He))}),he("keydown",Oe,function(...oe){s(Yt)?.apply(this,oe)}),M(Ot,Oe)},jn=T(()=>cr(s(He)));V(Pn,Ot=>{s(jn)&&Ot(bn)})}M(Qe,Et)}),M(Xe,Y)};V(Dt,Xe=>{(!Ee()||!h())&&Xe(Zt)})}M(te,q)});var D=K(O,2);{var H=te=>{const we=T(()=>s(kn).includes(W())),fe=T(()=>!C()&&s(we)&&"dupe"),Ie=T(()=>!!(w()&&g())&&"create"),Ge=T(()=>!!(s(ke)?.length===0&&vt())&&"no-match"),Ee=T(()=>s(fe)||s(Ie)||s(Ge)),q=T(()=>s(Ee)&&{dupe:B(),create:g(),"no-match":vt()}[s(Ee)]),de=T(()=>s(Ee)==="create"&&w()),Re=T(()=>Y=>s(de)&&qt(W(),Y));var Dt=me(),Zt=se(Dt);{var Xe=Y=>{var be=Bo(),Qe=T(()=>s(de)?It(s(Re)):void 0);let $,Nt;var wn=ee(be);{var He=Te=>{var ae=me(),$e=se(ae);qe($e,()=>n.userMsg,()=>({searchText:W(),msgType:s(Ee),msg:s(q)})),M(Te,ae)},Pe=Te=>{var ae=at();ne(()=>_e(ae,s(q))),M(Te,ae)};V(wn,Te=>{n.userMsg?Te(He):Te(Pe,!1)})}ne(()=>{pe(be,"title",s(Ee)==="create"?g():s(Ee)==="dupe"?B():""),$=it(be,1,`
              user-msg ${zt()??""} ${(s(nt)?At():"")??""}
            `,"svelte-1u9e7i4",$,{active:s(nt)}),Nt=mt(be,"",Nt,{cursor:{dupe:"not-allowed",create:"pointer","no-match":"default"}[s(Ee)]})}),he("click",be,function(...Te){s(Re)?.apply(this,Te)}),he("keydown",be,function(...Te){s(Qe)?.apply(this,Te)}),he("mouseover",be,()=>!s(cn)&&P(nt,!0)),je("focus",be,()=>P(nt,!0)),he("mouseout",be,()=>P(nt,!1)),je("blur",be,()=>P(nt,!1)),M(Y,be)};V(Zt,Y=>{s(q)&&Y(Xe)})}M(te,Dt)};V(D,te=>{W()&&te(H)})}var Lt=K(D,2);{var rt=te=>{var we=Io(),fe=ee(we);Mr(fe,{}),M(te,we)};V(Lt,te=>{n.loadOptions&&s(Ft)&&te(rt)})}Li(c,(te,we)=>mi?.(te,we),()=>({target_node:et(),...t()})),Di(c,()=>oo({query:W(),disabled:!re(),fuzzy:z(),css_class:"sms-search-matches",node_filter:te=>te?.parentElement?.closest("li.user-msg")?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT})),_n(c,te=>P(pn,te),()=>s(pn)),ne(()=>{pe(c,"id",s(er)),m=it(c,1,`options ${tt()??""}`,"svelte-1u9e7i4",m,{hidden:!ge()}),pe(c,"aria-multiselectable",U()===null||U()>1),pe(c,"aria-expanded",ge()),pe(c,"aria-disabled",A()?"true":null),mt(c,e())}),je("scroll",c,yi),he("mousemove",c,()=>P(cn,!1)),M(i,c)};V(br,i=>{(W()&&vt()||s(pt).length>0||n.loadOptions)&&i(Oi)})}var Si=K(br,2),Ai=ee(Si);{var Ui=i=>{var c=me(),m=se(c);{var S=D=>{var H=at();ne(()=>_e(H,`${s(Ye).label??""} selected`)),M(D,H)},k=D=>{var H=at();ne(()=>_e(H,`${s(Ye).label??""} removed`)),M(D,H)},O=D=>{var H=at();ne(()=>_e(H,`${s(Ye).label??""} removed`)),M(D,H)};V(m,D=>{s(Ye).type==="add"?D(S):s(Ye).type==="remove"?D(k,1):s(Ye).type==="removeAll"&&D(O,2)})}M(i,c)},Ci=i=>{var c=at();ne(()=>_e(c,`${st().length??""} option${st().length===1?"":"s"} available`)),M(i,c)};V(Ai,i=>{s(Ye)?i(Ui):ge()&&i(Ci,1)})}_n(gt,i=>et(i),()=>et()),ne((i,c)=>{pr=it(gt,1,`multiselect ${on()??""} ${n.class??""??""}`,"svelte-1u9e7i4",pr,{disabled:A(),single:U()===1,open:ge(),invalid:ye()}),pe(gt,"title",A()?J():null),pe(gt,"data-id",N()),mt(gt,On()),pe(Mt,"name",rn()),Mt.required=i,Pi(Mt,c),it(mn,1,`selected ${Sn()??""}`,"svelte-1u9e7i4"),mt(mn,r())},[()=>!!Se(),()=>I().length>=Number(Se())?JSON.stringify(I()):null]),Mi("innerWidth",i=>P(Tn,i,!0)),he("mouseup",gt,Tt),je("invalid",Mt,()=>{ye(!0);let i;U()&&U()>1&&Number(Se())>1?i=`Please select between ${Se()} and ${U()} options`:Number(Se())>1?i=`Please select at least ${Se()} options`:i="Please select an option",ve()?.setCustomValidity(i)}),Dr(yn,W),M(l,gt),tn()}Yn(["mouseup","click","keydown","mousemove","mouseover","mouseout"]);Yn(["click","focusin","focusout","keydown"]);function Ao(l,n=!0){const d=new IntersectionObserver(([y],g)=>{const w=y.intersectionRatio;if(w<1){const b=w<=0&&n?"center":"nearest";l.scrollIntoView({block:b,inline:b})}g.disconnect()});return d.observe(l),d}typeof Element<"u"&&!Element.prototype?.scrollIntoViewIfNeeded&&typeof IntersectionObserver<"u"&&(Element.prototype.scrollIntoViewIfNeeded=function(){Ao(this)});const Ke=yt({file:null});var Uo=ue('<div> </div> <textarea class="h-100px bg-#33221166 shadow-#00000099 b-color-amber rounded-lg p-3 shadow-md"></textarea>',1),Co=ue('<div class="px-6 py-2"><h2 class="m-0"> </h2> <div class="w-450px flex flex-col"></div></div>');function Fo(l,n){en(n,!0);const d=T(()=>Ke.file?.entries[n.entryName]);var y=me(),g=se(y);{var w=b=>{var a=Co(),v=ee(a),_=ee(v),x=K(v,2);$t(x,21,()=>n.languages,Nr,(A,J)=>{var B=Uo(),C=se(B),L=ee(C),F=K(C,2);ne(()=>_e(L,s(J))),Dr(F,()=>s(d).strings[s(J)],E=>s(d).strings[s(J)]=E),M(A,B)}),ne(()=>_e(_,s(d).name)),M(b,a)};V(g,b=>{s(d)!=null&&b(w)})}M(l,y),tn()}var ko=ue('<div class="bg-amber-9 bg-op-25 z-100 fixed flex h-full w-full items-center justify-center"><div class="w-350px max-w-80% h-250px text-30px bg-#111 text-shadow-lg b-3px b-amber-4 rounded-30px b-dashed flex items-center justify-center font-bold shadow-lg">Drop file</div></div>'),To=ue('<div class="b-3 b-1px b-solid b-red-5 fixed bottom-8 right-8 z-50 flex items-center justify-center rounded-lg bg-red-950 px-5 py-3">Invalid file</div>'),Mo=ue('<label for="file" class="h-75 w-75 b-1 b-amber b-solid flex cursor-pointer flex-col items-center justify-center rounded-2xl p-8"><span class="i-lucide:file-scan h-25 w-25"></span> <span class="text-center font-bold">Select/Drop <br/> *.msg.* file</span></label>'),Lo=ue('<h1 class="m-0"> </h1> <div class="flex items-center gap-6"><div> </div> <div> </div> <button class="b-solid b-1 b-amber cursor-pointer rounded-lg">Export as msg</button> <button class="b-solid b-1 b-amber cursor-pointer rounded-lg">Export as json</button></div> <div class="mb-4 mt-2"><!></div> <div class="flex h-full w-full flex-col items-center overflow-auto"></div>',1),Do=ue('<input id="file" type="file" hidden=""/> <div class="flex h-full w-full flex-col items-center justify-center"><!> <!> <!> <a target="_blank" rel="noopener" href="https://github.com/beeequeue/remsg-editor" class="text-#eee fixed bottom-2 flex items-center"><div class="i-simple-icons:github mr-1"></div> Made by beequeue</a></div>',1);function No(l,n){en(n,!0);const d=T(()=>Object.values(Ke.file?.entries??{}));let y=Ce(!1);We(()=>{s(y)&&setTimeout(()=>{P(y,!1)},7500)});const g=T(()=>{const N=Object.keys(s(d)[0].strings),j=Object.fromEntries(N.map(le=>[le,!1]));for(const le of N)for(const xe of s(d))xe.strings[le]==null||xe.strings[le].length===0||(j[le]=!0);return Object.entries(j).filter(([,le])=>le).map(([le])=>le)});let w=Ce(yt(["en"]));const b=async N=>{const j=N.target.files;if(j==null||j.length===0)return;const le=j.item(0),xe=Cr(Je.Buffer.from(await le.arrayBuffer())),De=Object.fromEntries(xe.entries.map(ye=>[ye.name,ye]));Ke.file={name:le.name,meta:xe.meta,entries:De}};let a=Ce(!1);const v=N=>{P(a,!0),N.preventDefault()},_=()=>{P(a,!1)},x=async N=>{N.preventDefault(),P(y,!1);try{const j=N.dataTransfer.items[0].getAsFile(),le=Cr(Je.Buffer.from(await j.arrayBuffer())),xe=Object.fromEntries(le.entries.map(De=>[De.name,De]));Ke.file={name:j.name,meta:le.meta,entries:xe}}catch{P(y,!0)}P(a,!1)},A=N=>()=>{if(Ke.file==null)return;const j=Object.values(Ke.file.entries),le={meta:Ke.file.meta,entries:j};let xe;if(N==="msg"){const ot=no(le);xe=new Blob([ot],{type:"application/octet-stream"})}else{const ot=JSON.stringify(le,null,2);xe=new Blob([ot],{type:"application/json"})}const De=URL.createObjectURL(xe),ye=document.createElement("a");ye.href=De,ye.download=Ke.file.name,N==="json"&&(ye.download+=".json"),ye.click(),URL.revokeObjectURL(De),ye.remove()};var J=Do(),B=se(J),C=K(B,2),L=ee(C);{var F=N=>{var j=ko();Er(3,j,()=>Or,()=>({duration:100})),M(N,j)};V(L,N=>{s(a)&&N(F)})}var E=K(L,2);{var z=N=>{var j=To();Er(3,j,()=>Or,()=>({duration:250})),M(N,j)};V(E,N=>{s(y)&&N(z)})}var G=K(E,2);{var ve=N=>{var j=Mo();M(N,j)},re=N=>{var j=Lo(),le=se(j),xe=ee(le),De=K(le,2),ye=ee(De),ot=ee(ye),At=K(ye,2),Ut=ee(At),wt=K(At,2),Pt=T(()=>A("msg")),jt=K(wt,2),zt=T(()=>A("json")),ut=K(De,2),st=ee(ut);So(st,{placeholder:"Languages",get options(){return s(g)},outerDivClass:"w-300px min-h-32px b-color-amber",liOptionClass:"color-#eee bg-#333",get selected(){return s(w)},set selected(U){P(w,U,!0)}});var X=K(ut,2);$t(X,21,()=>s(d),Nr,(U,bt)=>{Fo(U,{get entryName(){return s(bt).name},get languages(){return s(w)}})}),ne(()=>{_e(xe,Ke.file.name),_e(ot,`Version ${Ke.file.meta.version??""}`),_e(Ut,`${Ke.file.meta.attributes.length??""} attributes`)}),he("click",wt,function(...U){s(Pt)?.apply(this,U)}),he("click",jt,function(...U){s(zt)?.apply(this,U)}),M(N,j)};V(G,N=>{Ke?.file==null?N(ve):N(re,!1)})}he("change",B,b),je("drop",C,x),je("dragover",C,v),je("dragleave",C,_),M(l,J),tn()}Yn(["change","click"]);Gi(No,{target:document.getElementById("root")});
