import{p as b,f as me,t as be,s as Ye,a as C,b as Et,S as Br,u as ut,c as Te,n as tr,d as he,e as Ut,g as Dt,h as Ot,r as Ft,i as rr,j as nr,k as Se,$ as Ht,l as vt,m as oe,o as Q,q as _t,v as _r,w as ir,x as we,y as se,z as Ir,A as It,B as d,C as Xe,D as et,E as Er,F as Ne,G as ae,H as ge,I as Ur,J as Or,K as Mt,L as Fr,M as Jt,N as Lt,O as qe,P as lr,Q as Wt,R as Yt,T as Sr}from"./svelte-DauOFcUt.js";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const p of document.querySelectorAll('link[rel="modulepreload"]'))h(p);new MutationObserver(p=>{for(const m of p)if(m.type==="childList")for(const y of m.addedNodes)y.tagName==="LINK"&&y.rel==="modulepreload"&&h(y)}).observe(document,{childList:!0,subtree:!0});function c(p){const m={};return p.integrity&&(m.integrity=p.integrity),p.referrerPolicy&&(m.referrerPolicy=p.referrerPolicy),p.crossOrigin==="use-credentials"?m.credentials="include":p.crossOrigin==="anonymous"?m.credentials="omit":m.credentials="same-origin",m}function h(p){if(p.ep)return;p.ep=!0;const m=c(p);fetch(p.href,m)}})();var Nt={},pt={},Xt;function Ar(){if(Xt)return pt;Xt=1,pt.byteLength=o,pt.toByteArray=x,pt.fromByteArray=M;for(var l=[],r=[],c=typeof Uint8Array<"u"?Uint8Array:Array,h="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",p=0,m=h.length;p<m;++p)l[p]=h[p],r[h.charCodeAt(p)]=p;r[45]=62,r[95]=63;function y(v){var E=v.length;if(E%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var O=v.indexOf("=");O===-1&&(O=E);var W=O===E?0:4-O%4;return[O,W]}function o(v){var E=y(v),O=E[0],W=E[1];return(O+W)*3/4-W}function I(v,E,O){return(E+O)*3/4-O}function x(v){var E,O=y(v),W=O[0],_=O[1],A=new c(I(v,W,_)),k=0,ye=_>0?W-4:W,D;for(D=0;D<ye;D+=4)E=r[v.charCodeAt(D)]<<18|r[v.charCodeAt(D+1)]<<12|r[v.charCodeAt(D+2)]<<6|r[v.charCodeAt(D+3)],A[k++]=E>>16&255,A[k++]=E>>8&255,A[k++]=E&255;return _===2&&(E=r[v.charCodeAt(D)]<<2|r[v.charCodeAt(D+1)]>>4,A[k++]=E&255),_===1&&(E=r[v.charCodeAt(D)]<<10|r[v.charCodeAt(D+1)]<<4|r[v.charCodeAt(D+2)]>>2,A[k++]=E>>8&255,A[k++]=E&255),A}function w(v){return l[v>>18&63]+l[v>>12&63]+l[v>>6&63]+l[v&63]}function g(v,E,O){for(var W,_=[],A=E;A<O;A+=3)W=(v[A]<<16&16711680)+(v[A+1]<<8&65280)+(v[A+2]&255),_.push(w(W));return _.join("")}function M(v){for(var E,O=v.length,W=O%3,_=[],A=16383,k=0,ye=O-W;k<ye;k+=A)_.push(g(v,k,k+A>ye?ye:k+A));return W===1?(E=v[O-1],_.push(l[E>>2]+l[E<<4&63]+"==")):W===2&&(E=(v[O-2]<<8)+v[O-1],_.push(l[E>>10]+l[E>>4&63]+l[E<<2&63]+"=")),_.join("")}return pt}var Bt={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */var Zt;function Cr(){return Zt||(Zt=1,Bt.read=function(l,r,c,h,p){var m,y,o=p*8-h-1,I=(1<<o)-1,x=I>>1,w=-7,g=c?p-1:0,M=c?-1:1,v=l[r+g];for(g+=M,m=v&(1<<-w)-1,v>>=-w,w+=o;w>0;m=m*256+l[r+g],g+=M,w-=8);for(y=m&(1<<-w)-1,m>>=-w,w+=h;w>0;y=y*256+l[r+g],g+=M,w-=8);if(m===0)m=1-x;else{if(m===I)return y?NaN:(v?-1:1)*(1/0);y=y+Math.pow(2,h),m=m-x}return(v?-1:1)*y*Math.pow(2,m-h)},Bt.write=function(l,r,c,h,p,m){var y,o,I,x=m*8-p-1,w=(1<<x)-1,g=w>>1,M=p===23?Math.pow(2,-24)-Math.pow(2,-77):0,v=h?0:m-1,E=h?1:-1,O=r<0||r===0&&1/r<0?1:0;for(r=Math.abs(r),isNaN(r)||r===1/0?(o=isNaN(r)?1:0,y=w):(y=Math.floor(Math.log(r)/Math.LN2),r*(I=Math.pow(2,-y))<1&&(y--,I*=2),y+g>=1?r+=M/I:r+=M*Math.pow(2,1-g),r*I>=2&&(y++,I/=2),y+g>=w?(o=0,y=w):y+g>=1?(o=(r*I-1)*Math.pow(2,p),y=y+g):(o=r*Math.pow(2,g-1)*Math.pow(2,p),y=0));p>=8;l[c+v]=o&255,v+=E,o/=256,p-=8);for(y=y<<p|o,x+=p;x>0;l[c+v]=y&255,v+=E,y/=256,x-=8);l[c+v-E]|=O*128}),Bt}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var Kt;function Tr(){return Kt||(Kt=1,function(l){const r=Ar(),c=Cr(),h=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;l.Buffer=o,l.SlowBuffer=A,l.INSPECT_MAX_BYTES=50;const p=2147483647;l.kMaxLength=p,o.TYPED_ARRAY_SUPPORT=m(),!o.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function m(){try{const n=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(n,e),n.foo()===42}catch{return!1}}Object.defineProperty(o.prototype,"parent",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.buffer}}),Object.defineProperty(o.prototype,"offset",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.byteOffset}});function y(n){if(n>p)throw new RangeError('The value "'+n+'" is invalid for option "size"');const e=new Uint8Array(n);return Object.setPrototypeOf(e,o.prototype),e}function o(n,e,t){if(typeof n=="number"){if(typeof e=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return g(n)}return I(n,e,t)}o.poolSize=8192;function I(n,e,t){if(typeof n=="string")return M(n,e);if(ArrayBuffer.isView(n))return E(n);if(n==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof n);if(Ae(n,ArrayBuffer)||n&&Ae(n.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Ae(n,SharedArrayBuffer)||n&&Ae(n.buffer,SharedArrayBuffer)))return O(n,e,t);if(typeof n=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const i=n.valueOf&&n.valueOf();if(i!=null&&i!==n)return o.from(i,e,t);const s=W(n);if(s)return s;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof n[Symbol.toPrimitive]=="function")return o.from(n[Symbol.toPrimitive]("string"),e,t);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof n)}o.from=function(n,e,t){return I(n,e,t)},Object.setPrototypeOf(o.prototype,Uint8Array.prototype),Object.setPrototypeOf(o,Uint8Array);function x(n){if(typeof n!="number")throw new TypeError('"size" argument must be of type number');if(n<0)throw new RangeError('The value "'+n+'" is invalid for option "size"')}function w(n,e,t){return x(n),n<=0?y(n):e!==void 0?typeof t=="string"?y(n).fill(e,t):y(n).fill(e):y(n)}o.alloc=function(n,e,t){return w(n,e,t)};function g(n){return x(n),y(n<0?0:_(n)|0)}o.allocUnsafe=function(n){return g(n)},o.allocUnsafeSlow=function(n){return g(n)};function M(n,e){if((typeof e!="string"||e==="")&&(e="utf8"),!o.isEncoding(e))throw new TypeError("Unknown encoding: "+e);const t=k(n,e)|0;let i=y(t);const s=i.write(n,e);return s!==t&&(i=i.slice(0,s)),i}function v(n){const e=n.length<0?0:_(n.length)|0,t=y(e);for(let i=0;i<e;i+=1)t[i]=n[i]&255;return t}function E(n){if(Ae(n,Uint8Array)){const e=new Uint8Array(n);return O(e.buffer,e.byteOffset,e.byteLength)}return v(n)}function O(n,e,t){if(e<0||n.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(n.byteLength<e+(t||0))throw new RangeError('"length" is outside of buffer bounds');let i;return e===void 0&&t===void 0?i=new Uint8Array(n):t===void 0?i=new Uint8Array(n,e):i=new Uint8Array(n,e,t),Object.setPrototypeOf(i,o.prototype),i}function W(n){if(o.isBuffer(n)){const e=_(n.length)|0,t=y(e);return t.length===0||n.copy(t,0,0,e),t}if(n.length!==void 0)return typeof n.length!="number"||ht(n.length)?y(0):v(n);if(n.type==="Buffer"&&Array.isArray(n.data))return v(n.data)}function _(n){if(n>=p)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+p.toString(16)+" bytes");return n|0}function A(n){return+n!=n&&(n=0),o.alloc(+n)}o.isBuffer=function(e){return e!=null&&e._isBuffer===!0&&e!==o.prototype},o.compare=function(e,t){if(Ae(e,Uint8Array)&&(e=o.from(e,e.offset,e.byteLength)),Ae(t,Uint8Array)&&(t=o.from(t,t.offset,t.byteLength)),!o.isBuffer(e)||!o.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let i=e.length,s=t.length;for(let a=0,f=Math.min(i,s);a<f;++a)if(e[a]!==t[a]){i=e[a],s=t[a];break}return i<s?-1:s<i?1:0},o.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},o.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(e.length===0)return o.alloc(0);let i;if(t===void 0)for(t=0,i=0;i<e.length;++i)t+=e[i].length;const s=o.allocUnsafe(t);let a=0;for(i=0;i<e.length;++i){let f=e[i];if(Ae(f,Uint8Array))a+f.length>s.length?(o.isBuffer(f)||(f=o.from(f)),f.copy(s,a)):Uint8Array.prototype.set.call(s,f,a);else if(o.isBuffer(f))f.copy(s,a);else throw new TypeError('"list" argument must be an Array of Buffers');a+=f.length}return s};function k(n,e){if(o.isBuffer(n))return n.length;if(ArrayBuffer.isView(n)||Ae(n,ArrayBuffer))return n.byteLength;if(typeof n!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof n);const t=n.length,i=arguments.length>2&&arguments[2]===!0;if(!i&&t===0)return 0;let s=!1;for(;;)switch(e){case"ascii":case"latin1":case"binary":return t;case"utf8":case"utf-8":return X(n).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return t*2;case"hex":return t>>>1;case"base64":return ft(n).length;default:if(s)return i?-1:X(n).length;e=(""+e).toLowerCase(),s=!0}}o.byteLength=k;function ye(n,e,t){let i=!1;if((e===void 0||e<0)&&(e=0),e>this.length||((t===void 0||t>this.length)&&(t=this.length),t<=0)||(t>>>=0,e>>>=0,t<=e))return"";for(n||(n="utf8");;)switch(n){case"hex":return Le(this,e,t);case"utf8":case"utf-8":return rt(this,e,t);case"ascii":return nt(this,e,t);case"latin1":case"binary":return ve(this,e,t);case"base64":return tt(this,e,t);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return R(this,e,t);default:if(i)throw new TypeError("Unknown encoding: "+n);n=(n+"").toLowerCase(),i=!0}}o.prototype._isBuffer=!0;function D(n,e,t){const i=n[e];n[e]=n[t],n[t]=i}o.prototype.swap16=function(){const e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)D(this,t,t+1);return this},o.prototype.swap32=function(){const e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)D(this,t,t+3),D(this,t+1,t+2);return this},o.prototype.swap64=function(){const e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)D(this,t,t+7),D(this,t+1,t+6),D(this,t+2,t+5),D(this,t+3,t+4);return this},o.prototype.toString=function(){const e=this.length;return e===0?"":arguments.length===0?rt(this,0,e):ye.apply(this,arguments)},o.prototype.toLocaleString=o.prototype.toString,o.prototype.equals=function(e){if(!o.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e?!0:o.compare(this,e)===0},o.prototype.inspect=function(){let e="";const t=l.INSPECT_MAX_BYTES;return e=this.toString("hex",0,t).replace(/(.{2})/g,"$1 ").trim(),this.length>t&&(e+=" ... "),"<Buffer "+e+">"},h&&(o.prototype[h]=o.prototype.inspect),o.prototype.compare=function(e,t,i,s,a){if(Ae(e,Uint8Array)&&(e=o.from(e,e.offset,e.byteLength)),!o.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(t===void 0&&(t=0),i===void 0&&(i=e?e.length:0),s===void 0&&(s=0),a===void 0&&(a=this.length),t<0||i>e.length||s<0||a>this.length)throw new RangeError("out of range index");if(s>=a&&t>=i)return 0;if(s>=a)return-1;if(t>=i)return 1;if(t>>>=0,i>>>=0,s>>>=0,a>>>=0,this===e)return 0;let f=a-s,S=i-t;const H=Math.min(f,S),J=this.slice(s,a),Z=e.slice(t,i);for(let P=0;P<H;++P)if(J[P]!==Z[P]){f=J[P],S=Z[P];break}return f<S?-1:S<f?1:0};function F(n,e,t,i,s){if(n.length===0)return-1;if(typeof t=="string"?(i=t,t=0):t>2147483647?t=2147483647:t<-2147483648&&(t=-2147483648),t=+t,ht(t)&&(t=s?0:n.length-1),t<0&&(t=n.length+t),t>=n.length){if(s)return-1;t=n.length-1}else if(t<0)if(s)t=0;else return-1;if(typeof e=="string"&&(e=o.from(e,i)),o.isBuffer(e))return e.length===0?-1:N(n,e,t,i,s);if(typeof e=="number")return e=e&255,typeof Uint8Array.prototype.indexOf=="function"?s?Uint8Array.prototype.indexOf.call(n,e,t):Uint8Array.prototype.lastIndexOf.call(n,e,t):N(n,[e],t,i,s);throw new TypeError("val must be string, number or Buffer")}function N(n,e,t,i,s){let a=1,f=n.length,S=e.length;if(i!==void 0&&(i=String(i).toLowerCase(),i==="ucs2"||i==="ucs-2"||i==="utf16le"||i==="utf-16le")){if(n.length<2||e.length<2)return-1;a=2,f/=2,S/=2,t/=2}function H(Z,P){return a===1?Z[P]:Z.readUInt16BE(P*a)}let J;if(s){let Z=-1;for(J=t;J<f;J++)if(H(n,J)===H(e,Z===-1?0:J-Z)){if(Z===-1&&(Z=J),J-Z+1===S)return Z*a}else Z!==-1&&(J-=J-Z),Z=-1}else for(t+S>f&&(t=f-S),J=t;J>=0;J--){let Z=!0;for(let P=0;P<S;P++)if(H(n,J+P)!==H(e,P)){Z=!1;break}if(Z)return J}return-1}o.prototype.includes=function(e,t,i){return this.indexOf(e,t,i)!==-1},o.prototype.indexOf=function(e,t,i){return F(this,e,t,i,!0)},o.prototype.lastIndexOf=function(e,t,i){return F(this,e,t,i,!1)};function Y(n,e,t,i){t=Number(t)||0;const s=n.length-t;i?(i=Number(i),i>s&&(i=s)):i=s;const a=e.length;i>a/2&&(i=a/2);let f;for(f=0;f<i;++f){const S=parseInt(e.substr(f*2,2),16);if(ht(S))return f;n[t+f]=S}return f}function ne(n,e,t,i){return lt(X(e,n.length-t),n,t,i)}function _e(n,e,t,i){return lt(U(e),n,t,i)}function xe(n,e,t,i){return lt(ft(e),n,t,i)}function je(n,e,t,i){return lt($e(e,n.length-t),n,t,i)}o.prototype.write=function(e,t,i,s){if(t===void 0)s="utf8",i=this.length,t=0;else if(i===void 0&&typeof t=="string")s=t,i=this.length,t=0;else if(isFinite(t))t=t>>>0,isFinite(i)?(i=i>>>0,s===void 0&&(s="utf8")):(s=i,i=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const a=this.length-t;if((i===void 0||i>a)&&(i=a),e.length>0&&(i<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");s||(s="utf8");let f=!1;for(;;)switch(s){case"hex":return Y(this,e,t,i);case"utf8":case"utf-8":return ne(this,e,t,i);case"ascii":case"latin1":case"binary":return _e(this,e,t,i);case"base64":return xe(this,e,t,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return je(this,e,t,i);default:if(f)throw new TypeError("Unknown encoding: "+s);s=(""+s).toLowerCase(),f=!0}},o.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function tt(n,e,t){return e===0&&t===n.length?r.fromByteArray(n):r.fromByteArray(n.slice(e,t))}function rt(n,e,t){t=Math.min(n.length,t);const i=[];let s=e;for(;s<t;){const a=n[s];let f=null,S=a>239?4:a>223?3:a>191?2:1;if(s+S<=t){let H,J,Z,P;switch(S){case 1:a<128&&(f=a);break;case 2:H=n[s+1],(H&192)===128&&(P=(a&31)<<6|H&63,P>127&&(f=P));break;case 3:H=n[s+1],J=n[s+2],(H&192)===128&&(J&192)===128&&(P=(a&15)<<12|(H&63)<<6|J&63,P>2047&&(P<55296||P>57343)&&(f=P));break;case 4:H=n[s+1],J=n[s+2],Z=n[s+3],(H&192)===128&&(J&192)===128&&(Z&192)===128&&(P=(a&15)<<18|(H&63)<<12|(J&63)<<6|Z&63,P>65535&&P<1114112&&(f=P))}}f===null?(f=65533,S=1):f>65535&&(f-=65536,i.push(f>>>10&1023|55296),f=56320|f&1023),i.push(f),s+=S}return ct(i)}const Ze=4096;function ct(n){const e=n.length;if(e<=Ze)return String.fromCharCode.apply(String,n);let t="",i=0;for(;i<e;)t+=String.fromCharCode.apply(String,n.slice(i,i+=Ze));return t}function nt(n,e,t){let i="";t=Math.min(n.length,t);for(let s=e;s<t;++s)i+=String.fromCharCode(n[s]&127);return i}function ve(n,e,t){let i="";t=Math.min(n.length,t);for(let s=e;s<t;++s)i+=String.fromCharCode(n[s]);return i}function Le(n,e,t){const i=n.length;(!e||e<0)&&(e=0),(!t||t<0||t>i)&&(t=i);let s="";for(let a=e;a<t;++a)s+=At[n[a]];return s}function R(n,e,t){const i=n.slice(e,t);let s="";for(let a=0;a<i.length-1;a+=2)s+=String.fromCharCode(i[a]+i[a+1]*256);return s}o.prototype.slice=function(e,t){const i=this.length;e=~~e,t=t===void 0?i:~~t,e<0?(e+=i,e<0&&(e=0)):e>i&&(e=i),t<0?(t+=i,t<0&&(t=0)):t>i&&(t=i),t<e&&(t=e);const s=this.subarray(e,t);return Object.setPrototypeOf(s,o.prototype),s};function te(n,e,t){if(n%1!==0||n<0)throw new RangeError("offset is not uint");if(n+e>t)throw new RangeError("Trying to access beyond buffer length")}o.prototype.readUintLE=o.prototype.readUIntLE=function(e,t,i){e=e>>>0,t=t>>>0,i||te(e,t,this.length);let s=this[e],a=1,f=0;for(;++f<t&&(a*=256);)s+=this[e+f]*a;return s},o.prototype.readUintBE=o.prototype.readUIntBE=function(e,t,i){e=e>>>0,t=t>>>0,i||te(e,t,this.length);let s=this[e+--t],a=1;for(;t>0&&(a*=256);)s+=this[e+--t]*a;return s},o.prototype.readUint8=o.prototype.readUInt8=function(e,t){return e=e>>>0,t||te(e,1,this.length),this[e]},o.prototype.readUint16LE=o.prototype.readUInt16LE=function(e,t){return e=e>>>0,t||te(e,2,this.length),this[e]|this[e+1]<<8},o.prototype.readUint16BE=o.prototype.readUInt16BE=function(e,t){return e=e>>>0,t||te(e,2,this.length),this[e]<<8|this[e+1]},o.prototype.readUint32LE=o.prototype.readUInt32LE=function(e,t){return e=e>>>0,t||te(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+this[e+3]*16777216},o.prototype.readUint32BE=o.prototype.readUInt32BE=function(e,t){return e=e>>>0,t||te(e,4,this.length),this[e]*16777216+(this[e+1]<<16|this[e+2]<<8|this[e+3])},o.prototype.readBigUInt64LE=De(function(e){e=e>>>0,He(e,"offset");const t=this[e],i=this[e+7];(t===void 0||i===void 0)&&Je(e,this.length-8);const s=t+this[++e]*2**8+this[++e]*2**16+this[++e]*2**24,a=this[++e]+this[++e]*2**8+this[++e]*2**16+i*2**24;return BigInt(s)+(BigInt(a)<<BigInt(32))}),o.prototype.readBigUInt64BE=De(function(e){e=e>>>0,He(e,"offset");const t=this[e],i=this[e+7];(t===void 0||i===void 0)&&Je(e,this.length-8);const s=t*2**24+this[++e]*2**16+this[++e]*2**8+this[++e],a=this[++e]*2**24+this[++e]*2**16+this[++e]*2**8+i;return(BigInt(s)<<BigInt(32))+BigInt(a)}),o.prototype.readIntLE=function(e,t,i){e=e>>>0,t=t>>>0,i||te(e,t,this.length);let s=this[e],a=1,f=0;for(;++f<t&&(a*=256);)s+=this[e+f]*a;return a*=128,s>=a&&(s-=Math.pow(2,8*t)),s},o.prototype.readIntBE=function(e,t,i){e=e>>>0,t=t>>>0,i||te(e,t,this.length);let s=t,a=1,f=this[e+--s];for(;s>0&&(a*=256);)f+=this[e+--s]*a;return a*=128,f>=a&&(f-=Math.pow(2,8*t)),f},o.prototype.readInt8=function(e,t){return e=e>>>0,t||te(e,1,this.length),this[e]&128?(255-this[e]+1)*-1:this[e]},o.prototype.readInt16LE=function(e,t){e=e>>>0,t||te(e,2,this.length);const i=this[e]|this[e+1]<<8;return i&32768?i|4294901760:i},o.prototype.readInt16BE=function(e,t){e=e>>>0,t||te(e,2,this.length);const i=this[e+1]|this[e]<<8;return i&32768?i|4294901760:i},o.prototype.readInt32LE=function(e,t){return e=e>>>0,t||te(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},o.prototype.readInt32BE=function(e,t){return e=e>>>0,t||te(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},o.prototype.readBigInt64LE=De(function(e){e=e>>>0,He(e,"offset");const t=this[e],i=this[e+7];(t===void 0||i===void 0)&&Je(e,this.length-8);const s=this[e+4]+this[e+5]*2**8+this[e+6]*2**16+(i<<24);return(BigInt(s)<<BigInt(32))+BigInt(t+this[++e]*2**8+this[++e]*2**16+this[++e]*2**24)}),o.prototype.readBigInt64BE=De(function(e){e=e>>>0,He(e,"offset");const t=this[e],i=this[e+7];(t===void 0||i===void 0)&&Je(e,this.length-8);const s=(t<<24)+this[++e]*2**16+this[++e]*2**8+this[++e];return(BigInt(s)<<BigInt(32))+BigInt(this[++e]*2**24+this[++e]*2**16+this[++e]*2**8+i)}),o.prototype.readFloatLE=function(e,t){return e=e>>>0,t||te(e,4,this.length),c.read(this,e,!0,23,4)},o.prototype.readFloatBE=function(e,t){return e=e>>>0,t||te(e,4,this.length),c.read(this,e,!1,23,4)},o.prototype.readDoubleLE=function(e,t){return e=e>>>0,t||te(e,8,this.length),c.read(this,e,!0,52,8)},o.prototype.readDoubleBE=function(e,t){return e=e>>>0,t||te(e,8,this.length),c.read(this,e,!1,52,8)};function $(n,e,t,i,s,a){if(!o.isBuffer(n))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>s||e<a)throw new RangeError('"value" argument is out of bounds');if(t+i>n.length)throw new RangeError("Index out of range")}o.prototype.writeUintLE=o.prototype.writeUIntLE=function(e,t,i,s){if(e=+e,t=t>>>0,i=i>>>0,!s){const S=Math.pow(2,8*i)-1;$(this,e,t,i,S,0)}let a=1,f=0;for(this[t]=e&255;++f<i&&(a*=256);)this[t+f]=e/a&255;return t+i},o.prototype.writeUintBE=o.prototype.writeUIntBE=function(e,t,i,s){if(e=+e,t=t>>>0,i=i>>>0,!s){const S=Math.pow(2,8*i)-1;$(this,e,t,i,S,0)}let a=i-1,f=1;for(this[t+a]=e&255;--a>=0&&(f*=256);)this[t+a]=e/f&255;return t+i},o.prototype.writeUint8=o.prototype.writeUInt8=function(e,t,i){return e=+e,t=t>>>0,i||$(this,e,t,1,255,0),this[t]=e&255,t+1},o.prototype.writeUint16LE=o.prototype.writeUInt16LE=function(e,t,i){return e=+e,t=t>>>0,i||$(this,e,t,2,65535,0),this[t]=e&255,this[t+1]=e>>>8,t+2},o.prototype.writeUint16BE=o.prototype.writeUInt16BE=function(e,t,i){return e=+e,t=t>>>0,i||$(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=e&255,t+2},o.prototype.writeUint32LE=o.prototype.writeUInt32LE=function(e,t,i){return e=+e,t=t>>>0,i||$(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=e&255,t+4},o.prototype.writeUint32BE=o.prototype.writeUInt32BE=function(e,t,i){return e=+e,t=t>>>0,i||$(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=e&255,t+4};function it(n,e,t,i,s){yt(e,i,s,n,t,7);let a=Number(e&BigInt(4294967295));n[t++]=a,a=a>>8,n[t++]=a,a=a>>8,n[t++]=a,a=a>>8,n[t++]=a;let f=Number(e>>BigInt(32)&BigInt(4294967295));return n[t++]=f,f=f>>8,n[t++]=f,f=f>>8,n[t++]=f,f=f>>8,n[t++]=f,t}function Ke(n,e,t,i,s){yt(e,i,s,n,t,7);let a=Number(e&BigInt(4294967295));n[t+7]=a,a=a>>8,n[t+6]=a,a=a>>8,n[t+5]=a,a=a>>8,n[t+4]=a;let f=Number(e>>BigInt(32)&BigInt(4294967295));return n[t+3]=f,f=f>>8,n[t+2]=f,f=f>>8,n[t+1]=f,f=f>>8,n[t]=f,t+8}o.prototype.writeBigUInt64LE=De(function(e,t=0){return it(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))}),o.prototype.writeBigUInt64BE=De(function(e,t=0){return Ke(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))}),o.prototype.writeIntLE=function(e,t,i,s){if(e=+e,t=t>>>0,!s){const H=Math.pow(2,8*i-1);$(this,e,t,i,H-1,-H)}let a=0,f=1,S=0;for(this[t]=e&255;++a<i&&(f*=256);)e<0&&S===0&&this[t+a-1]!==0&&(S=1),this[t+a]=(e/f>>0)-S&255;return t+i},o.prototype.writeIntBE=function(e,t,i,s){if(e=+e,t=t>>>0,!s){const H=Math.pow(2,8*i-1);$(this,e,t,i,H-1,-H)}let a=i-1,f=1,S=0;for(this[t+a]=e&255;--a>=0&&(f*=256);)e<0&&S===0&&this[t+a+1]!==0&&(S=1),this[t+a]=(e/f>>0)-S&255;return t+i},o.prototype.writeInt8=function(e,t,i){return e=+e,t=t>>>0,i||$(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=e&255,t+1},o.prototype.writeInt16LE=function(e,t,i){return e=+e,t=t>>>0,i||$(this,e,t,2,32767,-32768),this[t]=e&255,this[t+1]=e>>>8,t+2},o.prototype.writeInt16BE=function(e,t,i){return e=+e,t=t>>>0,i||$(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=e&255,t+2},o.prototype.writeInt32LE=function(e,t,i){return e=+e,t=t>>>0,i||$(this,e,t,4,2147483647,-2147483648),this[t]=e&255,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},o.prototype.writeInt32BE=function(e,t,i){return e=+e,t=t>>>0,i||$(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=e&255,t+4},o.prototype.writeBigInt64LE=De(function(e,t=0){return it(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),o.prototype.writeBigInt64BE=De(function(e,t=0){return Ke(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Be(n,e,t,i,s,a){if(t+i>n.length)throw new RangeError("Index out of range");if(t<0)throw new RangeError("Index out of range")}function Ie(n,e,t,i,s){return e=+e,t=t>>>0,s||Be(n,e,t,4),c.write(n,e,t,i,23,4),t+4}o.prototype.writeFloatLE=function(e,t,i){return Ie(this,e,t,!0,i)},o.prototype.writeFloatBE=function(e,t,i){return Ie(this,e,t,!1,i)};function ze(n,e,t,i,s){return e=+e,t=t>>>0,s||Be(n,e,t,8),c.write(n,e,t,i,52,8),t+8}o.prototype.writeDoubleLE=function(e,t,i){return ze(this,e,t,!0,i)},o.prototype.writeDoubleBE=function(e,t,i){return ze(this,e,t,!1,i)},o.prototype.copy=function(e,t,i,s){if(!o.isBuffer(e))throw new TypeError("argument should be a Buffer");if(i||(i=0),!s&&s!==0&&(s=this.length),t>=e.length&&(t=e.length),t||(t=0),s>0&&s<i&&(s=i),s===i||e.length===0||this.length===0)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(i<0||i>=this.length)throw new RangeError("Index out of range");if(s<0)throw new RangeError("sourceEnd out of bounds");s>this.length&&(s=this.length),e.length-t<s-i&&(s=e.length-t+i);const a=s-i;return this===e&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(t,i,s):Uint8Array.prototype.set.call(e,this.subarray(i,s),t),a},o.prototype.fill=function(e,t,i,s){if(typeof e=="string"){if(typeof t=="string"?(s=t,t=0,i=this.length):typeof i=="string"&&(s=i,i=this.length),s!==void 0&&typeof s!="string")throw new TypeError("encoding must be a string");if(typeof s=="string"&&!o.isEncoding(s))throw new TypeError("Unknown encoding: "+s);if(e.length===1){const f=e.charCodeAt(0);(s==="utf8"&&f<128||s==="latin1")&&(e=f)}}else typeof e=="number"?e=e&255:typeof e=="boolean"&&(e=Number(e));if(t<0||this.length<t||this.length<i)throw new RangeError("Out of range index");if(i<=t)return this;t=t>>>0,i=i===void 0?this.length:i>>>0,e||(e=0);let a;if(typeof e=="number")for(a=t;a<i;++a)this[a]=e;else{const f=o.isBuffer(e)?e:o.from(e,s),S=f.length;if(S===0)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(a=0;a<i-t;++a)this[a+t]=f[a%S]}return this};const Ge={};function Qe(n,e,t){Ge[n]=class extends t{constructor(){super(),Object.defineProperty(this,"message",{value:e.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${n}]`,this.stack,delete this.name}get code(){return n}set code(s){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:s,writable:!0})}toString(){return`${this.name} [${n}]: ${this.message}`}}}Qe("ERR_BUFFER_OUT_OF_BOUNDS",function(n){return n?`${n} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),Qe("ERR_INVALID_ARG_TYPE",function(n,e){return`The "${n}" argument must be of type number. Received type ${typeof e}`},TypeError),Qe("ERR_OUT_OF_RANGE",function(n,e,t){let i=`The value of "${n}" is out of range.`,s=t;return Number.isInteger(t)&&Math.abs(t)>2**32?s=gt(String(t)):typeof t=="bigint"&&(s=String(t),(t>BigInt(2)**BigInt(32)||t<-(BigInt(2)**BigInt(32)))&&(s=gt(s)),s+="n"),i+=` It must be ${e}. Received ${s}`,i},RangeError);function gt(n){let e="",t=n.length;const i=n[0]==="-"?1:0;for(;t>=i+4;t-=3)e=`_${n.slice(t-3,t)}${e}`;return`${n.slice(0,t)}${e}`}function mt(n,e,t){He(e,"offset"),(n[e]===void 0||n[e+t]===void 0)&&Je(e,n.length-(t+1))}function yt(n,e,t,i,s,a){if(n>t||n<e){const f=typeof e=="bigint"?"n":"";let S;throw e===0||e===BigInt(0)?S=`>= 0${f} and < 2${f} ** ${(a+1)*8}${f}`:S=`>= -(2${f} ** ${(a+1)*8-1}${f}) and < 2 ** ${(a+1)*8-1}${f}`,new Ge.ERR_OUT_OF_RANGE("value",S,n)}mt(i,s,a)}function He(n,e){if(typeof n!="number")throw new Ge.ERR_INVALID_ARG_TYPE(e,"number",n)}function Je(n,e,t){throw Math.floor(n)!==n?(He(n,t),new Ge.ERR_OUT_OF_RANGE("offset","an integer",n)):e<0?new Ge.ERR_BUFFER_OUT_OF_BOUNDS:new Ge.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${e}`,n)}const Ee=/[^+/0-9A-Za-z-_]/g;function St(n){if(n=n.split("=")[0],n=n.trim().replace(Ee,""),n.length<2)return"";for(;n.length%4!==0;)n=n+"=";return n}function X(n,e){e=e||1/0;let t;const i=n.length;let s=null;const a=[];for(let f=0;f<i;++f){if(t=n.charCodeAt(f),t>55295&&t<57344){if(!s){if(t>56319){(e-=3)>-1&&a.push(239,191,189);continue}else if(f+1===i){(e-=3)>-1&&a.push(239,191,189);continue}s=t;continue}if(t<56320){(e-=3)>-1&&a.push(239,191,189),s=t;continue}t=(s-55296<<10|t-56320)+65536}else s&&(e-=3)>-1&&a.push(239,191,189);if(s=null,t<128){if((e-=1)<0)break;a.push(t)}else if(t<2048){if((e-=2)<0)break;a.push(t>>6|192,t&63|128)}else if(t<65536){if((e-=3)<0)break;a.push(t>>12|224,t>>6&63|128,t&63|128)}else if(t<1114112){if((e-=4)<0)break;a.push(t>>18|240,t>>12&63|128,t>>6&63|128,t&63|128)}else throw new Error("Invalid code point")}return a}function U(n){const e=[];for(let t=0;t<n.length;++t)e.push(n.charCodeAt(t)&255);return e}function $e(n,e){let t,i,s;const a=[];for(let f=0;f<n.length&&!((e-=2)<0);++f)t=n.charCodeAt(f),i=t>>8,s=t%256,a.push(s),a.push(i);return a}function ft(n){return r.toByteArray(St(n))}function lt(n,e,t,i){let s;for(s=0;s<i&&!(s+t>=e.length||s>=n.length);++s)e[s+t]=n[s];return s}function Ae(n,e){return n instanceof e||n!=null&&n.constructor!=null&&n.constructor.name!=null&&n.constructor.name===e.name}function ht(n){return n!==n}const At=function(){const n="0123456789abcdef",e=new Array(256);for(let t=0;t<16;++t){const i=t*16;for(let s=0;s<16;++s)e[i+s]=n[t]+n[s]}return e}();function De(n){return typeof BigInt>"u"?ot:n}function ot(){throw new Error("BigInt not supported")}}(Nt)),Nt}var Me=Tr(),kr=["ja","en","fr","it","de","es","ru","pl","nl","pt","pt-br","ko","zh-tw","zh-cn","fi","sv","da","no","cs","hu","sk","ar","tr","bg","el","ro","th","uk","vi","id","fiction","hi","es-mx","max"],Mr=class{#t;#e=0;#r=!0;constructor(l=0){this.#t=Me.Buffer.alloc(l)}get currentOffset(){return this.#e}get currentSize(){return this.#t.length}get buffer(){let l=Me.Buffer.alloc(this.#t.length);return this.#t.copy(l),l}endianness(l){this.#r=l==="little"}grow(l){this.#t=Me.Buffer.concat([this.#t,Me.Buffer.alloc(l)])}growIfNeeded(l){this.#e+l>this.#t.length&&this.grow(this.#e+l-this.#t.length)}seek(l){let r=this.#e;return this.growIfNeeded(l),this.#e+=l,r}goto(l){let r=this.#e;return this.growIfNeeded(this.currentOffset-l),this.#e=l,r}alignTo(l){let r=this.#e%l;r!==0&&(this.growIfNeeded(l-r),this.#e+=l-r)}#n=(l,r,c)=>(h,p)=>{(p?.into==null||p.into+l>this.#t.length)&&this.growIfNeeded(l),this.#t[!this.#r&&c!=null?c:r](h,p?.into??this.#e,l),p?.into==null&&(this.#e+=l)};setInt8=this.#n(1,"writeInt8");setUint8=this.#n(1,"writeUInt8");setInt16=this.#n(2,"writeInt16LE","writeInt16BE");setUint16=this.#n(2,"writeUInt16LE","writeUInt16BE");setInt32=this.#n(4,"writeInt32LE","writeInt32BE");setUint32=this.#n(4,"writeUInt32LE","writeUInt32BE");setInt64=this.#n(8,"writeBigInt64LE","writeBigInt64BE");setUint64=this.#n(8,"writeBigUInt64LE","writeBigUInt64BE");setFloat=this.#n(4,"writeFloatLE","writeFloatBE");setDouble=this.#n(8,"writeDoubleLE","writeDoubleBE");setString(l,r){this.growIfNeeded(l.length),this.#t.write(l,r?.into??this.#e,"utf8"),r?.into==null&&(this.#e+=l.length)}setBuffer(l,r){this.growIfNeeded(l.length),l.copy(this.#t,r?.into??this.#e),r?.into==null&&(this.#e+=l.length)}},Lr=class{#t;#e=0;#r=!0;constructor(l){this.#t=l}get currentOffset(){return this.#e}endianness(l){this.#r=l==="little"}seek(l){let r=this.#e;return this.#e+=l,r}goto(l){let r=this.#e;return this.#e=l,r}alignTo(l){this.#e+=this.#e%l}readInt8(l){let r=new DataView(this.#t.buffer,l?.pointer??this.#e,1);return l?.pointer==null&&(this.#e+=1),r.getInt8(0)}readUint8(l){let r=new DataView(this.#t.buffer,l?.pointer??this.#e,1);return l?.pointer==null&&(this.#e+=1),r.getUint8(0)}readInt16(l){let r=new DataView(this.#t.buffer,l?.pointer??this.#e,2);return l?.pointer==null&&(this.#e+=2),r.getInt16(0,this.#r)}readUint16(l){let r=new DataView(this.#t.buffer,l?.pointer??this.#e,2);return l?.pointer==null&&(this.#e+=2),r.getUint16(0,this.#r)}readInt32(l){let r=new DataView(this.#t.buffer,l?.pointer??this.#e,4);return l?.pointer==null&&(this.#e+=4),r.getInt32(0,this.#r)}readUint32(l){let r=new DataView(this.#t.buffer,l?.pointer??this.#e,4);return l?.pointer==null&&(this.#e+=4),r.getUint32(0,this.#r)}readInt64(l){let r=new DataView(this.#t.buffer,l?.pointer??this.#e,8);return l?.pointer==null&&(this.#e+=8),r.getBigInt64(0,this.#r)}readUint64(l){let r=new DataView(this.#t.buffer,l?.pointer??this.#e,8);return l?.pointer==null&&(this.#e+=8),r.getBigUint64(0,this.#r)}readFloat(l){let r=new DataView(this.#t.buffer,l?.pointer??this.#e,4);return l?.pointer==null&&(this.#e+=4),r.getFloat32(0,this.#r)}readDouble(l){let r=new DataView(this.#t.buffer,l?.pointer??this.#e,8);return l?.pointer==null&&(this.#e+=8),r.getFloat64(0,this.#r)}readBuffer(l){let r=this.#t.subarray(this.#e,this.#e+l.length);return l.pointer==null&&(this.#e+=l.length),r}readString(l){let r;if("length"in l&&(r=this.readBuffer(l)),"zeroed"in l){let c=new DataView(this.#t.buffer,this.#e),h=0;for(;c.getUint8(this.#e+h)!==0;)h++;r=this.#t.subarray(0,h),this.#e+=h}return new TextDecoder().decode(r)}},or=[207,206,251,248,236,10,51,102,147,169,29,147,80,57,95,9],Nr=l=>{let r=Me.Buffer.from(l),c=0;for(let h=0;h<r.length;h++){let p=r[h];r[h]=p^c^or[h&15],c=p}return r},Dr=l=>{let r=Me.Buffer.from(l),c=0;for(let h=0;h<r.length;h++){let p=r[h];r[h]=p^c^or[h&15],c=r[h]}return r},Rr=l=>{let r=l.toString("hex");return[r.slice(6,8)+r.slice(4,6)+r.slice(2,4)+r.slice(0,2),r.slice(10,12)+r.slice(8,10),r.slice(14,16)+r.slice(12,14),r.slice(16,18)+r.slice(18,20),r.slice(20,32)].join("-")},Pr=l=>{let r=l.replaceAll("-","");return Me.Buffer.from([r.slice(6,8)+r.slice(4,6)+r.slice(2,4)+r.slice(0,2),r.slice(10,12)+r.slice(8,10),r.slice(14,16)+r.slice(12,14),r.slice(16,18)+r.slice(18,20),r.slice(20,32)].join(""),"hex")},jr=(l,r)=>{if(l.length===0)return new Map;let c=l.toString("utf16le");if(c.at(-1)!=="\0")throw new Error("String is not null-terminated");let h=new Map,p=0;for(let m=0;m<c.length;m++)c[m]==="\0"&&(h.set(r+p*2,c.slice(p,m)),p=m+1);return h},Vr=(l,r)=>{let c=0,h=new Map,p=I=>{if(h.has(I))return h.get("str");let x=r+c;return h.set(I,x),c+=I.length*2+2,x},m=[],y=[];for(let I=0;I<l.meta.attributes.length;I++){let x=l.meta.attributes[I];x.type===-1?(p(""),m.push(I)):x.type===2&&(p(x.name),y.push(I))}for(let I=0;I<l.meta.attributes.length;I++){let x=l.meta.attributes[I];p(x.name)}for(let I of l.entries){p(I.name);for(let x of Object.values(I.strings))p(x);for(let x of y)p(I.attributes[x])}let o=Me.Buffer.alloc(0);for(let I of h.keys()){let x=Me.Buffer.from(`${I}\0`,"utf16le");o=Me.Buffer.concat([o,x])}return{map:h,nullAttributes:m,stringAttributes:y,data:o}},qr=l=>({version:l.readUint32(),magic:l.readString({length:4}),headerOffset:l.readUint64(),entryCount:l.readUint32(),attributeCount:l.readUint32(),langCount:l.readUint32(),_:l.alignTo(8),dataOffset:l.readUint64(),_2:l.seek(8),langOffset:l.readUint64(),attributesOffset:l.readUint64(),attributeNamesOffset:l.readUint64()}),Qt=l=>{let r=new Lr(l),c=qr(r),h=[];if(c.magic!=="GMSG")throw new Error(`Invalid magic: ${c.magic}`);if(c.version!==539100710&&c.version!==23)throw new Error(`Uknkown version: ${c.version}`);let p=[];for(let o=0;o<c.entryCount;o++)p.push(r.readUint64());r.seek(8);let m=[];for(let o=0;o<c.langCount;o++)m.push(kr[r.readInt32()]??"unknown");if(r.alignTo(8),Number(c.attributesOffset)!==r.currentOffset)throw new Error(`Attributes offset mismatch: ${c.attributesOffset} != ${r.currentOffset}`);let y=[];for(let o=0;o<c.attributeCount;o++)y.push({type:r.readInt32(),nameOffset:null,name:null});if(r.alignTo(8),Number(c.attributeNamesOffset)!==r.currentOffset)throw new Error(`Attribute names offset mismatch: ${c.attributeNamesOffset} != ${r.currentOffset}`);for(let o=0;o<c.attributeCount;o++)y[o].nameOffset=r.readUint64();if(c.entryCount!==0){for(let x=0;x<c.entryCount;x++){if(Number(p[x])!==r.currentOffset)throw new Error(`Entry header offset mismatch: $${r.currentOffset} != entry:${x}:${p[x]}`);let w={id:Rr(r.readBuffer({length:16})),crc:r.readUint32(),hash:r.readUint32(),nameOffset:r.readUint64(),attributesOffset:r.readUint64(),contentOffsetsByLang:[]};for(let g=0;g<c.langCount;g++)w.contentOffsetsByLang.push(r.readUint64());h.push({header:w})}for(let x=0;x<c.entryCount;x++){let w=h[x];if(Number(w.header.attributesOffset)!==r.currentOffset)throw new Error(`Entry header attributes offset mismatch: $${r.currentOffset} != entry:${x}:${w.header.attributesOffset}`);w.attributes=[];for(let g=0;g<y.length;g++){let M=y[g];switch(M.type){case-1:w.attributes[g]=Number(r.readUint64());break;case 0:w.attributes[g]=r.readUint32(),r.seek(4);break;case 1:w.attributes[g]=r.readDouble();break;case 2:w.attributes[g]=Number(r.readUint64());break;default:throw new Error(`Not implemented attribute type ${M.type}`)}}}if(Number(c.dataOffset)!==r.currentOffset)throw new Error(`Data offset mismatch: $${c.dataOffset} != ${r.currentOffset}`);let o=Nr(l.subarray(r.currentOffset)),I=jr(o,r.currentOffset);for(let x=0;x<y.length;x++){let w=y[x];w.name=I.get(Number(w.nameOffset))}for(let x=0;x<h.length;x++){let w=h[x];for(let g=0;g<c.attributeCount;g++)switch(y[g].type){case 2:w.attributes[g]=I.get(w.attributes[g]);break;case-1:if(w.attributes[g]=I.get(w.attributes[g]),w.attributes[g]!==""&&w.attributes[g]!=="\0")throw new Error(`Attribute with type -1 is not empty string: "${w.attributes[g]}"`);break}}for(let x=0;x<h.length;x++){let w=h[x];w.name=I.get(Number(w.header.nameOffset)),w.strings={};for(let g=0;g<w.header.contentOffsetsByLang.length;g++){let M=Number(w.header.contentOffsetsByLang[g]);w.strings[m[g]]=I.get(M)}}}return{meta:{version:c.version,attributes:y.map(o=>({type:o.type,name:o.name}))},entries:h.map(o=>({meta:{id:o.header.id,crc:o.header.crc,hash:o.header.hash},name:o.name,attributes:o.attributes,strings:o.strings}))}},zr=l=>{if(l.meta.version!==539100710&&l.meta.version!==23)throw new Error(`Unsupported version ${l.meta.version}`);let r=new Mr;r.setUint32(l.meta.version),r.setString("GMSG"),r.setUint64(16n),r.setUint32(l.entries.length),r.setUint32(l.meta.attributes.length);let c=l.entries[0]!=null?Object.keys(l.entries[0].strings).length:0;r.setUint32(c),r.alignTo(8);let h=r.currentOffset;r.setInt64(-1n);let p=r.currentOffset;r.setInt64(-1n);let m=r.currentOffset;r.setInt64(-1n);let y=r.currentOffset;r.setInt64(-1n);let o=r.currentOffset;r.setInt64(-1n);let I=[];for(let _=0;_<l.entries.length;_++)I.push(r.currentOffset),r.setInt64(-1n);r.setUint64(BigInt(r.currentOffset),{into:p}),r.setUint64(0n),r.setUint64(BigInt(r.currentOffset),{into:m});for(let _=0;_<c;_++)r.setInt32(_);r.alignTo(8),r.setUint64(BigInt(r.currentOffset),{into:y});for(let _ of l.meta.attributes)r.setInt32(_.type);r.alignTo(8),r.setUint64(BigInt(r.currentOffset),{into:o});let x=[];for(let _ of l.meta.attributes)x.push(r.currentOffset),r.setInt64(-1n);let w=[];for(let _=0;_<l.entries.length;_++){r.setUint64(BigInt(r.currentOffset),{into:I[_]});let A=l.entries[_];r.setBuffer(Pr(A.meta.id)),r.setUint32(A.meta.crc),r.setUint32(A.meta.hash),w[_]??={},w[_].name=r.currentOffset,r.setInt64(-1n),w[_].attributes=r.currentOffset,r.setInt64(-1n),w[_].langs=[];for(let k=0;k<c;k++)w[_].langs[k]=r.currentOffset,r.setInt64(-1n);w[_].attributeValues=[]}for(let _=0;_<l.entries.length;_++){let A=l.entries[_];r.setUint64(BigInt(r.currentOffset),{into:w[_].attributes});for(let k=0;k<l.meta.attributes.length;k++){switch(l.meta.attributes[k].type){case-1:r.setInt64(-1n);break;case 0:r.setInt32(A.attributes[k]);break;case 1:r.setDouble(A.attributes[k]);break;case 2:r.setInt64(-1n);break}w[_].attributeValues[k]=r.currentOffset}}let g=r.currentOffset;r.setUint64(BigInt(g),{into:h});let{data:M,map:v,nullAttributes:E,stringAttributes:O}=Vr(l,g),W=Dr(M);r.setBuffer(W);for(let _=0;_<l.meta.attributes.length;_++){let{name:A}=l.meta.attributes[_],k=x[_];r.setUint64(BigInt(v.get(A)),{into:k})}for(let _=0;_<l.entries.length;_++){let A=l.entries[_],k=w[_];r.setUint64(BigInt(v.get(A.name)),{into:k.name});let ye=Object.values(A.strings);for(let F=0;F<ye.length;F++){let N=ye[F];r.setUint64(BigInt(v.get(N)),{into:k.langs[F]})}for(let F of O){let N=A.attributes[F];r.setUint64(BigInt(v.get(N)),{into:k.attributeValues[F]})}let D=v.get("");for(let F of E)r.setUint64(BigInt(D),{into:k.attributeValues[F]})}return r.buffer},Gr=me('<div class="svelte-66wdl1"></div>');function Hr(l,r){let c=b(r,"color",19,()=>"cornflowerblue"),h=b(r,"duration",19,()=>"1.5s"),p=b(r,"size",19,()=>"1em");var m=Gr();let y;be(()=>y=Ye(m,`--duration: ${h()??""}`,y,{"border-color":`${c()??""} transparent ${c()??""}
  ${c()??""}`,width:p(),height:p()})),C(l,m)}var Jr=me("<span><!></span>");function Wr(l,r){Et(r,!0);let c=b(r,"wiggle",15,!1),h=b(r,"angle",3,0),p=b(r,"scale",3,1),m=b(r,"dx",3,0),y=b(r,"dy",3,0),o=b(r,"duration",3,200),I=b(r,"stiffness",3,.05),x=b(r,"damping",3,.1);const w=Br.of(()=>c()?{scale:p(),angle:h(),dx:m(),dy:y()}:{angle:0,scale:1,dx:0,dy:0},{stiffness:I(),damping:x()});ut(()=>{c()&&setTimeout(()=>c(!1),o())});var g=Jr();let M;var v=he(g);Te(v,()=>r.children??tr),be(()=>M=Ye(g,"",M,{transform:`rotate(${w.current.angle??""}deg) scale(${w.current.scale??""})
  translate(${w.current.dx??""}px, ${w.current.dy??""}px)`})),C(l,g),Ut()}var Yr=Dt('<svg><path d="M3.646 9.146a.5.5 0 0 1 .708 0L8 12.793l3.646-3.647a.5.5 0 0 1 .708.708l-4 4a.5.5 0 0 1-.708 0l-4-4a.5.5 0 0 1 0-.708zm0-2.292a.5.5 0 0 0 .708 0L8 3.207l3.646 3.647a.5.5 0 0 0 .708-.708l-4-4a.5.5 0 0 0-.708 0l-4 4a.5.5 0 0 0 0 .708z"></path></svg>');function Xr(l,r){let c=Ft(r,["$$slots","$$events","$$legacy"]);var h=Yr();Ot(h,()=>({...c,fill:"currentColor",viewBox:"0 0 16 16"})),C(l,h)}var Zr=Dt('<svg><path d="M18.3 5.71a.996.996 0 0 0-1.41 0L12 10.59L7.11 5.7A.996.996 0 1 0 5.7 7.11L10.59 12L5.7 16.89a.996.996 0 1 0 1.41 1.41L12 13.41l4.89 4.89a.996.996 0 1 0 1.41-1.41L13.41 12l4.89-4.89c.38-.38.38-1.02 0-1.4z"></path></svg>');function $t(l,r){let c=Ft(r,["$$slots","$$events","$$legacy"]);var h=Zr();Ot(h,()=>({...c,viewBox:"0 0 24 24",fill:"currentColor"})),C(l,h)}var Kr=Dt('<svg><path d="M12 22c5.523 0 10-4.477 10-10S17.523 2 12 2S2 6.477 2 12s4.477 10 10 10Zm-4.906-3.68L18.32 7.094A8 8 0 0 1 7.094 18.32ZM5.68 16.906A8 8 0 0 1 16.906 5.68L5.68 16.906Z"></path></svg>');function Qr(l,r){let c=Ft(r,["$$slots","$$events","$$legacy"]);var h=Kr();Ot(h,()=>({...c,viewBox:"0 0 24 24",fill:"currentColor"})),C(l,h)}const Ce=l=>l instanceof Object?(l.label===void 0&&console.error(`MultiSelect option ${JSON.stringify(l)} is an object but has no label key`),l.label):`${l}`;function er(l,r=null){let c="";if(["selected","option",null].includes(r)||console.error(`MultiSelect: Invalid key=${r} for get_style`),typeof l=="object"&&l.style&&(typeof l.style=="string"&&(c=l.style),typeof l.style=="object")){if(r&&r in l.style)return l.style[r]??"";console.error(`Invalid style object for option=${JSON.stringify(l)}`)}return c.trim()&&!c.trim().endsWith(";")&&(c+=";"),c}function $r(l,r,c){if(typeof CSS>"u"||!CSS.highlights||!r)return;CSS.highlights.clear();const h=document.createTreeWalker(l,NodeFilter.SHOW_TEXT,{acceptNode:o=>o?.textContent===c?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT}),p=[];let m=h.nextNode();for(;m;)p.push(m),m=h.nextNode();const y=p.map(o=>{const I=o.textContent?.toLowerCase(),x=[];let w=0;for(;I&&w<I.length;){const g=I.indexOf(r,w);if(g===-1)break;x.push(g),w=g+r.length}return x.map(g=>{const M=new Range;return M.setStart(o,g),M.setEnd(o,g+r.length),M})});CSS.highlights.set("sms-search-matches",new Highlight(...y.flat()))}var en=(l,r,c)=>r(d(c),l),tn=me('<button type="button" class="remove svelte-1taxil8"><!></button>'),rn=me('<li role="option" aria-selected="true"><!> <!></li>'),nn=me("<span> </span>"),ln=me('<button type="button" class="remove remove-all svelte-1taxil8"><!></button>'),on=me("<!> <!>",1),sn=(l,r,c,h)=>{d(r).disabled||c(d(h),l)},an=(l,r,c,h)=>{!d(r).disabled&&(l.key==="Enter"||l.code==="Space")&&(l.preventDefault(),c(d(h),l))},un=me('<li role="option" aria-selected="false"><!></li>'),cn=(l,r,c,h,p)=>{d(r)==="create"&&c()&&h(p(),l)},fn=(l,r,c,h,p)=>{d(r)==="create"&&c()&&(l.key==="Enter"||l.code==="Space")&&(l.preventDefault(),h(p(),l))},hn=(l,r)=>ge(r,!0),dn=(l,r)=>ge(r,!1),pn=me('<li role="option" aria-selected="false"><!></li>'),gn=me('<ul role="listbox"><!> <!></ul>'),mn=me('<div role="searchbox" tabindex="-1"><input tabindex="-1" aria-hidden="true" aria-label="ignore this, used only to prevent form submission if select is required but empty" class="form-control svelte-1taxil8"/> <!> <ul aria-label="selected options"><!> <input/> <!></ul> <!> <!> <!></div>');function yn(l,r){Et(r,!0);let c=b(r,"activeIndex",15,null),h=b(r,"activeOption",15,null),p=b(r,"createOptionMsg",19,()=>"Create this option..."),m=b(r,"allowUserOptions",3,!1),y=b(r,"allowEmpty",3,!1),o=b(r,"autocomplete",19,()=>"off"),I=b(r,"autoScroll",3,!0),x=b(r,"breakpoint",3,800),w=b(r,"defaultDisabledTitle",19,()=>"This option is disabled"),g=b(r,"disabled",3,!1),M=b(r,"disabledInputTitle",19,()=>"This input is disabled"),v=b(r,"duplicateOptionMsg",19,()=>"This option is already selected"),E=b(r,"duplicates",3,!1),O=b(r,"key",3,u=>`${Ce(u)}`.toLowerCase()),W=b(r,"filterFunc",3,(u,B)=>B?`${Ce(u)}`.toLowerCase().includes(B.toLowerCase()):!0),_=b(r,"closeDropdownOnSelect",19,()=>"desktop"),A=b(r,"form_input",15,null),k=b(r,"highlightMatches",3,!0),ye=b(r,"id",3,null),D=b(r,"input",15,null),F=b(r,"inputClass",19,()=>""),N=b(r,"inputStyle",3,null),Y=b(r,"inputmode",3,null),ne=b(r,"invalid",15,!1),_e=b(r,"liActiveOptionClass",19,()=>""),xe=b(r,"liActiveUserMsgClass",19,()=>""),je=b(r,"liOptionClass",19,()=>""),tt=b(r,"liOptionStyle",3,null),rt=b(r,"liSelectedClass",19,()=>""),Ze=b(r,"liSelectedStyle",3,null),ct=b(r,"liUserMsgClass",19,()=>""),nt=b(r,"loading",3,!1),ve=b(r,"matchingOptions",31,()=>It([])),Le=b(r,"maxOptions",3,void 0),R=b(r,"maxSelect",3,null),te=b(r,"maxSelectMsg",3,(u,B)=>B>1?`${u}/${B}`:""),$=b(r,"maxSelectMsgClass",19,()=>""),it=b(r,"name",3,null),Ke=b(r,"noMatchingOptionsMsg",19,()=>"No matching options"),Be=b(r,"open",15,!1),Ie=b(r,"options",15),ze=b(r,"outerDiv",15,null),Ge=b(r,"outerDivClass",19,()=>""),Qe=b(r,"parseLabelsAsHtml",3,!1),gt=b(r,"pattern",3,null),mt=b(r,"placeholder",3,null),yt=b(r,"removeAllTitle",19,()=>"Remove all"),He=b(r,"removeBtnTitle",19,()=>"Remove"),Je=b(r,"minSelect",3,null),Ee=b(r,"required",7,!1),St=b(r,"resetFilterOnAdd",3,!0),X=b(r,"searchText",31,()=>""),U=b(r,"selected",31,()=>It(Ie()?.filter(u=>u instanceof Object&&u?.preselected).slice(0,R()??void 0)??[])),$e=b(r,"sortSelected",3,!1),ft=b(r,"selectedOptionsDraggable",19,()=>!$e()),lt=b(r,"style",3,null),Ae=b(r,"ulOptionsClass",19,()=>""),ht=b(r,"ulSelectedClass",19,()=>""),At=b(r,"ulSelectedStyle",3,null),De=b(r,"ulOptionsStyle",3,null),ot=b(r,"value",15,null),n=b(r,"portal",19,()=>({})),e=Ft(r,["$$slots","$$events","$$legacy","activeIndex","activeOption","createOptionMsg","allowUserOptions","allowEmpty","autocomplete","autoScroll","breakpoint","defaultDisabledTitle","disabled","disabledInputTitle","duplicateOptionMsg","duplicates","key","filterFunc","closeDropdownOnSelect","form_input","highlightMatches","id","input","inputClass","inputStyle","inputmode","invalid","liActiveOptionClass","liActiveUserMsgClass","liOptionClass","liOptionStyle","liSelectedClass","liSelectedStyle","liUserMsgClass","loading","matchingOptions","maxOptions","maxSelect","maxSelectMsg","maxSelectMsgClass","name","noMatchingOptionsMsg","open","options","outerDiv","outerDivClass","parseLabelsAsHtml","pattern","placeholder","removeAllTitle","removeBtnTitle","minSelect","required","resetFilterOnAdd","searchText","selected","sortSelected","selectedOptionsDraggable","style","ulOptionsClass","ulSelectedClass","ulSelectedStyle","ulOptionsStyle","value","expandIcon","selectedItem","children","removeIcon","afterInput","spinner","disabledIcon","option","userMsg","onblur","onclick","onfocus","onkeydown","onkeyup","onmousedown","onmouseenter","onmouseleave","ontouchcancel","ontouchend","ontouchmove","ontouchstart","onadd","oncreate","onremove","onremoveAll","onchange","onopen","onclose","portal"]);ut(()=>{ot(R()===1?U()[0]??null:U())}),ut(()=>{R()===1?U(ot()?[ot()]:[]):U(ot()??[])});let t=Xe(!1);Ie()?.length>0||(m()||nt()||g()||y()?Ie([]):console.error("MultiSelect received no options")),R()!==null&&R()<1&&console.error(`MultiSelect's maxSelect must be null or positive integer, got ${R()}`),Array.isArray(U())||console.error(`MultiSelect's selected prop should always be an array, got ${U()}`),R()&&typeof Ee()=="number"&&Ee()>R()&&console.error(`MultiSelect maxSelect=${R()} < required=${Ee()}, makes it impossible for users to submit a valid form`),Qe()&&m()&&console.warn("Don't combine parseLabelsAsHtml and allowUserOptions. It's susceptible to XSS attacks!"),$e()&&ft()&&console.warn("MultiSelect's sortSelected and selectedOptionsDraggable should not be combined as any user re-orderings of selected options will be undone by sortSelected on component re-renders."),m()&&!p()&&p()!==null&&console.error(`MultiSelect has allowUserOptions=${m()} but createOptionMsg=${p()} is falsy. This prevents the "Add option" <span> from showing up, resulting in a confusing user experience.`),Le()&&(typeof Le()!="number"||Le()<0||Le()%1!=0)&&console.error(`MultiSelect's maxOptions must be undefined or a positive integer, got ${Le()}`);let i=Xe(!1),s=Xe(0);if(ut(()=>{ve(Ie().filter(u=>W()(u,X())&&(!U().map(O()).includes(O()(u))||E())))}),c()!==null&&!ve()[c()])throw`Run time error, activeIndex=${c()} is out of bounds, matchingOptions.length=${ve().length}`;nr(()=>{h(ve()[c()??-1]??null)});function a(u,B){B.stopPropagation(),R()!==null&&U().length>=R()&&ge(t,!0),!isNaN(Number(u))&&typeof U().map(Ce)[0]=="number"&&(u=Number(u));const T=U().map(O()).includes(O()(u));if((R()===null||R()===1||U().length<R())&&(E()||!T)){if(!Ie().includes(u)&&[!0,"append"].includes(m())&&X().length>0&&(typeof Ie()[0]=="object"?u={label:X()}:(["number","undefined"].includes(typeof Ie()[0])&&!isNaN(Number(X()))?u=Number(X()):u=X(),r.oncreate?.({option:u})),m()==="append"&&Ie([...Ie(),u])),St()&&X(""),["",void 0,null].includes(u)){console.error(`MultiSelect: encountered falsy option ${u}`);return}R()===1?U([u]):(U([...U(),u]),$e()===!0?U(U().sort((V,L)=>{const[z,Ue]=[Ce(V),Ce(L)];return`${z}`.localeCompare(`${Ue}`)})):typeof $e()=="function"&&U(U().sort($e())));const q=U().length===R(),j=_()===!0||_()==="desktop"&&d(s)&&d(s)<x();q||j?H(B):j||D()?.focus(),r.onadd?.({option:u}),r.onchange?.({option:u,type:"add"}),ne(!1),A()?.setCustomValidity("")}}function f(u,B){if(B.stopPropagation(),U().length===0)return;const T=U().findIndex(j=>O()(j)===O()(u));let[q]=U().splice(T,1);if(q===void 0&&m()&&(q=typeof Ie()[0]?{label:u}:u),q===void 0)return console.error(`Multiselect can't remove selected option ${JSON.stringify(u)}, not found in selected list`);U([...U()]),ne(!1),A()?.setCustomValidity(""),r.onremove?.({option:q}),r.onchange?.({option:q,type:"remove"})}function S(u){u.stopPropagation(),!g()&&(Be(!0),u instanceof FocusEvent||D()?.focus(),r.onopen?.({event:u}))}function H(u){Be(!1),D()?.blur(),c(null),r.onclose?.({event:u})}async function J(u){if(u.key==="Escape"||u.key==="Tab")u.stopPropagation(),H(u),X("");else if(u.key==="Enter")u.stopPropagation(),u.preventDefault(),h()?(U().includes(h())?f(h(),u):a(h(),u),X("")):m()&&X().length>0?a(X(),u):S(u);else if(["ArrowDown","ArrowUp"].includes(u.key)){if(u.stopPropagation(),c()===null&&ve().length>0){u.preventDefault(),c(0);return}else if(m()&&!ve().length&&X().length>0){u.preventDefault(),ge(i,!d(i));return}else if(c()===null)return;u.preventDefault();const B=u.key==="ArrowUp"?-1:1;if(c((c()+B)%ve().length),c()<0&&c(ve().length-1),I()){await Mt();const T=document.querySelector("ul.options > li.active");T&&T.scrollIntoViewIfNeeded?.()}}else u.key==="Backspace"&&U().length>0&&!X()?(u.stopPropagation(),f(U().at(-1),u)):ve().length>0&&c()===null&&c(0)}function Z(u){u.stopPropagation(),r.onremoveAll?.({options:U()}),r.onchange?.({options:U(),type:"removeAll"}),U([]),X("")}let P=ae(()=>u=>U().map(Ce).includes(u));const Rt=u=>B=>{["Enter","Space"].includes(B.code)&&(B.preventDefault(),u(B))};function Pt(u){ze()&&!ze().contains(u.target)&&H(u)}let Ct=Xe(null);const sr=u=>B=>{if(!B.dataTransfer)return;B.dataTransfer.dropEffect="move";const T=parseInt(B.dataTransfer.getData("text/plain")),q=[...U()];T<u?(q.splice(u+1,0,q[T]),q.splice(T,1)):(q.splice(u,0,q[T]),q.splice(T+1,1)),U(q),ge(Ct,null)},ar=u=>B=>{B.dataTransfer&&(B.dataTransfer.effectAllowed="move",B.dataTransfer.dropEffect="move",B.dataTransfer.setData("text/plain",`${u}`))};let wt=Xe(void 0);function ur(u){if(!k()||!d(wt))return;const B=u?.target?.value.trim().toLowerCase();B&&$r(d(wt),B,Ke())}const cr=u=>{J(u),r.onkeydown?.(u)},fr=u=>{S(u),r.onfocus?.(u)};ut(()=>{Ee(Ee()),A()?.setCustomValidity("")});function hr(u,B){let{target_node:T,active:q}=B;if(!q)return;let j=typeof window>"u"||!document.body.contains(u);if(!j){document.body.appendChild(u),u.style.position="fixed";const V=()=>{if(!T||!Be())return u.hidden=!0;const L=T.getBoundingClientRect();u.style.left=`${L.left}px`,u.style.top=`${L.bottom}px`,u.style.width=`${L.width}px`,u.hidden=!1};return Be()&&Mt().then(V),window.addEventListener("scroll",V,!0),window.addEventListener("resize",V),ut(()=>{Be()&&T?V():u.hidden=!0}),{update(L){T=L.target_node,j=typeof window>"u"||!document.body.contains(u),Be()&&!j&&T?Mt().then(V):(!Be()||!T)&&(u.hidden=!0)},destroy(){j||u.remove(),window.removeEventListener("scroll",V,!0),window.removeEventListener("resize",V)}}}}var We=mn();Se("click",Ht,Pt),Se("touchstart",Ht,Pt,void 0,!0);let jt;We.__mouseup=S;var st=he(We);vt(st,u=>A(u),()=>A());var Vt=oe(st,2);{var dr=u=>{var B=we(),T=se(B);Te(T,()=>r.expandIcon,()=>({open:Be()})),C(u,B)},pr=u=>{Xr(u,{width:"15px",style:"min-width: 1em; padding: 0 1pt; cursor: pointer;"})};Q(Vt,u=>{r.expandIcon?u(dr):u(pr,!1)})}var bt=oe(Vt,2),qt=he(bt);_t(qt,27,U,(u,B)=>E()?[O()(u),B]:O()(u),(u,B,T,q)=>{var j=rn();const V=ae(()=>[er(d(B),"selected"),Ze()].filter(Boolean).join(" ")||null);let L;var z=ae(()=>ar(d(T))),Ue=ae(()=>sr(d(T))),Oe=he(j);{var re=G=>{var K=we(),ie=se(K);Te(ie,()=>r.selectedItem,()=>({option:d(B),idx:d(T)})),C(G,K)},de=(G,K)=>{{var ie=le=>{var pe=we(),ee=se(pe);Te(ee,()=>r.children,()=>({option:d(B),idx:d(T)})),C(le,pe)},Re=(le,pe)=>{{var ee=ce=>{var fe=we(),Fe=se(fe);Jt(Fe,()=>Ce(d(B))),C(ce,fe)},Pe=ce=>{var fe=Lt();be(Fe=>qe(fe,Fe),[()=>Ce(d(B))]),C(ce,fe)};Q(le,ce=>{Qe()?ce(ee):ce(Pe,!1)},pe)}};Q(G,le=>{r.children?le(ie):le(Re,!1)},K)}};Q(Oe,G=>{r.selectedItem?G(re):G(de,!1)})}var ue=oe(Oe,2);{var Ve=G=>{var K=tn();K.__click=[en,f,B];var ie=ae(()=>Rt(ee=>f(d(B),ee)));K.__keydown=function(...ee){d(ie)?.apply(this,ee)};var Re=he(K);{var le=ee=>{var Pe=we(),ce=se(Pe);Te(ce,()=>r.removeIcon),C(ee,Pe)},pe=ee=>{$t(ee,{width:"15px"})};Q(Re,ee=>{r.removeIcon?ee(le):ee(pe,!1)})}be(ee=>Ne(K,"title",`${He()??""} ${ee??""}`),[()=>Ce(d(B))]),C(G,K)};Q(ue,G=>{!g()&&(Je()===null||U().length>Je())&&G(Ve)})}be(G=>{L=et(j,1,Er(rt()),"svelte-1taxil8",L,G),Ne(j,"draggable",ft()&&!g()&&U().length>1),Ye(j,d(V))},[()=>({active:d(Ct)===d(T)})]),Se("dragstart",j,function(...G){d(z)?.apply(this,G)}),Se("dragover",j,G=>{G.preventDefault()}),Se("drop",j,function(...G){d(Ue)?.apply(this,G)}),Se("dragenter",j,()=>ge(Ct,d(T),!0)),Ur(j,()=>Fr,()=>({duration:100})),C(u,j)});var xt=oe(qt,2),gr=()=>!1;Ot(xt,()=>({class:F(),style:N(),id:ye(),disabled:g(),autocomplete:o(),inputmode:Y(),pattern:gt(),placeholder:U().length==0?mt():null,"aria-invalid":ne()?"true":null,ondrop:gr,onmouseup:S,onkeydown:cr,onfocus:fr,oninput:ur,onblur:r.onblur,onclick:r.onclick,onkeyup:r.onkeyup,onmousedown:r.onmousedown,onmouseenter:r.onmouseenter,onmouseleave:r.onmouseleave,ontouchcancel:r.ontouchcancel,ontouchend:r.ontouchend,ontouchmove:r.ontouchmove,ontouchstart:r.ontouchstart,...e}),void 0,"svelte-1taxil8"),vt(xt,u=>D(u),()=>D());var mr=oe(xt,2);Te(mr,()=>r.afterInput??tr,()=>({selected:U(),disabled:g(),invalid:ne(),id:ye(),placeholder:mt(),open:Be(),required:Ee()}));var zt=oe(bt,2);{var yr=u=>{var B=we(),T=se(B);{var q=V=>{var L=we(),z=se(L);Te(z,()=>r.spinner),C(V,L)},j=V=>{Hr(V,{})};Q(T,V=>{r.spinner?V(q):V(j,!1)})}C(u,B)};Q(zt,u=>{nt()&&u(yr)})}var Gt=oe(zt,2);{var wr=u=>{var B=we(),T=se(B);{var q=V=>{var L=we(),z=se(L);Te(z,()=>r.disabledIcon),C(V,L)},j=V=>{Qr(V,{width:"14pt",style:"margin: 0 2pt;","data-name":"disabled-icon"})};Q(T,V=>{r.disabledIcon?V(q):V(j,!1)})}C(u,B)},br=(u,B)=>{{var T=q=>{var j=on(),V=se(j);{var L=Oe=>{Wr(Oe,{angle:20,get wiggle(){return d(t)},set wiggle(re){ge(t,re,!0)},children:(re,de)=>{var ue=nn(),Ve=he(ue);be(G=>{et(ue,1,`max-select-msg ${$()??""}`,"svelte-1taxil8"),qe(Ve,G)},[()=>te()?.(U().length,R())]),C(re,ue)},$$slots:{default:!0}})};Q(V,Oe=>{R()&&(R()>1||te())&&Oe(L)})}var z=oe(V,2);{var Ue=Oe=>{var re=ln();re.__click=Z;var de=ae(()=>Rt(Z));re.__keydown=function(...K){d(de)?.apply(this,K)};var ue=he(re);{var Ve=K=>{var ie=we(),Re=se(ie);Te(Re,()=>r.removeIcon),C(K,ie)},G=K=>{$t(K,{width:"15px"})};Q(ue,K=>{r.removeIcon?K(Ve):K(G,!1)})}be(()=>Ne(re,"title",yt())),C(Oe,re)};Q(z,Oe=>{R()!==1&&U().length>1&&Oe(Ue)})}C(q,j)};Q(u,q=>{U().length>0&&q(T)},B)}};Q(Gt,u=>{g()?u(wr):u(br,!1)})}var xr=oe(Gt,2);{var vr=u=>{var B=gn();let T;var q=he(B);_t(q,19,()=>ve().slice(0,Math.max(0,Le()??0)||1/0),(L,z)=>E()?[O()(L),z]:O()(L),(L,z,Ue,Oe)=>{var re=un();const de=ae(()=>{const{label:le,disabled:pe=null,title:ee=null,selectedTitle:Pe=null,disabledTitle:ce=w()}=d(z)instanceof Object?d(z):{label:d(z)};return{label:le,disabled:pe,title:ee,selectedTitle:Pe,disabledTitle:ce}}),ue=ae(()=>c()===d(Ue)),Ve=ae(()=>[er(d(z),"option"),tt()].filter(Boolean).join(" ")||null);re.__click=[sn,de,a,z];let G;re.__mouseover=()=>{d(de).disabled||c(d(Ue))},re.__keydown=[an,de,a,z];var K=he(re);{var ie=le=>{var pe=we(),ee=se(pe);Te(ee,()=>r.option,()=>({option:d(z),idx:d(Ue)})),C(le,pe)},Re=(le,pe)=>{{var ee=ce=>{var fe=we(),Fe=se(fe);Te(Fe,()=>r.children,()=>({option:d(z),idx:d(Ue)})),C(ce,fe)},Pe=(ce,fe)=>{{var Fe=at=>{var dt=we(),kt=se(dt);Jt(kt,()=>Ce(d(z))),C(at,dt)},Tt=at=>{var dt=Lt();be(kt=>qe(dt,kt),[()=>Ce(d(z))]),C(at,dt)};Q(ce,at=>{Qe()?at(Fe):at(Tt,!1)},fe)}};Q(le,ce=>{r.children?ce(ee):ce(Pe,!1)},pe)}};Q(K,le=>{r.option?le(ie):le(Re,!1)})}be((le,pe)=>{Ne(re,"title",le),G=et(re,1,`${je()??""} ${(d(ue)?_e():"")??""}`,"svelte-1taxil8",G,pe),Ye(re,d(Ve))},[()=>d(de).disabled?d(de).disabledTitle:d(P)(d(de).label)&&d(de).selectedTitle||d(de).title,()=>({selected:d(P)(d(de).label),active:d(ue),disabled:d(de).disabled})]),Se("focus",re,()=>{d(de).disabled||c(d(Ue))}),C(L,re)});var j=oe(q,2);{var V=L=>{var z=we();const Ue=ae(()=>U().map(Ce).includes(X())),Oe=ae(()=>!E()&&d(Ue)&&"dupe"),re=ae(()=>!!(m()&&p())&&"create"),de=ae(()=>!!(ve()?.length==0&&Ke())&&"no-match"),ue=ae(()=>d(Oe)||d(re)||d(de));var Ve=se(z);{var G=K=>{var ie=pn();const Re=ae(()=>({dupe:v(),create:p(),"no-match":Ke()})[d(ue)]);ie.__click=[cn,ue,m,a,X],ie.__keydown=[fn,ue,m,a,X],ie.__mouseover=[hn,i],ie.__mouseout=[dn,i];let le,pe;var ee=he(ie);{var Pe=fe=>{var Fe=we(),Tt=se(Fe);Te(Tt,()=>r.userMsg,()=>({searchText:X(),msgType:d(ue),msg:d(Re)})),C(fe,Fe)},ce=fe=>{var Fe=Lt();be(()=>qe(Fe,d(Re))),C(fe,Fe)};Q(ee,fe=>{r.userMsg?fe(Pe):fe(ce,!1)})}be(fe=>{Ne(ie,"title",d(ue)==="create"?p():d(ue)==="dupe"?v():""),le=et(ie,1,`user-msg ${ct()??""} ${(d(i)?xe():"")??""}`,"svelte-1taxil8",le,fe),pe=Ye(ie,"",pe,{cursor:{dupe:"not-allowed",create:"pointer","no-match":"default"}[d(ue)]})},[()=>({active:d(i)})]),Se("focus",ie,()=>ge(i,!0)),Se("blur",ie,()=>ge(i,!1)),C(K,ie)};Q(Ve,K=>{d(ue)&&K(G)})}C(L,z)};Q(j,L=>{X()&&L(V)})}Ir(B,(L,z)=>hr?.(L,z),()=>({target_node:ze(),...n()})),vt(B,L=>ge(wt,L),()=>d(wt)),be(L=>{T=et(B,1,`options ${Ae()??""}`,"svelte-1taxil8",T,L),Ne(B,"aria-multiselectable",R()===null||R()>1),Ne(B,"aria-expanded",Be()),Ne(B,"aria-disabled",g()?"true":null),Ye(B,De())},[()=>({hidden:!Be()})]),C(u,B)};Q(xr,u=>{(X()&&Ke()||Ie()?.length>0)&&u(vr)})}vt(We,u=>ze(u),()=>ze()),be((u,B,T)=>{jt=et(We,1,`multiselect ${Ge()??""} ${r.class??""??""}`,"svelte-1taxil8",jt,u),Ne(We,"title",g()?M():null),Ne(We,"data-id",ye()),Ye(We,lt()),Ne(st,"name",it()),st.required=B,Or(st,T),et(bt,1,`selected ${ht()??""}`,"svelte-1taxil8"),Ye(bt,At())},[()=>({disabled:g(),single:R()===1,open:Be(),invalid:ne()}),()=>!!Ee(),()=>U().length>=Number(Ee())?JSON.stringify(U()):null]),_r("innerWidth",u=>ge(s,u,!0)),Se("invalid",st,()=>{ne(!0);let u;R()&&R()>1&&Number(Ee())>1?u=`Please select between ${Ee()} and ${R()} options`:Number(Ee())>1?u=`Please select at least ${Ee()} options`:u="Please select an option",A()?.setCustomValidity(u)}),ir(xt,X),C(l,We),Ut()}rr(["mouseup","click","keydown","mouseover","mouseout"]);function wn(l,r=!0){const c=new IntersectionObserver(([h],p)=>{const m=h.intersectionRatio;if(m<1){const y=m<=0&&r?"center":"nearest";l.scrollIntoView({block:y,inline:y})}p.disconnect()});return c.observe(l),c}typeof Element<"u"&&!Element.prototype?.scrollIntoViewIfNeeded&&typeof IntersectionObserver<"u"&&(Element.prototype.scrollIntoViewIfNeeded=function(){wn(this)});const ke=It({file:null});var bn=me('<div> </div> <textarea class="h-100px bg-#33221166 shadow-#00000099 b-color-amber rounded-lg p-3 shadow-md"></textarea>',1),xn=me('<div class="px-6 py-2"><h2 class="m-0"> </h2> <div class="w-450px flex flex-col"></div></div>');function vn(l,r){Et(r,!0);const c=ae(()=>ke.file?.entries[r.entryName]);var h=we(),p=se(h);{var m=y=>{var o=xn(),I=he(o),x=he(I),w=oe(I,2);_t(w,21,()=>r.languages,lr,(g,M)=>{var v=bn(),E=se(v),O=he(E),W=oe(E,2);be(()=>qe(O,d(M))),ir(W,()=>d(c).strings[d(M)],_=>d(c).strings[d(M)]=_),C(g,v)}),be(()=>qe(x,d(c).name)),C(y,o)};Q(p,y=>{d(c)!=null&&y(m)})}C(l,h),Ut()}var Bn=me('<div class="bg-amber-9 bg-op-25 z-100 fixed flex h-full w-full items-center justify-center"><div class="w-350px max-w-80% h-250px text-30px bg-#111 text-shadow-lg b-3px b-amber-4 rounded-30px b-dashed flex items-center justify-center font-bold shadow-lg">Drop file</div></div>'),_n=me('<div class="b-3 b-1px b-solid b-red-5 fixed bottom-8 right-8 z-50 flex items-center justify-center rounded-lg bg-red-950 px-5 py-3">Invalid file</div>'),In=me('<label for="file" class="h-75 w-75 b-1 b-amber b-solid flex cursor-pointer flex-col items-center justify-center rounded-2xl p-8"><span class="i-lucide:file-scan h-25 w-25"></span> <span class="text-center font-bold">Select/Drop <br/> *.msg.* file</span></label>'),En=me('<h1 class="m-0"> </h1> <div class="flex items-center gap-6"><div> </div> <div> </div> <button class="b-solid b-1 b-amber cursor-pointer rounded-lg">Export as msg</button> <button class="b-solid b-1 b-amber cursor-pointer rounded-lg">Export as json</button></div> <div class="mb-4 mt-2"><!></div> <div class="flex h-full w-full flex-col items-center overflow-auto"></div>',1),Un=me('<input id="file" type="file" hidden/> <div class="flex h-full w-full flex-col items-center justify-center"><!> <!> <!> <a target="_blank" rel="noopener" href="https://github.com/beeequeue/remsg-editor" class="text-#eee fixed bottom-2 flex items-center"><div class="i-simple-icons:github mr-1"></div> Made by beequeue</a></div>',1);function On(l,r){Et(r,!0);const c=ae(()=>Object.values(ke.file?.entries??{}));let h=Xe(!1);nr(()=>{d(h)&&setTimeout(()=>{ge(h,!1)},7500)});const p=ae(()=>{const F=Object.keys(d(c)[0].strings),N=Object.fromEntries(F.map(Y=>[Y,!1]));for(const Y of F)for(const ne of d(c))ne.strings[Y]==null||ne.strings[Y].length===0||(N[Y]=!0);return Object.entries(N).filter(([,Y])=>Y).map(([Y])=>Y)});let m=Xe(It(["en"]));const y=async F=>{const N=F.target.files;if(N==null||N.length===0)return;const Y=N.item(0),ne=Qt(Me.Buffer.from(await Y.arrayBuffer())),_e=Object.fromEntries(ne.entries.map(xe=>[xe.name,xe]));ke.file={name:Y.name,meta:ne.meta,entries:_e}};let o=Xe(!1);const I=F=>{ge(o,!0),F.preventDefault()},x=()=>{ge(o,!1)},w=async F=>{F.preventDefault(),ge(h,!1);try{const N=F.dataTransfer.items[0].getAsFile(),Y=Qt(Me.Buffer.from(await N.arrayBuffer())),ne=Object.fromEntries(Y.entries.map(_e=>[_e.name,_e]));ke.file={name:N.name,meta:Y.meta,entries:ne}}catch{ge(h,!0)}ge(o,!1)},g=F=>()=>{if(ke.file==null)return;const N=Object.values(ke.file.entries),Y={meta:ke.file.meta,entries:N};let ne;if(F==="msg"){const je=zr(Y);ne=new Blob([je],{type:"application/octet-stream"})}else{const je=JSON.stringify(Y,null,2);ne=new Blob([je],{type:"application/json"})}const _e=URL.createObjectURL(ne),xe=document.createElement("a");xe.href=_e,xe.download=ke.file.name,F==="json"&&(xe.download+=".json"),xe.click(),URL.revokeObjectURL(_e),xe.remove()};var M=Un(),v=se(M);v.__change=y;var E=oe(v,2),O=he(E);{var W=F=>{var N=Bn();Wt(3,N,()=>Yt,()=>({duration:100})),C(F,N)};Q(O,F=>{d(o)&&F(W)})}var _=oe(O,2);{var A=F=>{var N=_n();Wt(3,N,()=>Yt,()=>({duration:250})),C(F,N)};Q(_,F=>{d(h)&&F(A)})}var k=oe(_,2);{var ye=F=>{var N=In();C(F,N)},D=F=>{var N=En(),Y=se(N),ne=he(Y),_e=oe(Y,2),xe=he(_e),je=he(xe),tt=oe(xe,2),rt=he(tt),Ze=oe(tt,2),ct=ae(()=>g("msg"));Ze.__click=function(...$){d(ct)?.apply(this,$)};var nt=oe(Ze,2),ve=ae(()=>g("json"));nt.__click=function(...$){d(ve)?.apply(this,$)};var Le=oe(_e,2),R=he(Le);yn(R,{placeholder:"Languages",get options(){return d(p)},outerDivClass:"w-300px min-h-32px b-color-amber",liOptionClass:"color-#eee bg-#333",get selected(){return d(m)},set selected($){ge(m,$,!0)}});var te=oe(Le,2);_t(te,21,()=>d(c),lr,($,it)=>{vn($,{get entryName(){return d(it).name},get languages(){return d(m)}})}),be(()=>{qe(ne,ke.file.name),qe(je,`Version ${ke.file.meta.version??""}`),qe(rt,`${ke.file.meta.attributes.length??""} attributes`)}),C(F,N)};Q(k,F=>{ke?.file==null?F(ye):F(D,!1)})}Se("drop",E,w),Se("dragover",E,I),Se("dragleave",E,x),C(l,M),Ut()}rr(["change","click"]);Sr(On,{target:document.getElementById("root")});
