import{p,f as ue,t as ie,s as yt,a as S,b as on,c as Ni,d as Kn,e as sn,r as Xn,g as s,u as M,h as pe,i as re,j as wt,S as Ri,k as We,l as nn,m as Pi,n as qe,o as Rr,q as Qn,v as ke,w as R,x as Br,y as Jn,z as je,$ as Ir,A as In,B as $,C as z,D as rn,E as ji,F as Pr,G as Er,H as ne,I as Z,J as Gi,K as zi,L as Or,M as ot,N as Hi,O as Vi,P as Be,Q as at,R as qi,T as En,U as Wi,V as Sr,W as Ji,X as jr,Y as Ar,Z as Ur,_ as Zi}from"./svelte-l1EXkrYp.js";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const g of document.querySelectorAll('link[rel="modulepreload"]'))y(g);new MutationObserver(g=>{for(const w of g)if(w.type==="childList")for(const v of w.addedNodes)v.tagName==="LINK"&&v.rel==="modulepreload"&&y(v)}).observe(document,{childList:!0,subtree:!0});function d(g){const w={};return g.integrity&&(w.integrity=g.integrity),g.referrerPolicy&&(w.referrerPolicy=g.referrerPolicy),g.crossOrigin==="use-credentials"?w.credentials="include":g.crossOrigin==="anonymous"?w.credentials="omit":w.credentials="same-origin",w}function y(g){if(g.ep)return;g.ep=!0;const w=d(g);fetch(g.href,w)}})();var Zn={},en={},Cr;function Yi(){if(Cr)return en;Cr=1,en.byteLength=a,en.toByteArray=b,en.fromByteArray=X;for(var l=[],n=[],d=typeof Uint8Array<"u"?Uint8Array:Array,y="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",g=0,w=y.length;g<w;++g)l[g]=y[g],n[y.charCodeAt(g)]=g;n[45]=62,n[95]=63;function v(I){var k=I.length;if(k%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var L=I.indexOf("=");L===-1&&(L=k);var T=L===k?0:4-L%4;return[L,T]}function a(I){var k=v(I),L=k[0],T=k[1];return(L+T)*3/4-T}function _(I,k,L){return(k+L)*3/4-L}function b(I){var k,L=v(I),T=L[0],O=L[1],j=new d(_(I,T,O)),G=0,_e=O>0?T-4:T,oe;for(oe=0;oe<_e;oe+=4)k=n[I.charCodeAt(oe)]<<18|n[I.charCodeAt(oe+1)]<<12|n[I.charCodeAt(oe+2)]<<6|n[I.charCodeAt(oe+3)],j[G++]=k>>16&255,j[G++]=k>>8&255,j[G++]=k&255;return O===2&&(k=n[I.charCodeAt(oe)]<<2|n[I.charCodeAt(oe+1)]>>4,j[G++]=k&255),O===1&&(k=n[I.charCodeAt(oe)]<<10|n[I.charCodeAt(oe+1)]<<4|n[I.charCodeAt(oe+2)]>>2,j[G++]=k>>8&255,j[G++]=k&255),j}function x(I){return l[I>>18&63]+l[I>>12&63]+l[I>>6&63]+l[I&63]}function C(I,k,L){for(var T,O=[],j=k;j<L;j+=3)T=(I[j]<<16&16711680)+(I[j+1]<<8&65280)+(I[j+2]&255),O.push(x(T));return O.join("")}function X(I){for(var k,L=I.length,T=L%3,O=[],j=16383,G=0,_e=L-T;G<_e;G+=j)O.push(C(I,G,G+j>_e?_e:G+j));return T===1?(k=I[L-1],O.push(l[k>>2]+l[k<<4&63]+"==")):T===2&&(k=(I[L-2]<<8)+I[L-1],O.push(l[k>>10]+l[k>>4&63]+l[k<<2&63]+"=")),O.join("")}return en}var On={};var Fr;function Ki(){return Fr||(Fr=1,On.read=function(l,n,d,y,g){var w,v,a=g*8-y-1,_=(1<<a)-1,b=_>>1,x=-7,C=d?g-1:0,X=d?-1:1,I=l[n+C];for(C+=X,w=I&(1<<-x)-1,I>>=-x,x+=a;x>0;w=w*256+l[n+C],C+=X,x-=8);for(v=w&(1<<-x)-1,w>>=-x,x+=y;x>0;v=v*256+l[n+C],C+=X,x-=8);if(w===0)w=1-b;else{if(w===_)return v?NaN:(I?-1:1)*(1/0);v=v+Math.pow(2,y),w=w-b}return(I?-1:1)*v*Math.pow(2,w-y)},On.write=function(l,n,d,y,g,w){var v,a,_,b=w*8-g-1,x=(1<<b)-1,C=x>>1,X=g===23?Math.pow(2,-24)-Math.pow(2,-77):0,I=y?0:w-1,k=y?1:-1,L=n<0||n===0&&1/n<0?1:0;for(n=Math.abs(n),isNaN(n)||n===1/0?(a=isNaN(n)?1:0,v=x):(v=Math.floor(Math.log(n)/Math.LN2),n*(_=Math.pow(2,-v))<1&&(v--,_*=2),v+C>=1?n+=X/_:n+=X*Math.pow(2,1-C),n*_>=2&&(v++,_/=2),v+C>=x?(a=0,v=x):v+C>=1?(a=(n*_-1)*Math.pow(2,g),v=v+C):(a=n*Math.pow(2,C-1)*Math.pow(2,g),v=0));g>=8;l[d+I]=a&255,I+=k,a/=256,g-=8);for(v=v<<g|a,b+=g;b>0;l[d+I]=v&255,I+=k,v/=256,b-=8);l[d+I-k]|=L*128}),On}var kr;function Xi(){return kr||(kr=1,(function(l){const n=Yi(),d=Ki(),y=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;l.Buffer=a,l.SlowBuffer=j,l.INSPECT_MAX_BYTES=50;const g=2147483647;l.kMaxLength=g,a.TYPED_ARRAY_SUPPORT=w(),!a.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function w(){try{const r=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(r,e),r.foo()===42}catch{return!1}}Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}});function v(r){if(r>g)throw new RangeError('The value "'+r+'" is invalid for option "size"');const e=new Uint8Array(r);return Object.setPrototypeOf(e,a.prototype),e}function a(r,e,t){if(typeof r=="number"){if(typeof e=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return C(r)}return _(r,e,t)}a.poolSize=8192;function _(r,e,t){if(typeof r=="string")return X(r,e);if(ArrayBuffer.isView(r))return k(r);if(r==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof r);if(Ae(r,ArrayBuffer)||r&&Ae(r.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Ae(r,SharedArrayBuffer)||r&&Ae(r.buffer,SharedArrayBuffer)))return L(r,e,t);if(typeof r=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const o=r.valueOf&&r.valueOf();if(o!=null&&o!==r)return a.from(o,e,t);const u=T(r);if(u)return u;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof r[Symbol.toPrimitive]=="function")return a.from(r[Symbol.toPrimitive]("string"),e,t);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof r)}a.from=function(r,e,t){return _(r,e,t)},Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array);function b(r){if(typeof r!="number")throw new TypeError('"size" argument must be of type number');if(r<0)throw new RangeError('The value "'+r+'" is invalid for option "size"')}function x(r,e,t){return b(r),r<=0?v(r):e!==void 0?typeof t=="string"?v(r).fill(e,t):v(r).fill(e):v(r)}a.alloc=function(r,e,t){return x(r,e,t)};function C(r){return b(r),v(r<0?0:O(r)|0)}a.allocUnsafe=function(r){return C(r)},a.allocUnsafeSlow=function(r){return C(r)};function X(r,e){if((typeof e!="string"||e==="")&&(e="utf8"),!a.isEncoding(e))throw new TypeError("Unknown encoding: "+e);const t=G(r,e)|0;let o=v(t);const u=o.write(r,e);return u!==t&&(o=o.slice(0,u)),o}function I(r){const e=r.length<0?0:O(r.length)|0,t=v(e);for(let o=0;o<e;o+=1)t[o]=r[o]&255;return t}function k(r){if(Ae(r,Uint8Array)){const e=new Uint8Array(r);return L(e.buffer,e.byteOffset,e.byteLength)}return I(r)}function L(r,e,t){if(e<0||r.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(r.byteLength<e+(t||0))throw new RangeError('"length" is outside of buffer bounds');let o;return e===void 0&&t===void 0?o=new Uint8Array(r):t===void 0?o=new Uint8Array(r,e):o=new Uint8Array(r,e,t),Object.setPrototypeOf(o,a.prototype),o}function T(r){if(a.isBuffer(r)){const e=O(r.length)|0,t=v(e);return t.length===0||r.copy(t,0,0,e),t}if(r.length!==void 0)return typeof r.length!="number"||kt(r.length)?v(0):I(r);if(r.type==="Buffer"&&Array.isArray(r.data))return I(r.data)}function O(r){if(r>=g)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+g.toString(16)+" bytes");return r|0}function j(r){return+r!=r&&(r=0),a.alloc(+r)}a.isBuffer=function(e){return e!=null&&e._isBuffer===!0&&e!==a.prototype},a.compare=function(e,t){if(Ae(e,Uint8Array)&&(e=a.from(e,e.offset,e.byteLength)),Ae(t,Uint8Array)&&(t=a.from(t,t.offset,t.byteLength)),!a.isBuffer(e)||!a.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let o=e.length,u=t.length;for(let f=0,h=Math.min(o,u);f<h;++f)if(e[f]!==t[f]){o=e[f],u=t[f];break}return o<u?-1:u<o?1:0},a.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(e.length===0)return a.alloc(0);let o;if(t===void 0)for(t=0,o=0;o<e.length;++o)t+=e[o].length;const u=a.allocUnsafe(t);let f=0;for(o=0;o<e.length;++o){let h=e[o];if(Ae(h,Uint8Array))f+h.length>u.length?(a.isBuffer(h)||(h=a.from(h)),h.copy(u,f)):Uint8Array.prototype.set.call(u,h,f);else if(a.isBuffer(h))h.copy(u,f);else throw new TypeError('"list" argument must be an Array of Buffers');f+=h.length}return u};function G(r,e){if(a.isBuffer(r))return r.length;if(ArrayBuffer.isView(r)||Ae(r,ArrayBuffer))return r.byteLength;if(typeof r!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof r);const t=r.length,o=arguments.length>2&&arguments[2]===!0;if(!o&&t===0)return 0;let u=!1;for(;;)switch(e){case"ascii":case"latin1":case"binary":return t;case"utf8":case"utf-8":return Se(r).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return t*2;case"hex":return t>>>1;case"base64":return Re(r).length;default:if(u)return o?-1:Se(r).length;e=(""+e).toLowerCase(),u=!0}}a.byteLength=G;function _e(r,e,t){let o=!1;if((e===void 0||e<0)&&(e=0),e>this.length||((t===void 0||t>this.length)&&(t=this.length),t<=0)||(t>>>=0,e>>>=0,t<=e))return"";for(r||(r="utf8");;)switch(r){case"hex":return ut(this,e,t);case"utf8":case"utf-8":return Ft(this,e,t);case"ascii":return Ht(this,e,t);case"latin1":case"binary":return Vt(this,e,t);case"base64":return Ct(this,e,t);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return lt(this,e,t);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(r+"").toLowerCase(),o=!0}}a.prototype._isBuffer=!0;function oe(r,e,t){const o=r[e];r[e]=r[t],r[t]=o}a.prototype.swap16=function(){const e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)oe(this,t,t+1);return this},a.prototype.swap32=function(){const e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)oe(this,t,t+3),oe(this,t+1,t+2);return this},a.prototype.swap64=function(){const e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)oe(this,t,t+7),oe(this,t+1,t+6),oe(this,t+2,t+5),oe(this,t+3,t+4);return this},a.prototype.toString=function(){const e=this.length;return e===0?"":arguments.length===0?Ft(this,0,e):_e.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(e){if(!a.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e?!0:a.compare(this,e)===0},a.prototype.inspect=function(){let e="";const t=l.INSPECT_MAX_BYTES;return e=this.toString("hex",0,t).replace(/(.{2})/g,"$1 ").trim(),this.length>t&&(e+=" ... "),"<Buffer "+e+">"},y&&(a.prototype[y]=a.prototype.inspect),a.prototype.compare=function(e,t,o,u,f){if(Ae(e,Uint8Array)&&(e=a.from(e,e.offset,e.byteLength)),!a.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(t===void 0&&(t=0),o===void 0&&(o=e?e.length:0),u===void 0&&(u=0),f===void 0&&(f=this.length),t<0||o>e.length||u<0||f>this.length)throw new RangeError("out of range index");if(u>=f&&t>=o)return 0;if(u>=f)return-1;if(t>=o)return 1;if(t>>>=0,o>>>=0,u>>>=0,f>>>=0,this===e)return 0;let h=f-u,N=o-t;const ce=Math.min(h,N),se=this.slice(u,f),te=e.slice(t,o);for(let Q=0;Q<ce;++Q)if(se[Q]!==te[Q]){h=se[Q],N=te[Q];break}return h<N?-1:N<h?1:0};function D(r,e,t,o,u){if(r.length===0)return-1;if(typeof t=="string"?(o=t,t=0):t>2147483647?t=2147483647:t<-2147483648&&(t=-2147483648),t=+t,kt(t)&&(t=u?0:r.length-1),t<0&&(t=r.length+t),t>=r.length){if(u)return-1;t=r.length-1}else if(t<0)if(u)t=0;else return-1;if(typeof e=="string"&&(e=a.from(e,o)),a.isBuffer(e))return e.length===0?-1:P(r,e,t,o,u);if(typeof e=="number")return e=e&255,typeof Uint8Array.prototype.indexOf=="function"?u?Uint8Array.prototype.indexOf.call(r,e,t):Uint8Array.prototype.lastIndexOf.call(r,e,t):P(r,[e],t,o,u);throw new TypeError("val must be string, number or Buffer")}function P(r,e,t,o,u){let f=1,h=r.length,N=e.length;if(o!==void 0&&(o=String(o).toLowerCase(),o==="ucs2"||o==="ucs-2"||o==="utf16le"||o==="utf-16le")){if(r.length<2||e.length<2)return-1;f=2,h/=2,N/=2,t/=2}function ce(te,Q){return f===1?te[Q]:te.readUInt16BE(Q*f)}let se;if(u){let te=-1;for(se=t;se<h;se++)if(ce(r,se)===ce(e,te===-1?0:se-te)){if(te===-1&&(te=se),se-te+1===N)return te*f}else te!==-1&&(se-=se-te),te=-1}else for(t+N>h&&(t=h-N),se=t;se>=0;se--){let te=!0;for(let Q=0;Q<N;Q++)if(ce(r,se+Q)!==ce(e,Q)){te=!1;break}if(te)return se}return-1}a.prototype.includes=function(e,t,o){return this.indexOf(e,t,o)!==-1},a.prototype.indexOf=function(e,t,o){return D(this,e,t,o,!0)},a.prototype.lastIndexOf=function(e,t,o){return D(this,e,t,o,!1)};function le(r,e,t,o){t=Number(t)||0;const u=r.length-t;o?(o=Number(o),o>u&&(o=u)):o=u;const f=e.length;o>f/2&&(o=f/2);let h;for(h=0;h<o;++h){const N=parseInt(e.substr(h*2,2),16);if(kt(N))return h;r[t+h]=N}return h}function Ie(r,e,t,o){return E(Se(e,r.length-t),r,t,o)}function Ne(r,e,t,o){return E(fn(e),r,t,o)}function ye(r,e,t,o){return E(Re(e),r,t,o)}function st(r,e,t,o){return E(K(e,r.length-t),r,t,o)}a.prototype.write=function(e,t,o,u){if(t===void 0)u="utf8",o=this.length,t=0;else if(o===void 0&&typeof t=="string")u=t,o=this.length,t=0;else if(isFinite(t))t=t>>>0,isFinite(o)?(o=o>>>0,u===void 0&&(u="utf8")):(u=o,o=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const f=this.length-t;if((o===void 0||o>f)&&(o=f),e.length>0&&(o<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");u||(u="utf8");let h=!1;for(;;)switch(u){case"hex":return le(this,e,t,o);case"utf8":case"utf-8":return Ie(this,e,t,o);case"ascii":case"latin1":case"binary":return Ne(this,e,t,o);case"base64":return ye(this,e,t,o);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return st(this,e,t,o);default:if(h)throw new TypeError("Unknown encoding: "+u);u=(""+u).toLowerCase(),h=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function Ct(r,e,t){return e===0&&t===r.length?n.fromByteArray(r):n.fromByteArray(r.slice(e,t))}function Ft(r,e,t){t=Math.min(r.length,t);const o=[];let u=e;for(;u<t;){const f=r[u];let h=null,N=f>239?4:f>223?3:f>191?2:1;if(u+N<=t){let ce,se,te,Q;switch(N){case 1:f<128&&(h=f);break;case 2:ce=r[u+1],(ce&192)===128&&(Q=(f&31)<<6|ce&63,Q>127&&(h=Q));break;case 3:ce=r[u+1],se=r[u+2],(ce&192)===128&&(se&192)===128&&(Q=(f&15)<<12|(ce&63)<<6|se&63,Q>2047&&(Q<55296||Q>57343)&&(h=Q));break;case 4:ce=r[u+1],se=r[u+2],te=r[u+3],(ce&192)===128&&(se&192)===128&&(te&192)===128&&(Q=(f&15)<<18|(ce&63)<<12|(se&63)<<6|te&63,Q>65535&&Q<1114112&&(h=Q))}}h===null?(h=65533,N=1):h>65535&&(h-=65536,o.push(h>>>10&1023|55296),h=56320|h&1023),o.push(h),u+=N}return zt(o)}const vt=4096;function zt(r){const e=r.length;if(e<=vt)return String.fromCharCode.apply(String,r);let t="",o=0;for(;o<e;)t+=String.fromCharCode.apply(String,r.slice(o,o+=vt));return t}function Ht(r,e,t){let o="";t=Math.min(r.length,t);for(let u=e;u<t;++u)o+=String.fromCharCode(r[u]&127);return o}function Vt(r,e,t){let o="";t=Math.min(r.length,t);for(let u=e;u<t;++u)o+=String.fromCharCode(r[u]);return o}function ut(r,e,t){const o=r.length;(!e||e<0)&&(e=0),(!t||t<0||t>o)&&(t=o);let u="";for(let f=e;f<t;++f)u+=Un[r[f]];return u}function lt(r,e,t){const o=r.slice(e,t);let u="";for(let f=0;f<o.length-1;f+=2)u+=String.fromCharCode(o[f]+o[f+1]*256);return u}a.prototype.slice=function(e,t){const o=this.length;e=~~e,t=t===void 0?o:~~t,e<0?(e+=o,e<0&&(e=0)):e>o&&(e=o),t<0?(t+=o,t<0&&(t=0)):t>o&&(t=o),t<e&&(t=e);const u=this.subarray(e,t);return Object.setPrototypeOf(u,a.prototype),u};function ee(r,e,t){if(r%1!==0||r<0)throw new RangeError("offset is not uint");if(r+e>t)throw new RangeError("Trying to access beyond buffer length")}a.prototype.readUintLE=a.prototype.readUIntLE=function(e,t,o){e=e>>>0,t=t>>>0,o||ee(e,t,this.length);let u=this[e],f=1,h=0;for(;++h<t&&(f*=256);)u+=this[e+h]*f;return u},a.prototype.readUintBE=a.prototype.readUIntBE=function(e,t,o){e=e>>>0,t=t>>>0,o||ee(e,t,this.length);let u=this[e+--t],f=1;for(;t>0&&(f*=256);)u+=this[e+--t]*f;return u},a.prototype.readUint8=a.prototype.readUInt8=function(e,t){return e=e>>>0,t||ee(e,1,this.length),this[e]},a.prototype.readUint16LE=a.prototype.readUInt16LE=function(e,t){return e=e>>>0,t||ee(e,2,this.length),this[e]|this[e+1]<<8},a.prototype.readUint16BE=a.prototype.readUInt16BE=function(e,t){return e=e>>>0,t||ee(e,2,this.length),this[e]<<8|this[e+1]},a.prototype.readUint32LE=a.prototype.readUInt32LE=function(e,t){return e=e>>>0,t||ee(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+this[e+3]*16777216},a.prototype.readUint32BE=a.prototype.readUInt32BE=function(e,t){return e=e>>>0,t||ee(e,4,this.length),this[e]*16777216+(this[e+1]<<16|this[e+2]<<8|this[e+3])},a.prototype.readBigUInt64LE=tt(function(e){e=e>>>0,Ze(e,"offset");const t=this[e],o=this[e+7];(t===void 0||o===void 0)&&xt(e,this.length-8);const u=t+this[++e]*2**8+this[++e]*2**16+this[++e]*2**24,f=this[++e]+this[++e]*2**8+this[++e]*2**16+o*2**24;return BigInt(u)+(BigInt(f)<<BigInt(32))}),a.prototype.readBigUInt64BE=tt(function(e){e=e>>>0,Ze(e,"offset");const t=this[e],o=this[e+7];(t===void 0||o===void 0)&&xt(e,this.length-8);const u=t*2**24+this[++e]*2**16+this[++e]*2**8+this[++e],f=this[++e]*2**24+this[++e]*2**16+this[++e]*2**8+o;return(BigInt(u)<<BigInt(32))+BigInt(f)}),a.prototype.readIntLE=function(e,t,o){e=e>>>0,t=t>>>0,o||ee(e,t,this.length);let u=this[e],f=1,h=0;for(;++h<t&&(f*=256);)u+=this[e+h]*f;return f*=128,u>=f&&(u-=Math.pow(2,8*t)),u},a.prototype.readIntBE=function(e,t,o){e=e>>>0,t=t>>>0,o||ee(e,t,this.length);let u=t,f=1,h=this[e+--u];for(;u>0&&(f*=256);)h+=this[e+--u]*f;return f*=128,h>=f&&(h-=Math.pow(2,8*t)),h},a.prototype.readInt8=function(e,t){return e=e>>>0,t||ee(e,1,this.length),this[e]&128?(255-this[e]+1)*-1:this[e]},a.prototype.readInt16LE=function(e,t){e=e>>>0,t||ee(e,2,this.length);const o=this[e]|this[e+1]<<8;return o&32768?o|4294901760:o},a.prototype.readInt16BE=function(e,t){e=e>>>0,t||ee(e,2,this.length);const o=this[e+1]|this[e]<<8;return o&32768?o|4294901760:o},a.prototype.readInt32LE=function(e,t){return e=e>>>0,t||ee(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},a.prototype.readInt32BE=function(e,t){return e=e>>>0,t||ee(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},a.prototype.readBigInt64LE=tt(function(e){e=e>>>0,Ze(e,"offset");const t=this[e],o=this[e+7];(t===void 0||o===void 0)&&xt(e,this.length-8);const u=this[e+4]+this[e+5]*2**8+this[e+6]*2**16+(o<<24);return(BigInt(u)<<BigInt(32))+BigInt(t+this[++e]*2**8+this[++e]*2**16+this[++e]*2**24)}),a.prototype.readBigInt64BE=tt(function(e){e=e>>>0,Ze(e,"offset");const t=this[e],o=this[e+7];(t===void 0||o===void 0)&&xt(e,this.length-8);const u=(t<<24)+this[++e]*2**16+this[++e]*2**8+this[++e];return(BigInt(u)<<BigInt(32))+BigInt(this[++e]*2**24+this[++e]*2**16+this[++e]*2**8+o)}),a.prototype.readFloatLE=function(e,t){return e=e>>>0,t||ee(e,4,this.length),d.read(this,e,!0,23,4)},a.prototype.readFloatBE=function(e,t){return e=e>>>0,t||ee(e,4,this.length),d.read(this,e,!1,23,4)},a.prototype.readDoubleLE=function(e,t){return e=e>>>0,t||ee(e,8,this.length),d.read(this,e,!0,52,8)},a.prototype.readDoubleBE=function(e,t){return e=e>>>0,t||ee(e,8,this.length),d.read(this,e,!1,52,8)};function F(r,e,t,o,u,f){if(!a.isBuffer(r))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>u||e<f)throw new RangeError('"value" argument is out of bounds');if(t+o>r.length)throw new RangeError("Index out of range")}a.prototype.writeUintLE=a.prototype.writeUIntLE=function(e,t,o,u){if(e=+e,t=t>>>0,o=o>>>0,!u){const N=Math.pow(2,8*o)-1;F(this,e,t,o,N,0)}let f=1,h=0;for(this[t]=e&255;++h<o&&(f*=256);)this[t+h]=e/f&255;return t+o},a.prototype.writeUintBE=a.prototype.writeUIntBE=function(e,t,o,u){if(e=+e,t=t>>>0,o=o>>>0,!u){const N=Math.pow(2,8*o)-1;F(this,e,t,o,N,0)}let f=o-1,h=1;for(this[t+f]=e&255;--f>=0&&(h*=256);)this[t+f]=e/h&255;return t+o},a.prototype.writeUint8=a.prototype.writeUInt8=function(e,t,o){return e=+e,t=t>>>0,o||F(this,e,t,1,255,0),this[t]=e&255,t+1},a.prototype.writeUint16LE=a.prototype.writeUInt16LE=function(e,t,o){return e=+e,t=t>>>0,o||F(this,e,t,2,65535,0),this[t]=e&255,this[t+1]=e>>>8,t+2},a.prototype.writeUint16BE=a.prototype.writeUInt16BE=function(e,t,o){return e=+e,t=t>>>0,o||F(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=e&255,t+2},a.prototype.writeUint32LE=a.prototype.writeUInt32LE=function(e,t,o){return e=+e,t=t>>>0,o||F(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=e&255,t+4},a.prototype.writeUint32BE=a.prototype.writeUInt32BE=function(e,t,o){return e=+e,t=t>>>0,o||F(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=e&255,t+4};function _t(r,e,t,o,u){cn(e,o,u,r,t,7);let f=Number(e&BigInt(4294967295));r[t++]=f,f=f>>8,r[t++]=f,f=f>>8,r[t++]=f,f=f>>8,r[t++]=f;let h=Number(e>>BigInt(32)&BigInt(4294967295));return r[t++]=h,h=h>>8,r[t++]=h,h=h>>8,r[t++]=h,h=h>>8,r[t++]=h,t}function ln(r,e,t,o,u){cn(e,o,u,r,t,7);let f=Number(e&BigInt(4294967295));r[t+7]=f,f=f>>8,r[t+6]=f,f=f>>8,r[t+5]=f,f=f>>8,r[t+4]=f;let h=Number(e>>BigInt(32)&BigInt(4294967295));return r[t+3]=h,h=h>>8,r[t+2]=h,h=h>>8,r[t+1]=h,h=h>>8,r[t]=h,t+8}a.prototype.writeBigUInt64LE=tt(function(e,t=0){return _t(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeBigUInt64BE=tt(function(e,t=0){return ln(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeIntLE=function(e,t,o,u){if(e=+e,t=t>>>0,!u){const ce=Math.pow(2,8*o-1);F(this,e,t,o,ce-1,-ce)}let f=0,h=1,N=0;for(this[t]=e&255;++f<o&&(h*=256);)e<0&&N===0&&this[t+f-1]!==0&&(N=1),this[t+f]=(e/h>>0)-N&255;return t+o},a.prototype.writeIntBE=function(e,t,o,u){if(e=+e,t=t>>>0,!u){const ce=Math.pow(2,8*o-1);F(this,e,t,o,ce-1,-ce)}let f=o-1,h=1,N=0;for(this[t+f]=e&255;--f>=0&&(h*=256);)e<0&&N===0&&this[t+f+1]!==0&&(N=1),this[t+f]=(e/h>>0)-N&255;return t+o},a.prototype.writeInt8=function(e,t,o){return e=+e,t=t>>>0,o||F(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=e&255,t+1},a.prototype.writeInt16LE=function(e,t,o){return e=+e,t=t>>>0,o||F(this,e,t,2,32767,-32768),this[t]=e&255,this[t+1]=e>>>8,t+2},a.prototype.writeInt16BE=function(e,t,o){return e=+e,t=t>>>0,o||F(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=e&255,t+2},a.prototype.writeInt32LE=function(e,t,o){return e=+e,t=t>>>0,o||F(this,e,t,4,2147483647,-2147483648),this[t]=e&255,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},a.prototype.writeInt32BE=function(e,t,o){return e=+e,t=t>>>0,o||F(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=e&255,t+4},a.prototype.writeBigInt64LE=tt(function(e,t=0){return _t(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),a.prototype.writeBigInt64BE=tt(function(e,t=0){return ln(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function an(r,e,t,o,u,f){if(t+o>r.length)throw new RangeError("Index out of range");if(t<0)throw new RangeError("Index out of range")}function bt(r,e,t,o,u){return e=+e,t=t>>>0,u||an(r,e,t,4),d.write(r,e,t,o,23,4),t+4}a.prototype.writeFloatLE=function(e,t,o){return bt(this,e,t,!0,o)},a.prototype.writeFloatBE=function(e,t,o){return bt(this,e,t,!1,o)};function ge(r,e,t,o,u){return e=+e,t=t>>>0,u||an(r,e,t,8),d.write(r,e,t,o,52,8),t+8}a.prototype.writeDoubleLE=function(e,t,o){return ge(this,e,t,!0,o)},a.prototype.writeDoubleBE=function(e,t,o){return ge(this,e,t,!1,o)},a.prototype.copy=function(e,t,o,u){if(!a.isBuffer(e))throw new TypeError("argument should be a Buffer");if(o||(o=0),!u&&u!==0&&(u=this.length),t>=e.length&&(t=e.length),t||(t=0),u>0&&u<o&&(u=o),u===o||e.length===0||this.length===0)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(o<0||o>=this.length)throw new RangeError("Index out of range");if(u<0)throw new RangeError("sourceEnd out of bounds");u>this.length&&(u=this.length),e.length-t<u-o&&(u=e.length-t+o);const f=u-o;return this===e&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(t,o,u):Uint8Array.prototype.set.call(e,this.subarray(o,u),t),f},a.prototype.fill=function(e,t,o,u){if(typeof e=="string"){if(typeof t=="string"?(u=t,t=0,o=this.length):typeof o=="string"&&(u=o,o=this.length),u!==void 0&&typeof u!="string")throw new TypeError("encoding must be a string");if(typeof u=="string"&&!a.isEncoding(u))throw new TypeError("Unknown encoding: "+u);if(e.length===1){const h=e.charCodeAt(0);(u==="utf8"&&h<128||u==="latin1")&&(e=h)}}else typeof e=="number"?e=e&255:typeof e=="boolean"&&(e=Number(e));if(t<0||this.length<t||this.length<o)throw new RangeError("Out of range index");if(o<=t)return this;t=t>>>0,o=o===void 0?this.length:o>>>0,e||(e=0);let f;if(typeof e=="number")for(f=t;f<o;++f)this[f]=e;else{const h=a.isBuffer(e)?e:a.from(e,u),N=h.length;if(N===0)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(f=0;f<o-t;++f)this[f+t]=h[f%N]}return this};const Ge={};function et(r,e,t){Ge[r]=class extends t{constructor(){super(),Object.defineProperty(this,"message",{value:e.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${r}]`,this.stack,delete this.name}get code(){return r}set code(u){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:u,writable:!0})}toString(){return`${this.name} [${r}]: ${this.message}`}}}et("ERR_BUFFER_OUT_OF_BOUNDS",function(r){return r?`${r} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),et("ERR_INVALID_ARG_TYPE",function(r,e){return`The "${r}" argument must be of type number. Received type ${typeof e}`},TypeError),et("ERR_OUT_OF_RANGE",function(r,e,t){let o=`The value of "${r}" is out of range.`,u=t;return Number.isInteger(t)&&Math.abs(t)>2**32?u=un(String(t)):typeof t=="bigint"&&(u=String(t),(t>BigInt(2)**BigInt(32)||t<-(BigInt(2)**BigInt(32)))&&(u=un(u)),u+="n"),o+=` It must be ${e}. Received ${u}`,o},RangeError);function un(r){let e="",t=r.length;const o=r[0]==="-"?1:0;for(;t>=o+4;t-=3)e=`_${r.slice(t-3,t)}${e}`;return`${r.slice(0,t)}${e}`}function qt(r,e,t){Ze(e,"offset"),(r[e]===void 0||r[e+t]===void 0)&&xt(e,r.length-(t+1))}function cn(r,e,t,o,u,f){if(r>t||r<e){const h=typeof e=="bigint"?"n":"";let N;throw e===0||e===BigInt(0)?N=`>= 0${h} and < 2${h} ** ${(f+1)*8}${h}`:N=`>= -(2${h} ** ${(f+1)*8-1}${h}) and < 2 ** ${(f+1)*8-1}${h}`,new Ge.ERR_OUT_OF_RANGE("value",N,r)}qt(o,u,f)}function Ze(r,e){if(typeof r!="number")throw new Ge.ERR_INVALID_ARG_TYPE(e,"number",r)}function xt(r,e,t){throw Math.floor(r)!==r?(Ze(r,t),new Ge.ERR_OUT_OF_RANGE("offset","an integer",r)):e<0?new Ge.ERR_BUFFER_OUT_OF_BOUNDS:new Ge.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${e}`,r)}const An=/[^+/0-9A-Za-z-_]/g;function ct(r){if(r=r.split("=")[0],r=r.trim().replace(An,""),r.length<2)return"";for(;r.length%4!==0;)r=r+"=";return r}function Se(r,e){e=e||1/0;let t;const o=r.length;let u=null;const f=[];for(let h=0;h<o;++h){if(t=r.charCodeAt(h),t>55295&&t<57344){if(!u){if(t>56319){(e-=3)>-1&&f.push(239,191,189);continue}else if(h+1===o){(e-=3)>-1&&f.push(239,191,189);continue}u=t;continue}if(t<56320){(e-=3)>-1&&f.push(239,191,189),u=t;continue}t=(u-55296<<10|t-56320)+65536}else u&&(e-=3)>-1&&f.push(239,191,189);if(u=null,t<128){if((e-=1)<0)break;f.push(t)}else if(t<2048){if((e-=2)<0)break;f.push(t>>6|192,t&63|128)}else if(t<65536){if((e-=3)<0)break;f.push(t>>12|224,t>>6&63|128,t&63|128)}else if(t<1114112){if((e-=4)<0)break;f.push(t>>18|240,t>>12&63|128,t>>6&63|128,t&63|128)}else throw new Error("Invalid code point")}return f}function fn(r){const e=[];for(let t=0;t<r.length;++t)e.push(r.charCodeAt(t)&255);return e}function K(r,e){let t,o,u;const f=[];for(let h=0;h<r.length&&!((e-=2)<0);++h)t=r.charCodeAt(h),o=t>>8,u=t%256,f.push(u),f.push(o);return f}function Re(r){return n.toByteArray(ct(r))}function E(r,e,t,o){let u;for(u=0;u<o&&!(u+t>=e.length||u>=r.length);++u)e[u+t]=r[u];return u}function Ae(r,e){return r instanceof e||r!=null&&r.constructor!=null&&r.constructor.name!=null&&r.constructor.name===e.name}function kt(r){return r!==r}const Un=(function(){const r="0123456789abcdef",e=new Array(256);for(let t=0;t<16;++t){const o=t*16;for(let u=0;u<16;++u)e[o+u]=r[t]+r[u]}return e})();function tt(r){return typeof BigInt>"u"?Cn:r}function Cn(){throw new Error("BigInt not supported")}})(Zn)),Zn}var Je=Xi();const Qi=["ja","en","fr","it","de","es","ru","pl","nl","pt","pt-br","ko","zh-tw","zh-cn","fi","sv","da","no","cs","hu","sk","ar","tr","bg","el","ro","th","uk","vi","id","fiction","hi","es-mx","max"],Gr=[207,206,251,248,236,10,51,102,147,169,29,147,80,57,95,9],$i=l=>{const n=Je.Buffer.from(l);let d=0;for(let y=0;y<n.length;y++){const g=n[y];n[y]=g^d^Gr[y&15],d=g}return n},eo=l=>{const n=Je.Buffer.from(l);let d=0;for(let y=0;y<n.length;y++)n[y]=n[y]^d^Gr[y&15],d=n[y];return n},to=l=>{const n=l.toString("hex");return[n.slice(6,8)+n.slice(4,6)+n.slice(2,4)+n.slice(0,2),n.slice(10,12)+n.slice(8,10),n.slice(14,16)+n.slice(12,14),n.slice(16,18)+n.slice(18,20),n.slice(20,32)].join("-")},no=l=>{const n=l.replaceAll("-","");return Je.Buffer.from([n.slice(6,8)+n.slice(4,6)+n.slice(2,4)+n.slice(0,2),n.slice(10,12)+n.slice(8,10),n.slice(14,16)+n.slice(12,14),n.slice(16,18)+n.slice(18,20),n.slice(20,32)].join(""),"hex")},ro=(l,n)=>{if(l.length===0)return new Map;const d=l.toString("utf16le");if(d[d.length-1]!=="\0")throw new Error("String is not null-terminated");const y=new Map;let g=0;for(let w=0;w<d.length;w++)d[w]==="\0"&&(y.set(n+g*2,d.slice(g,w)),g=w+1);return y},io=(l,n)=>{let d=0;const y=new Map,g=_=>{if(y.has(_))return y.get("str");const b=n+d;return y.set(_,b),d+=_.length*2+2,b},w=[],v=[];for(let _=0;_<l.meta.attributes.length;_++){const b=l.meta.attributes[_];b.type===-1?(g(""),w.push(_)):b.type===2&&(g(b.name),v.push(_))}for(let _=0;_<l.meta.attributes.length;_++){const b=l.meta.attributes[_];g(b.name)}for(const _ of l.entries){g(_.name);for(const b of Object.values(_.strings))g(b);for(const b of v)g(_.attributes[b])}let a=Je.Buffer.alloc(0);for(const _ of y.keys()){const b=Je.Buffer.from(`${_}\0`,"utf16le");a=Je.Buffer.concat([a,b])}return{map:y,nullAttributes:w,stringAttributes:v,data:a}};var oo=class{#t;#e=0;#n=!0;constructor(l){this.#t=l}get currentOffset(){return this.#e}endianness(l){this.#n=l==="little"}seek(l){const n=this.#e;return this.#e+=l,n}goto(l){const n=this.#e;return this.#e=l,n}alignTo(l){this.#e+=this.#e%l}readInt8(l){const n=new DataView(this.#t.buffer,this.#t.byteOffset+(l?.pointer??this.#e),1);return l?.pointer==null&&(this.#e+=1),n.getInt8(0)}readUint8(l){const n=new DataView(this.#t.buffer,this.#t.byteOffset+(l?.pointer??this.#e),1);return l?.pointer==null&&(this.#e+=1),n.getUint8(0)}readInt16(l){const n=new DataView(this.#t.buffer,this.#t.byteOffset+(l?.pointer??this.#e),2);return l?.pointer==null&&(this.#e+=2),n.getInt16(0,this.#n)}readUint16(l){const n=new DataView(this.#t.buffer,this.#t.byteOffset+(l?.pointer??this.#e),2);return l?.pointer==null&&(this.#e+=2),n.getUint16(0,this.#n)}readInt32(l){const n=new DataView(this.#t.buffer,this.#t.byteOffset+(l?.pointer??this.#e),4);return l?.pointer==null&&(this.#e+=4),n.getInt32(0,this.#n)}readUint32(l){const n=new DataView(this.#t.buffer,this.#t.byteOffset+(l?.pointer??this.#e),4);return l?.pointer==null&&(this.#e+=4),n.getUint32(0,this.#n)}readInt64(l){const n=new DataView(this.#t.buffer,this.#t.byteOffset+(l?.pointer??this.#e),8);return l?.pointer==null&&(this.#e+=8),n.getBigInt64(0,this.#n)}readUint64(l){const n=new DataView(this.#t.buffer,this.#t.byteOffset+(l?.pointer??this.#e),8);return l?.pointer==null&&(this.#e+=8),n.getBigUint64(0,this.#n)}readFloat(l){const n=new DataView(this.#t.buffer,this.#t.byteOffset+(l?.pointer??this.#e),4);return l?.pointer==null&&(this.#e+=4),n.getFloat32(0,this.#n)}readDouble(l){const n=new DataView(this.#t.buffer,this.#t.byteOffset+(l?.pointer??this.#e),8);return l?.pointer==null&&(this.#e+=8),n.getFloat64(0,this.#n)}readBuffer(l){const n=this.#t.subarray(this.#e,this.#e+l.length);return l.pointer==null&&(this.#e+=l.length),n}readString(l){let n;if("length"in l&&(n=this.readBuffer(l)),"zeroed"in l){const d=new DataView(this.#t.buffer,this.#t.byteOffset+this.#e);let y=0;for(;d.getUint8(y)!==0;)y++;n=this.#t.subarray(this.#e,this.#e+y),this.#e+=y+1}return n.toString(l.encoding??"utf8")}},so=class{#t;#e=0;#n=!0;constructor(l=0){this.#t=Je.Buffer.alloc(l)}get currentOffset(){return this.#e}get currentSize(){return this.#t.length}get buffer(){const l=Je.Buffer.alloc(this.#t.length);return this.#t.copy(l),l}endianness(l){this.#n=l==="little"}grow(l){this.#t=Je.Buffer.concat([this.#t,Je.Buffer.alloc(l)])}growIfNeeded(l){this.#e+l>this.#t.length&&this.grow(this.#e+l-this.#t.length)}seek(l){const n=this.#e;return this.growIfNeeded(l),this.#e+=l,n}goto(l){const n=this.#e;return this.growIfNeeded(this.currentOffset-l),this.#e=l,n}alignTo(l){const n=this.#e%l;n!==0&&(this.growIfNeeded(l-n),this.#e+=l-n)}#r=(l,n,d)=>(y,g)=>{(g?.into==null||g.into+l>this.#t.length)&&this.growIfNeeded(l),this.#t[!this.#n&&d!=null?d:n](y,g?.into??this.#e,l),g?.into==null&&(this.#e+=l)};setInt8=this.#r(1,"writeInt8");setUint8=this.#r(1,"writeUInt8");setInt16=this.#r(2,"writeInt16LE","writeInt16BE");setUint16=this.#r(2,"writeUInt16LE","writeUInt16BE");setInt32=this.#r(4,"writeInt32LE","writeInt32BE");setUint32=this.#r(4,"writeUInt32LE","writeUInt32BE");setInt64=this.#r(8,"writeBigInt64LE","writeBigInt64BE");setUint64=this.#r(8,"writeBigUInt64LE","writeBigUInt64BE");setFloat=this.#r(4,"writeFloatLE","writeFloatBE");setDouble=this.#r(8,"writeDoubleLE","writeDoubleBE");setString(l,n){const d=Je.Buffer.from(`${l}\0`,n?.encoding??"utf8");this.growIfNeeded(d.byteLength),d.copy(this.#t,n?.into??this.#e),n?.into==null&&(this.#e+=d.byteLength)}setBuffer(l,n){this.growIfNeeded(l.length),l.copy(this.#t,n?.into??this.#e),n?.into==null&&(this.#e+=l.length)}};const lo=l=>({version:l.readUint32(),magic:l.readString({length:4}),headerOffset:l.readUint64(),entryCount:l.readUint32(),attributeCount:l.readUint32(),langCount:l.readUint32(),_:l.alignTo(8),dataOffset:l.readUint64(),_2:l.seek(8),langOffset:l.readUint64(),attributesOffset:l.readUint64(),attributeNamesOffset:l.readUint64()}),Tr=l=>{const n=new oo(l),d=lo(n),y=[];if(d.magic!=="GMSG")throw new Error(`Invalid magic: ${d.magic}`);if(d.version!==539100710&&d.version!==23)throw new Error(`Uknkown version: ${d.version}`);const g=[];for(let a=0;a<d.entryCount;a++)g.push(n.readUint64());n.seek(8);const w=[];for(let a=0;a<d.langCount;a++)w.push(Qi[n.readInt32()]??"unknown");if(n.alignTo(8),Number(d.attributesOffset)!==n.currentOffset)throw new Error(`Attributes offset mismatch: ${d.attributesOffset} != ${n.currentOffset}`);const v=[];for(let a=0;a<d.attributeCount;a++)v.push({type:n.readInt32(),nameOffset:null,name:null});if(n.alignTo(8),Number(d.attributeNamesOffset)!==n.currentOffset)throw new Error(`Attribute names offset mismatch: ${d.attributeNamesOffset} != ${n.currentOffset}`);for(let a=0;a<d.attributeCount;a++)v[a].nameOffset=n.readUint64();if(d.entryCount!==0){for(let _=0;_<d.entryCount;_++){if(Number(g[_])!==n.currentOffset)throw new Error(`Entry header offset mismatch: $${n.currentOffset} != entry:${_}:${g[_]}`);const b={id:to(n.readBuffer({length:16})),crc:n.readUint32(),hash:n.readUint32(),nameOffset:n.readUint64(),attributesOffset:n.readUint64(),contentOffsetsByLang:[]};for(let x=0;x<d.langCount;x++)b.contentOffsetsByLang.push(n.readUint64());y.push({header:b})}for(let _=0;_<d.entryCount;_++){const b=y[_];if(Number(b.header.attributesOffset)!==n.currentOffset)throw new Error(`Entry header attributes offset mismatch: $${n.currentOffset} != entry:${_}:${b.header.attributesOffset}`);b.attributes=[];for(let x=0;x<v.length;x++){const C=v[x];switch(C.type){case-1:b.attributes[x]=Number(n.readUint64());break;case 0:b.attributes[x]=n.readUint32(),n.seek(4);break;case 1:b.attributes[x]=n.readDouble();break;case 2:b.attributes[x]=Number(n.readUint64());break;default:throw new Error(`Not implemented attribute type ${C.type}`)}}}if(Number(d.dataOffset)!==n.currentOffset)throw new Error(`Data offset mismatch: $${d.dataOffset} != ${n.currentOffset}`);const a=ro($i(l.subarray(n.currentOffset)),n.currentOffset);for(let _=0;_<v.length;_++){const b=v[_];b.name=a.get(Number(b.nameOffset))}for(let _=0;_<y.length;_++){const b=y[_];for(let x=0;x<d.attributeCount;x++)switch(v[x].type){case 2:b.attributes[x]=a.get(b.attributes[x]);break;case-1:if(b.attributes[x]=a.get(b.attributes[x]),b.attributes[x]!==""&&b.attributes[x]!=="\0")throw new Error(`Attribute with type -1 is not empty string: "${b.attributes[x]}"`);break}}for(let _=0;_<y.length;_++){const b=y[_];b.name=a.get(Number(b.header.nameOffset)),b.strings={};for(let x=0;x<b.header.contentOffsetsByLang.length;x++){const C=Number(b.header.contentOffsetsByLang[x]);b.strings[w[x]]=a.get(C)}}}return{meta:{version:d.version,attributes:v.map(a=>({type:a.type,name:a.name}))},entries:y.map(a=>({meta:{id:a.header.id,crc:a.header.crc,hash:a.header.hash},name:a.name,attributes:a.attributes,strings:a.strings}))}},ao=l=>{if(l.meta.version!==539100710&&l.meta.version!==23)throw new Error(`Unsupported version ${l.meta.version}`);const n=new so;n.setUint32(l.meta.version),n.setString("GMSG"),n.setUint64(16n),n.setUint32(l.entries.length),n.setUint32(l.meta.attributes.length);const d=l.entries[0]!=null?Object.keys(l.entries[0].strings).length:0;n.setUint32(d),n.alignTo(8);const y=n.currentOffset;n.setInt64(-1n);const g=n.currentOffset;n.setInt64(-1n);const w=n.currentOffset;n.setInt64(-1n);const v=n.currentOffset;n.setInt64(-1n);const a=n.currentOffset;n.setInt64(-1n);const _=[];for(let O=0;O<l.entries.length;O++)_.push(n.currentOffset),n.setInt64(-1n);n.setUint64(BigInt(n.currentOffset),{into:g}),n.setUint64(0n),n.setUint64(BigInt(n.currentOffset),{into:w});for(let O=0;O<d;O++)n.setInt32(O);n.alignTo(8),n.setUint64(BigInt(n.currentOffset),{into:v});for(const O of l.meta.attributes)n.setInt32(O.type);n.alignTo(8),n.setUint64(BigInt(n.currentOffset),{into:a});const b=[];for(const O of l.meta.attributes)b.push(n.currentOffset),n.setInt64(-1n);const x=[];for(let O=0;O<l.entries.length;O++){n.setUint64(BigInt(n.currentOffset),{into:_[O]});const j=l.entries[O];n.setBuffer(no(j.meta.id)),n.setUint32(j.meta.crc),n.setUint32(j.meta.hash),x[O]??={},x[O].name=n.currentOffset,n.setInt64(-1n),x[O].attributes=n.currentOffset,n.setInt64(-1n),x[O].langs=[];for(let G=0;G<d;G++)x[O].langs[G]=n.currentOffset,n.setInt64(-1n);x[O].attributeValues=[]}for(let O=0;O<l.entries.length;O++){const j=l.entries[O];n.setUint64(BigInt(n.currentOffset),{into:x[O].attributes});for(let G=0;G<l.meta.attributes.length;G++){switch(l.meta.attributes[G].type){case-1:n.setInt64(-1n);break;case 0:n.setInt32(j.attributes[G]);break;case 1:n.setDouble(j.attributes[G]);break;case 2:n.setInt64(-1n);break}x[O].attributeValues[G]=n.currentOffset}}const C=n.currentOffset;n.setUint64(BigInt(C),{into:y});const{data:X,map:I,nullAttributes:k,stringAttributes:L}=io(l,C),T=eo(X);n.setBuffer(T);for(let O=0;O<l.meta.attributes.length;O++){const{name:j}=l.meta.attributes[O],G=b[O];n.setUint64(BigInt(I.get(j)),{into:G})}for(let O=0;O<l.entries.length;O++){const j=l.entries[O],G=x[O];n.setUint64(BigInt(I.get(j.name)),{into:G.name});const _e=Object.values(j.strings);for(let D=0;D<_e.length;D++){const P=_e[D];n.setUint64(BigInt(I.get(P)),{into:G.langs[D]})}for(const D of L){const P=j.attributes[D];n.setUint64(BigInt(I.get(P)),{into:G.attributeValues[D]})}const oe=I.get("");for(const D of k)n.setUint64(BigInt(oe),{into:G.attributeValues[D]})}return n.buffer};let uo=0;function co(){return globalThis.crypto?.randomUUID?globalThis.crypto.randomUUID():(Date.now().toString(16)+(uo++).toString(16)).padStart(32,"0").replace(/(.{8})(.{4})(.{4})(.{4})(.{12})/,"$1-$2-$3-$4-$5")}const Sn=l=>typeof l=="object"&&l!==null,Mr=l=>Sn(l)&&typeof l.group=="string",Ve=l=>{if(Sn(l)){if(l.label===void 0){const n=JSON.stringify(l);console.error("MultiSelect: option is an object but has no label key",n)}return l.label}return`${l}`};function Lr(l,n=null){n===void 0&&(n=null);let d="";if(n===null||n==="selected"||n==="option"||console.error(`MultiSelect: Invalid key=${n} for get_style`),typeof l=="object"&&l.style&&(typeof l.style=="string"&&(d=l.style),typeof l.style=="object")){if(n&&n in l.style)return l.style[n]??"";console.error("MultiSelect: invalid style object for option",l)}return d.trim()&&!d.trim().endsWith(";")&&(d+=";"),d}function Dr(l,n){if(l==null||n===null||n===void 0)return!1;if(!l)return!0;if(!n)return!1;const[d,y]=[l.toLowerCase(),n.toLowerCase()];let[g,w]=[0,0];for(;g<d.length&&w<y.length;)d[g]===y[w]&&g++,w++;return g===d.length}const fo=l=>n=>{const{query:d="",disabled:y=!1,fuzzy:g=!1,node_filter:w=()=>NodeFilter.FILTER_ACCEPT,css_class:v="highlight-match"}=l;if(typeof CSS>"u"||!CSS.highlights||(CSS.highlights.delete(v),!d||y))return;const a=document.createTreeWalker(n,NodeFilter.SHOW_TEXT,{acceptNode:w}),_=[];let b=a.nextNode();for(;b;)_.push(b),b=a.nextNode();const x=_.map(C=>{const X=C.textContent?.toLowerCase();if(!X)return[];const I=d.toLowerCase();if(g){const k=[];let L=0,T=0;for(;L<I.length&&T<X.length;)I[L]===X[T]&&(k.push(T),L++),T++;return L===I.length?k.map(O=>{const j=new Range;return j.setStart(C,O),j.setEnd(C,O+1),j}):[]}else{const k=[];let L=0;for(;L<X.length;){const T=X.indexOf(I,L);if(T===-1)break;k.push(T),L=T+I.length}return k.map(T=>{const O=new Range;return O.setStart(C,T),O.setEnd(C,T+I.length),O})}});return CSS.highlights.set(v,new Highlight(...x.flat())),()=>CSS.highlights.delete(v)};var ho=ue('<div class="svelte-15s12h5"></div>');function Nr(l,n){let d=p(n,"color",19,()=>"cornflowerblue"),y=p(n,"duration",19,()=>"1.5s"),g=p(n,"size",19,()=>"1em");var w=ho();let v;ie(()=>v=yt(w,`--duration: ${y()??""}`,v,{"border-color":`${d()??""} transparent ${d()??""}
  ${d()??""}`,width:g(),height:g()})),S(l,w)}const Yn={Alert:{viewBox:"0 0 16 16",path:"M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"},Check:{viewBox:"0 0 12 16",path:"M12 5l-8 8l-4-4l1.5-1.5L4 10l6.5-6.5L12 5z"},ChevronExpand:{viewBox:"0 0 16 16",path:"M3.646 9.146a.5.5 0 0 1 .708 0L8 12.793l3.646-3.647a.5.5 0 0 1 .708.708l-4 4a.5.5 0 0 1-.708 0l-4-4a.5.5 0 0 1 0-.708zm0-2.292a.5.5 0 0 0 .708 0L8 3.207l3.646 3.647a.5.5 0 0 0 .708-.708l-4-4a.5.5 0 0 0-.708 0l-4 4a.5.5 0 0 0 0 .708z"},ChevronRight:{viewBox:"0 0 16 16",path:"M4.646 1.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1 0 .708l-6 6a.5.5 0 0 1-.708-.708L10.293 8L4.646 2.354a.5.5 0 0 1 0-.708z"},ChevronDown:{viewBox:"0 0 16 16",path:"M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z"},Collapse:{viewBox:"0 0 24 24",path:"M12 7.59L7.05 2.64L5.64 4.05L12 10.41l6.36-6.36l-1.41-1.41L12 7.59zM5.64 19.95l1.41 1.41L12 16.41l4.95 4.95l1.41-1.41L12 13.59l-6.36 6.36z"},Copy:{viewBox:"0 0 16 16",path:"M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"},Cross:{viewBox:"0 0 24 24",path:"M18.3 5.71a.996.996 0 0 0-1.41 0L12 10.59L7.11 5.7A.996.996 0 1 0 5.7 7.11L10.59 12L5.7 16.89a.996.996 0 1 0 1.41 1.41L12 13.41l4.89 4.89a.996.996 0 1 0 1.41-1.41L13.41 12l4.89-4.89c.38-.38.38-1.02 0-1.4z"},Disabled:{viewBox:"0 0 24 24",path:"M12 22c5.523 0 10-4.477 10-10S17.523 2 12 2S2 6.477 2 12s4.477 10 10 10Zm-4.906-3.68L18.32 7.094A8 8 0 0 1 7.094 18.32ZM5.68 16.906A8 8 0 0 1 16.906 5.68L5.68 16.906Z"},Expand:{viewBox:"0 0 24 24",path:"m12 19.24l-4.95-4.95l-1.41 1.42L12 22.07l6.36-6.36l-1.41-1.42L12 19.24zM5.64 8.29l1.41 1.42L12 4.76l4.95 4.95l1.41-1.42L12 1.93L5.64 8.29z"},GitHub:{viewBox:"0 0 24 24",path:"M8.422 20.081c0 .896.01 1.753.016 2.285a.617.617 0 0 0 .422.58c2.078.686 4.317.718 6.414.091l.292-.087a.67.67 0 0 0 .478-.638c.005-.733.017-2.017.017-3.53c0-1.372-.477-2.25-1.031-2.707c3.399-.366 6.97-1.61 6.97-7.227c0-1.61-.592-2.91-1.566-3.934c.153-.366.688-1.866-.153-3.878c0 0-1.28-.403-4.201 1.5a14.76 14.76 0 0 0-3.82-.494c-1.298 0-2.597.165-3.819.494C5.52.65 4.24 1.036 4.24 1.036c-.84 2.012-.306 3.512-.153 3.878a5.565 5.565 0 0 0-1.566 3.934c0 5.598 3.552 6.86 6.951 7.227c-.439.366-.84 1.006-.973 1.957c-.879.384-3.075 1.006-4.45-1.207c-.286-.44-1.146-1.519-2.349-1.5c-1.28.018-.516.695.02.97c.648.347 1.393 1.646 1.565 2.067c.306.823 1.299 2.396 5.137 1.72Z"},StackBlitz:{viewBox:"0 0 24 24",path:"M10.797 14.182H3.635L16.728 0l-3.525 9.818h7.162L7.272 24l3.524-9.818Z"},Svelte:{viewBox:"0 0 24 24",path:"M10.354 21.125a4.44 4.44 0 0 1-4.765-1.767a4.109 4.109 0 0 1-.703-3.107a3.898 3.898 0 0 1 .134-.522l.105-.321l.287.21a7.21 7.21 0 0 0 2.186 1.092l.208.063l-.02.208a1.253 1.253 0 0 0 .226.83a1.337 1.337 0 0 0 1.435.533a1.231 1.231 0 0 0 .343-.15l5.59-3.562a1.164 1.164 0 0 0 .524-.778a1.242 1.242 0 0 0-.211-.937a1.338 1.338 0 0 0-1.435-.533a1.23 1.23 0 0 0-.343.15l-2.133 1.36a4.078 4.078 0 0 1-1.135.499a4.44 4.44 0 0 1-4.765-1.766a4.108 4.108 0 0 1-.702-3.108a3.855 3.855 0 0 1 1.742-2.582l5.589-3.563a4.072 4.072 0 0 1 1.135-.499a4.44 4.44 0 0 1 4.765 1.767a4.109 4.109 0 0 1 .703 3.107a3.943 3.943 0 0 1-.134.522l-.105.321l-.286-.21a7.204 7.204 0 0 0-2.187-1.093l-.208-.063l.02-.207a1.255 1.255 0 0 0-.226-.831a1.337 1.337 0 0 0-1.435-.532a1.231 1.231 0 0 0-.343.15L8.62 9.368a1.162 1.162 0 0 0-.524.778a1.24 1.24 0 0 0 .211.937a1.338 1.338 0 0 0 1.435.533a1.235 1.235 0 0 0 .344-.151l2.132-1.36a4.067 4.067 0 0 1 1.135-.498a4.44 4.44 0 0 1 4.765 1.766a4.108 4.108 0 0 1 .702 3.108a3.857 3.857 0 0 1-1.742 2.583l-5.589 3.562a4.072 4.072 0 0 1-1.135.499m10.358-17.95C18.484-.015 14.082-.96 10.9 1.068L5.31 4.63a6.412 6.412 0 0 0-2.896 4.295a6.753 6.753 0 0 0 .666 4.336a6.43 6.43 0 0 0-.96 2.396a6.833 6.833 0 0 0 1.168 5.167c2.229 3.19 6.63 4.135 9.812 2.108l5.59-3.562a6.41 6.41 0 0 0 2.896-4.295a6.756 6.756 0 0 0-.665-4.336a6.429 6.429 0 0 0 .958-2.396a6.831 6.831 0 0 0-1.167-5.168Z"}};var po=Ni("<svg><path></path></svg>");function tn(l,n){on(n,!0);let d=Xn(n,["$$slots","$$events","$$legacy","icon"]);const y=M(()=>n.icon in Yn?Yn[n.icon]:(console.error(`Icon '${n.icon}' not found`),Yn.Alert));var g=po();Kn(g,()=>({viewBox:s(y).viewBox,fill:"currentColor",...d}),void 0,void 0,void 0,"svelte-uxondn");var w=re(g);ie(()=>pe(w,"d",s(y).path)),S(l,g),sn()}var go=ue("<span><!></span>");function mo(l,n){on(n,!0);let d=p(n,"wiggle",15,!1),y=p(n,"angle",3,0),g=p(n,"scale",3,1),w=p(n,"dx",3,0),v=p(n,"dy",3,0),a=p(n,"duration",3,200),_=p(n,"spring_options",27,()=>wt({stiffness:.05,damping:.1})),b=Xn(n,["$$slots","$$events","$$legacy","wiggle","angle","scale","dx","dy","duration","spring_options","children"]);const x=Ri.of(()=>d()?{scale:g(),angle:y(),dx:w(),dy:v()}:{angle:0,scale:1,dx:0,dy:0},_());We(()=>{x.stiffness=_().stiffness,x.damping=_().damping}),nn(()=>{d()&&setTimeout(()=>d(!1),a())});var C=go();Kn(C,()=>({...b,[Pi]:{display:"inline-block",transform:`rotate(${x.current.angle??""}deg) scale(${x.current.scale??""})
  translate(${x.current.dx??""}px, ${x.current.dy??""}px)`}}));var X=re(C);qe(X,()=>n.children??Rr),S(l,C),sn()}var yo=ue('<button type="button" class="remove svelte-1dp4vwh"><!></button>'),wo=ue('<li role="option" aria-selected="true"><!> <!></li>'),vo=ue("<span> </span>"),_o=ue('<button type="button" class="remove remove-all svelte-1dp4vwh"><!></button>'),bo=ue("<!> <!>",1),xo=ue('<li role="option" aria-selected="false" tabindex="0"> </li>'),Bo=ue('<button type="button"> </button>'),Io=ue('<span class="group-label svelte-1dp4vwh"> </span> <span class="group-count svelte-1dp4vwh"><!></span> <!> <!>',1),Eo=ue("<li><!></li>"),Oo=ue('<input type="checkbox" class="option-checkbox svelte-1dp4vwh" tabindex="-1"/>'),So=ue('<li role="option"><!> <!></li>'),Ao=ue("<!> <!>",1),Uo=ue('<li role="option" aria-selected="false"><!></li>'),Co=ue('<li class="loading-more svelte-1dp4vwh" role="status" aria-label="Loading more options"><!></li>'),Fo=ue('<ul role="listbox"><!> <!> <!> <!></ul>'),ko=ue('<div role="searchbox" tabindex="-1"><input tabindex="-1" aria-hidden="true" aria-label="ignore this, used only to prevent form submission if select is required but empty" class="form-control svelte-1dp4vwh"/> <span class="expand-icon svelte-1dp4vwh"><!></span> <ul aria-label="selected options"><!> <input/> <!></ul> <!> <!> <!> <div class="sr-only svelte-1dp4vwh" aria-live="polite" aria-atomic="true"><!></div></div>');function To(l,n){on(n,!0);let d=p(n,"activeIndex",15,null),y=p(n,"activeOption",15,null),g=p(n,"createOptionMsg",19,()=>"Create this option..."),w=p(n,"allowUserOptions",3,!1),v=p(n,"allowEmpty",3,!1),a=p(n,"autocomplete",19,()=>"off"),_=p(n,"autoScroll",3,!0),b=p(n,"breakpoint",3,800),x=p(n,"defaultDisabledTitle",19,()=>"This option is disabled"),C=p(n,"disabled",3,!1),X=p(n,"disabledInputTitle",19,()=>"This input is disabled"),I=p(n,"duplicateOptionMsg",19,()=>"This option is already selected"),k=p(n,"duplicates",3,!1),L=p(n,"keepSelectedInDropdown",3,!1),T=p(n,"key",3,i=>`${Ve(i)}`.toLowerCase()),O=p(n,"filterFunc",3,(i,c)=>{if(!c)return!0;const m=`${Ve(i)}`;return j()?Dr(c,m):m.toLowerCase().includes(c.toLowerCase())}),j=p(n,"fuzzy",3,!0),G=p(n,"closeDropdownOnSelect",3,!1),_e=p(n,"form_input",15,null),oe=p(n,"highlightMatches",3,!0),D=p(n,"id",3,null),P=p(n,"input",15,null),le=p(n,"inputClass",19,()=>""),Ie=p(n,"inputStyle",3,null),Ne=p(n,"inputmode",3,null),ye=p(n,"invalid",15,!1),st=p(n,"liActiveOptionClass",19,()=>""),Ct=p(n,"liActiveUserMsgClass",19,()=>""),Ft=p(n,"liOptionClass",19,()=>""),vt=p(n,"liOptionStyle",3,null),zt=p(n,"liSelectedClass",19,()=>""),Ht=p(n,"liSelectedStyle",3,null),Vt=p(n,"liUserMsgClass",19,()=>""),ut=p(n,"loading",3,!1),lt=p(n,"matchingOptions",31,()=>wt([])),ee=p(n,"maxOptions",3,void 0),F=p(n,"maxSelect",11,null),_t=p(n,"maxSelectMsg",3,(i,c)=>c>1?`${i}/${c}`:""),ln=p(n,"maxSelectMsgClass",19,()=>""),an=p(n,"name",3,null),bt=p(n,"noMatchingOptionsMsg",19,()=>"No matching options"),ge=p(n,"open",15,!1),Ge=p(n,"options",15),et=p(n,"outerDiv",15,null),un=p(n,"outerDivClass",19,()=>""),qt=p(n,"parseLabelsAsHtml",3,!1),cn=p(n,"pattern",3,null),Ze=p(n,"placeholder",3,null),xt=p(n,"removeAllTitle",19,()=>"Remove all"),An=p(n,"removeBtnTitle",19,()=>"Remove"),ct=p(n,"minSelect",3,null),Se=p(n,"required",7,!1),fn=p(n,"resetFilterOnAdd",3,!0),K=p(n,"searchText",31,()=>""),Re=p(n,"value",15,null),E=p(n,"selected",31,()=>wt(Re()!==null&&Re()!==void 0?Array.isArray(Re())?Re():[Re()]:Ge()?.filter(i=>typeof i=="object"&&i!==null&&i?.preselected).slice(0,F()??void 0)??[])),Ae=p(n,"sortSelected",3,!1),kt=p(n,"selectedOptionsDraggable",19,()=>!Ae()),Un=p(n,"style",3,null),tt=p(n,"ulOptionsClass",19,()=>""),Cn=p(n,"ulSelectedClass",19,()=>""),r=p(n,"ulSelectedStyle",3,null),e=p(n,"ulOptionsStyle",3,null),t=p(n,"portal",19,()=>({})),o=p(n,"selectAllOption",3,!1),u=p(n,"liSelectAllClass",19,()=>""),f=p(n,"selectedFlipParams",19,()=>({duration:100})),h=p(n,"collapsibleGroups",3,!1),N=p(n,"collapsedGroups",31,()=>wt(new Set)),ce=p(n,"groupSelectAll",3,!1),se=p(n,"ungroupedPosition",19,()=>"first"),te=p(n,"groupSortOrder",19,()=>"none"),Q=p(n,"searchExpandsCollapsedGroups",3,!1),zr=p(n,"searchMatchesGroups",3,!1),Hr=p(n,"keyboardExpandsCollapsedGroups",3,!1),Vr=p(n,"stickyGroupHeaders",3,!1),qr=p(n,"liGroupHeaderClass",19,()=>""),Wr=p(n,"liGroupHeaderStyle",3,null),Jr=p(n,"collapseAllGroups",15),Zr=p(n,"expandAllGroups",15),Yr=p(n,"shortcuts",19,()=>({})),dn=p(n,"history",3,!0),$n=p(n,"undo",15),er=p(n,"redo",15),tr=p(n,"canUndo",15,!1),nr=p(n,"canRedo",15,!1),Kr=Xn(n,["$$slots","$$events","$$legacy","activeIndex","activeOption","createOptionMsg","allowUserOptions","allowEmpty","autocomplete","autoScroll","breakpoint","defaultDisabledTitle","disabled","disabledInputTitle","duplicateOptionMsg","duplicates","keepSelectedInDropdown","key","filterFunc","fuzzy","closeDropdownOnSelect","form_input","highlightMatches","id","input","inputClass","inputStyle","inputmode","invalid","liActiveOptionClass","liActiveUserMsgClass","liOptionClass","liOptionStyle","liSelectedClass","liSelectedStyle","liUserMsgClass","loading","matchingOptions","maxOptions","maxSelect","maxSelectMsg","maxSelectMsgClass","name","noMatchingOptionsMsg","open","options","outerDiv","outerDivClass","parseLabelsAsHtml","pattern","placeholder","removeAllTitle","removeBtnTitle","minSelect","required","resetFilterOnAdd","searchText","value","selected","sortSelected","selectedOptionsDraggable","style","ulOptionsClass","ulSelectedClass","ulSelectedStyle","ulOptionsStyle","expandIcon","selectedItem","children","removeIcon","afterInput","spinner","disabledIcon","option","userMsg","onblur","onclick","onfocus","onkeydown","onkeyup","onmousedown","onmouseenter","onmouseleave","ontouchcancel","ontouchend","ontouchmove","ontouchstart","onadd","oncreate","onremove","onremoveAll","onchange","onopen","onclose","onselectAll","onreorder","portal","selectAllOption","liSelectAllClass","loadOptions","selectedFlipParams","collapsibleGroups","collapsedGroups","groupSelectAll","ungroupedPosition","groupSortOrder","searchExpandsCollapsedGroups","searchMatchesGroups","keyboardExpandsCollapsedGroups","stickyGroupHeaders","liGroupHeaderClass","liGroupHeaderStyle","groupHeader","ongroupToggle","oncollapseAll","onexpandAll","onsearch","onmaxreached","onduplicate","onactivate","collapseAllGroups","expandAllGroups","shortcuts","history","undo","redo","canUndo","canRedo","onundo","onredo"]);const Fn=M(()=>D()??`sms-${co().slice(0,8)}`),rr=M(()=>`${s(Fn)}-listbox`);function Xr(i){const c=i.toLowerCase().split("+").map(de=>de.trim()),m=c.pop()??"",A=c.includes("ctrl"),U=c.includes("shift"),B=c.includes("alt"),H=c.includes("meta")||c.includes("cmd");return{key:m,ctrl:A,shift:U,alt:B,meta:H}}function Qr(i,c){if(!c)return!1;const m=Xr(c);if(!m.key)return!1;const A=i.key.toLowerCase()===m.key,U=i.ctrlKey===m.ctrl,B=i.shiftKey===m.shift,H=i.altKey===m.alt,de=i.metaKey===m.meta;return A&&U&&B&&H&&de}const hn=typeof navigator<"u"&&/Mac|iPhone|iPad|iPod/.test(navigator.userAgent)?"meta":"ctrl",$r={select_all:`${hn}+a`,clear_all:`${hn}+shift+a`,open:null,close:null,undo:`${hn}+z`,redo:`${hn}+shift+z`},ei=M(()=>({...$r,...Yr()})),ft=M(()=>{if(!n.loadOptions)return null;const i=typeof n.loadOptions=="function";return{fetch:i?n.loadOptions:n.loadOptions.fetch,debounce_ms:i?300:n.loadOptions.debounceMs??300,batch_size:i?50:n.loadOptions.batchSize??50,on_open:i?!0:n.loadOptions.onOpen??!0}});function kn(i,c){if(i===c)return!0;const m=i==null||Array.isArray(i)&&i.length===0,A=c==null||Array.isArray(c)&&c.length===0;return m&&A?!0:Array.isArray(i)&&Array.isArray(c)?i.length===c.length&&i.every((U,B)=>U===c[B]):!1}nn(()=>{const i=F()===1?E()[0]??null:E();kn(Jn(()=>Re()),i)||Re(i)}),nn(()=>{const i=F()===1?Re()?[Re()]:[]:Array.isArray(Re())?Re():[];kn(Jn(()=>E()),i)||E(i)});let Tn=ke(!1),pn=ke(!1),Ye=ke(null);We(()=>{if(s(Ye)){const i=setTimeout(()=>R(Ye,null),1e3);return()=>clearTimeout(i)}});const Bt=M(()=>dn()===!0?50:typeof dn()=="number"&&Number.isFinite(dn())?Math.max(0,Math.floor(dn())):0);let Ee=ke(wt([])),Te=ke(-1),dt=null;We(()=>{if(!(s(Bt)>0)){R(Ee,[],!0),R(Te,-1),dt=null;return}if(dt===null){dt=[...E()];return}if(!kn(E(),dt)){if(s(Ee).length===0&&(R(Ee,[[...dt]],!0),R(Te,0)),s(Te)<s(Ee).length-1&&R(Ee,s(Ee).slice(0,s(Te)+1),!0),R(Ee,[...s(Ee),[...E()]],!0),R(Te,s(Ee).length-1),s(Ee).length>s(Bt)){const c=s(Ee).length-s(Bt);R(Ee,s(Ee).slice(c),!0),R(Te,Math.max(0,s(Te)-c),!0)}dt=[...E()]}}),We(()=>{tr(s(Bt)>0&&!C()&&s(Te)>0),nr(s(Bt)>0&&!C()&&s(Te)<s(Ee).length-1)}),$n(()=>{if(s(Bt)<=0||C()||s(Te)<=0)return!1;const i=[...E()];return Br(Te,-1),E([...s(Ee)[s(Te)]]),dt=[...E()],n.onundo?.({previous:i,current:E()}),!0}),er(()=>{if(s(Bt)<=0||C()||s(Te)>=s(Ee).length-1)return!1;const i=[...E()];return Br(Te),E([...s(Ee)[s(Te)]]),dt=[...E()],n.onredo?.({previous:i,current:E()}),!0});let Mn=null,ir=!1;We(()=>{const i=K();if(!ir){ir=!0;return}if(n.onsearch)return Mn=setTimeout(()=>{n.onsearch?.({searchText:i,matchingCount:lt().length})},150),()=>{Mn&&clearTimeout(Mn)}});let ht=ke(wt([])),Wt=ke(!0),Tt=ke(!1),gn=ke(null),Mt=null,pt=M(()=>n.loadOptions?s(ht):Ge()??[]),ti=M(()=>E().map(T())),Ln=M(()=>E().map(Ve)),It=M(()=>new Set(s(ti))),or=M(()=>new Set(s(Ln))),ni=M(()=>new Set(s(pt).filter(i=>Sn(i)&&i.disabled).map(T())));const ri=i=>s(ni).has(T()(i));let Jt=M(()=>{const i=new Or,c=[];for(const U of lt())if(Mr(U)){const B=i.get(U.group);B?B.push(U):i.set(U.group,[U])}else c.push(U);let m=[...i.entries()].map(([U,B])=>({group:U,options:B,collapsed:N().has(U)}));if(te()&&te()!=="none"&&(m=m.toSorted((U,B)=>{if(typeof te()=="function")return te()(U.group,B.group);const H=U.group.localeCompare(B.group);return te()==="desc"?-H:H})),c.length===0)return m;const A={group:null,options:c,collapsed:!1};return se()==="first"?[A,...m]:[...m,A]}),Me=M(()=>s(Jt).flatMap(({options:i,collapsed:c})=>c&&h()?[]:i)),sr=M(()=>new Map(s(Me).map((i,c)=>[i,c]))),ii=M(()=>{const i=new Or;for(const{group:c,options:m,collapsed:A}of s(Jt)){if(c===null)continue;const U=Pn(m,A),B=U.length>0&&U.every(de=>s(It).has(T()(de)));let H=0;if(L())for(const de of m)s(It).has(T()(de))&&H++;i.set(c,{all_selected:B,selected_count:H})}return i});function mn(i,c){const m=typeof c=="string"?[c]:[...c];if(i==="set")N(new Er(m));else{const A=new Er(N());for(const U of m)A[i](U);N(A)}}function oi(i){const c=N().has(i);mn(c?"delete":"add",i),n.ongroupToggle?.({group:i,collapsed:!c})}Jr(()=>{const i=s(Jt).map(c=>c.group).filter(c=>c!==null);i.length!==0&&(mn("set",i),n.oncollapseAll?.({groups:i}))}),Zr(()=>{const i=[...N()];i.length!==0&&(mn("set",[]),n.onexpandAll?.({groups:i}))});function lr(i){if(i.length!==0){mn("delete",i);for(const c of i)n.ongroupToggle?.({group:c,collapsed:!1})}}const ar=()=>s(Jt).flatMap(({group:i,collapsed:c,options:m})=>i&&c&&m.length>0?[i]:[]);We(()=>{Q()&&K()&&h()&&lr(ar())});const ur=M(()=>typeof Ze()=="string"?Ze():Ze()?.text??null),si=M(()=>typeof Ze()=="object"&&Ze()?.persistent===!0);function cr(i){return Ae()===!0?i.toSorted((c,m)=>`${Ve(c)}`.localeCompare(`${Ve(m)}`)):typeof Ae()=="function"?i.toSorted(Ae()):i}Jn(()=>{!n.loadOptions&&!((Ge()?.length??0)>0)&&(w()||ut()||C()||v()?Ge([]):console.error("MultiSelect: received no options"))}),F()!==null&&F()<1&&console.error(`MultiSelect: maxSelect must be null or positive integer, got ${F()}`),Array.isArray(E())||console.error(`MultiSelect: selected prop should always be an array, got ${E()}`),We(()=>{F()&&typeof Se()=="number"&&Se()>F()&&console.error(`MultiSelect: maxSelect=${F()} < required=${Se()}, makes it impossible for users to submit a valid form`),qt()&&w()&&console.warn("MultiSelect: don't combine parseLabelsAsHtml and allowUserOptions. It's susceptible to XSS attacks!"),Ae()&&kt()&&console.warn("MultiSelect: sortSelected and selectedOptionsDraggable should not be combined as any user re-orderings of selected options will be undone by sortSelected on component re-renders."),w()&&!g()&&g()!==null&&console.error(`MultiSelect: allowUserOptions=${w()} but createOptionMsg=${g()} is falsy. This prevents the "Add option" <span> from showing up, resulting in a confusing user experience.`),ee()&&(typeof ee()!="number"||ee()<0||ee()%1!=0)&&console.error(`MultiSelect: maxOptions must be undefined or a positive integer, got ${ee()}`)});let nt=ke(!1),Dn=ke(0);const li=(i,c)=>O()(i,c)?!0:zr()&&c&&Mr(i)?j()?Dr(c,i.group):i.group.toLowerCase().includes(c.toLowerCase()):!1;nn(()=>{lt(s(pt).filter(i=>!s(It).has(T()(i))||k()||L()?n.loadOptions||li(i,K()):!1))}),We(()=>{d()!==null&&!s(Me)[d()]&&d(null)}),We(()=>{y(s(Me)[d()??-1]??null)});const ai=M(()=>d()!==null&&d()<s(Me).length?`${s(Fn)}-opt-${d()}`:void 0),yn=M(()=>ct()===null||E().length>ct());function ui(i,c){s(It).has(T()(i))?s(yn)&&Yt(i,c):Zt(i,c)}function Zt(i,c){c.stopPropagation(),F()!==null&&E().length>=F()&&R(Tn,!0),!isNaN(Number(i))&&typeof s(Ln)[0]=="number"&&(i=Number(i));const m=s(It).has(T()(i));if(F()!==null&&F()!==1&&E().length>=F()&&n.onmaxreached?.({selected:E(),maxSelect:F(),attemptedOption:i}),m&&!k()&&n.onduplicate?.({option:i}),(F()===null||F()===1||E().length<F())&&(k()||!m)){if(!s(pt).includes(i)&&[!0,"append"].includes(w())&&K().length>0&&(typeof s(pt)[0]=="object"?i={label:K()}:["number","undefined"].includes(typeof s(pt)[0])&&!isNaN(Number(K()))?i=Number(K()):i=K(),n.oncreate?.({option:i}),w()==="append"&&(n.loadOptions?R(ht,[...s(ht),i],!0):Ge([...Ge()??[],i]))),fn()&&K(""),["",void 0,null].includes(i)){console.error("MultiSelect: encountered falsy option",i);return}F()===1?E([i]):E(cr([...E(),i])),Nn(),fr(c),R(Ye,{type:"add",label:`${Ve(i)}`},!0),n.onadd?.({option:i}),n.onchange?.({option:i,type:"add"})}}function Yt(i,c){if(c.stopPropagation(),E().length===0)return;const m=E().findIndex(U=>T()(U)===T()(i));let A=E()[m];if(A===void 0&&w()&&(A=typeof s(pt)[0]=="object"?{label:i}:i),A===void 0){console.error(`MultiSelect: can't remove option ${JSON.stringify(i)}, not found in selected list`);return}E(E().filter((U,B)=>B!==m)),Nn(),R(Ye,{type:"remove",label:`${Ve(A)}`},!0),n.onremove?.({option:A}),n.onchange?.({option:A,type:"remove"})}function Lt(i){i.stopPropagation(),!C()&&(ge(!0),i instanceof FocusEvent||P()?.focus(),n.onopen?.({event:i}))}function Kt(i,c=!1){ge(!1),c||P()?.blur(),d(null),n.onclose?.({event:i})}function Nn(){ye(!1),_e()?.setCustomValidity("")}function fr(i){const c=E().length>=(F()??1/0),m=G()===!0||G()==="retain-focus"||G()==="if-mobile"&&s(Dn)&&s(Dn)<b();c||m?Kt(i,G()==="retain-focus"):P()?.focus()}const dr=M(()=>K().length>0&&!!(w()&&g()||!k()&&s(or).has(K())||s(Me).length===0&&bt()));async function ci(i){if(R(pn,!0),Hr()&&h()&&N().size>0&&(lr(ar()),await En()),w()&&!s(Me).length&&K().length>0){R(nt,!s(nt));return}if(!(d()===null&&!s(Me).length)){if(d()===null)d(0);else{const c=s(Me).length+(s(dr)?1:0);if(c===0){d(null);return}d((d()+i+c)%c)}R(nt,s(dr)&&d()===s(Me).length,!0),y(s(nt)?null:s(Me)[d()]??null),_()&&(await En(),document.querySelector("ul.options > li.active")?.scrollIntoViewIfNeeded?.()),n.onactivate?.({option:y(),index:d()})}}async function fi(i){if(C())return;const c=[{key:"select_all",condition:()=>!!o()&&s(Me).length>0&&F()!==1,action:()=>jn(i)},{key:"clear_all",condition:()=>E().length>0,action:()=>Rn(i)},{key:"open",condition:()=>!ge(),action:()=>Lt(i)},{key:"close",condition:()=>ge(),action:()=>{Kt(i),K("")}},{key:"undo",condition:()=>!!tr(),action:()=>$n()?.()},{key:"redo",condition:()=>!!nr(),action:()=>er()?.()}];for(const{key:m,condition:A,action:U}of c)if(Qr(i,s(ei)[m])&&A()){i.preventDefault(),i.stopPropagation(),U();return}if(i.key==="Escape"||i.key==="Tab")i.stopPropagation(),Kt(i),K("");else if(i.key==="Enter")i.stopPropagation(),i.preventDefault(),y()?s(It).has(T()(y()))?s(yn)&&Yt(y(),i):Zt(y(),i):w()&&K().length>0?Zt(K(),i):Lt(i);else if(i.key==="ArrowDown"||i.key==="ArrowUp")i.stopPropagation(),i.preventDefault(),await ci(i.key==="ArrowUp"?-1:1);else if(i.key==="Backspace"&&E().length>0&&!K()){if(i.stopPropagation(),s(yn)){const m=E().at(-1);m&&Yt(m,i)}}else s(Me).length>0&&d()===null&&d(0)}function Rn(i){i.stopPropagation();let c=[];ct()===null?(c=E(),E([])):E().length>ct()&&(c=E().slice(ct()),E(E().slice(0,ct()))),c.length>0&&(K(""),R(Ye,{type:"removeAll",label:`${c.length} options`},!0),n.onremoveAll?.({options:c}),n.onchange?.({options:E(),type:"removeAll"}))}const hr=i=>i>=0&&(ee()==null||i<ee()),Pn=(i,c=!1)=>i.filter(m=>ri(m)?!1:c?!0:hr(s(sr).get(m)??-1));function pr(i,c){const m=Math.max(0,(F()??1/0)-E().length),A=i.filter(U=>!s(It).has(T()(U))).slice(0,m);A.length!==0&&(E(cr([...E(),...A])),fn()&&K(""),Nn(),fr(c),n.onselectAll?.({options:A}),n.onchange?.({options:E(),type:"selectAll"}))}function jn(i){i.stopPropagation(),pr(Pn(s(Me)),i)}function di(i,c,m,A){A.stopPropagation();const U=Pn(i,c);if(m){const B=new Set(U.map(T())),H=E().filter(de=>B.has(T()(de)));E(E().filter(de=>!B.has(T()(de)))),H.length>0&&(n.onremoveAll?.({options:H}),n.onchange?.({options:E(),type:"removeAll"}))}else pr(U,A)}const hi=i=>s(or).has(i),Et=i=>c=>{(c.key==="Enter"||c.code==="Space")&&(c.preventDefault(),i(c))},gr=(i,c,m)=>{c||(L()?ui(i,m):Zt(i,m))};function mr(i){if(!et())return;const c=i.target;et().contains(c)||t()?.active&&s(wn)&&s(wn).contains(c)||Kt(i)}let Gn=ke(null);const pi=i=>c=>{if(!c.dataTransfer)return;c.dataTransfer.dropEffect="move";const m=parseInt(c.dataTransfer.getData("text/plain")),A=[...E()];m<i?(A.splice(i+1,0,A[m]),A.splice(m,1)):(A.splice(i,0,A[m]),A.splice(m+1,1)),E(A),R(Gn,null),n.onreorder?.({options:A}),n.onchange?.({options:A,type:"reorder"})},gi=i=>c=>{c.dataTransfer&&(c.dataTransfer.effectAllowed="move",c.dataTransfer.dropEffect="move",c.dataTransfer.setData("text/plain",`${i}`))};let wn=ke(void 0);const mi=i=>{fi(i),n.onkeydown?.(i)},yi=i=>{Lt(i),n.onfocus?.(i)};We(()=>{if(!P())return;const i=P().focus.bind(P());return P(P().focus=c=>{i(c),!C()&&!ge()&&Lt(new FocusEvent("focus",{bubbles:!0}))},!0),()=>{P()&&P(P().focus=i,!0)}});const wi=i=>{if(t()?.active){n.onblur?.(i);return}et()?.contains(i.relatedTarget)||Kt(i),n.onblur?.(i)};nn(()=>{Se(Se()),_e()?.setCustomValidity("")});function vi(i,c){let{target_node:m,active:A}=c;if(!A)return;let U=typeof window>"u"||!document.body.contains(i);if(!U){document.body.appendChild(i),i.style.position="fixed";const B=()=>{if(!m||!ge())return i.hidden=!0;const H=m.getBoundingClientRect();i.style.left=`${H.left}px`,i.style.top=`${H.bottom}px`,i.style.width=`${H.width}px`,i.hidden=!1};return ge()&&En().then(B),window.addEventListener("scroll",B,!0),window.addEventListener("resize",B),We(()=>{ge()&&m?B():i.hidden=!0}),{update(H){m=H.target_node,U=typeof window>"u"||!document.body.contains(i),ge()&&!U&&m?En().then(B):(!ge()||!m)&&(i.hidden=!0)},destroy(){U||i.remove(),window.removeEventListener("scroll",B,!0),window.removeEventListener("resize",B)}}}}async function vn(i){if(!s(ft)||s(Tt)||!i&&!s(Wt))return;const c=K(),m=i?0:s(ht).length;R(Tt,!0);try{const A=s(ft).batch_size,U=await s(ft).fetch({search:c,offset:m,limit:A});R(ht,i?U.options:[...s(ht),...U.options],!0),R(Wt,U.hasMore,!0),R(gn,c,!0)}catch(A){console.error("MultiSelect: loadOptions error:",A)}finally{R(Tt,!1)}}We(()=>{if(!s(ft))return;if(!ge()){R(gn,null),R(ht,[],!0),R(Wt,!0);return}Mt&&clearTimeout(Mt);const i=K();return s(gn)===null?s(ft).on_open?vn(!0):i&&(Mt=setTimeout(()=>vn(!0),s(ft).debounce_ms)):i!==s(gn)&&(R(ht,[],!0),R(Wt,!0),Mt=setTimeout(()=>vn(!0),s(ft).debounce_ms)),()=>{Mt&&clearTimeout(Mt)}});function _i(i){if(!s(ft)||s(Tt)||!s(Wt))return;const{scrollTop:c,scrollHeight:m,clientHeight:A}=i.target;m-c-A<=100&&vn(!1)}var gt=ko();je("click",Ir,mr),je("touchstart",Ir,mr,void 0,!0);let yr;gt.__mouseup=Lt;var Dt=re(gt);In(Dt,i=>_e(i),()=>_e());var wr=$(Dt,2),bi=re(wr);{var xi=i=>{var c=ne(),m=Z(c);qe(m,()=>n.expandIcon,()=>({open:ge()})),S(i,c)},Bi=i=>{tn(i,{icon:"ChevronExpand",style:"width: 15px; min-width: 1em; padding: 0 1pt; cursor: pointer"})};z(bi,i=>{n.expandIcon?i(xi):i(Bi,!1)})}var _n=$(wr,2),vr=re(_n);rn(vr,27,E,(i,c)=>k()?`${T()(i)}-${c}`:T()(i),(i,c,m,A)=>{const U=M(()=>[Lr(s(c),"selected"),Ht()].filter(Boolean).join(" ")||null);var B=wo();let H;var de=M(()=>gi(s(m))),Ot=M(()=>pi(s(m)));B.__mouseup=q=>q.stopPropagation();var mt=re(B);{var V=q=>{var W=ne(),me=Z(W);qe(me,()=>n.selectedItem,()=>({option:s(c),idx:s(m)})),S(q,W)},Y=q=>{var W=ne(),me=Z(W);{var Ke=ze=>{var fe=ne(),Ue=Z(fe);qe(Ue,()=>n.children,()=>({option:s(c),idx:s(m)})),S(ze,fe)},rt=ze=>{var fe=ne(),Ue=Z(fe);{var be=Ce=>{var J=ne(),it=Z(J);Sr(it,()=>Ve(s(c))),S(Ce,J)},xe=Ce=>{var J=at();ie(it=>Be(J,it),[()=>Ve(s(c))]),S(Ce,J)};z(Ue,Ce=>{qt()?Ce(be):Ce(xe,!1)},!0)}S(ze,fe)};z(me,ze=>{n.children?ze(Ke):ze(rt,!1)},!0)}S(q,W)};z(mt,q=>{n.selectedItem?q(V):q(Y,!1)})}var we=$(mt,2);{var he=q=>{var W=yo();W.__click=fe=>Yt(s(c),fe);var me=M(()=>Et(fe=>Yt(s(c),fe)));W.__keydown=function(...fe){s(me)?.apply(this,fe)};var Ke=re(W);{var rt=fe=>{var Ue=ne(),be=Z(Ue);qe(be,()=>n.removeIcon),S(fe,Ue)},ze=fe=>{tn(fe,{icon:"Cross",style:"width: 15px"})};z(Ke,fe=>{n.removeIcon?fe(rt):fe(ze,!1)})}ie(fe=>pe(W,"title",`${An()??""} ${fe??""}`),[()=>Ve(s(c))]),S(q,W)};z(we,q=>{!C()&&s(yn)&&q(he)})}ie(()=>{H=ot(B,1,Hi(zt()),"svelte-1dp4vwh",H,{active:s(Gn)===s(m)}),pe(B,"draggable",kt()&&!C()&&E().length>1),yt(B,s(U))}),je("dragstart",B,function(...q){s(de)?.apply(this,q)}),je("dragover",B,q=>{q.preventDefault()}),je("drop",B,function(...q){s(Ot)?.apply(this,q)}),je("dragenter",B,()=>R(Gn,s(m),!0)),Vi(B,()=>Wi,f),S(i,B)});var bn=$(vr,2),Ii=()=>!1;Kn(bn,()=>({class:le(),style:Ie(),id:D(),disabled:C(),autocomplete:a(),inputmode:Ne(),pattern:cn(),placeholder:E().length===0||s(si)?s(ur):null,role:"combobox","aria-haspopup":"listbox","aria-expanded":ge(),"aria-controls":s(rr),"aria-activedescendant":s(ai),"aria-busy":ut()||s(Tt)||null,"aria-invalid":ye()?"true":null,ondrop:Ii,onmouseup:Lt,onkeydown:mi,onfocus:yi,onblur:wi,onclick:n.onclick,onkeyup:n.onkeyup,onmousedown:n.onmousedown,onmouseenter:n.onmouseenter,onmouseleave:n.onmouseleave,ontouchcancel:n.ontouchcancel,ontouchend:n.ontouchend,ontouchmove:n.ontouchmove,ontouchstart:n.ontouchstart,...Kr}),void 0,void 0,void 0,"svelte-1dp4vwh",!0),In(bn,i=>P(i),()=>P());var Ei=$(bn,2);qe(Ei,()=>n.afterInput??Rr,()=>({selected:E(),disabled:C(),invalid:ye(),id:D(),placeholder:s(ur),open:ge(),required:Se()}));var _r=$(_n,2);{var Oi=i=>{var c=ne(),m=Z(c);{var A=B=>{var H=ne(),de=Z(H);qe(de,()=>n.spinner),S(B,H)},U=B=>{Nr(B,{})};z(m,B=>{n.spinner?B(A):B(U,!1)})}S(i,c)};z(_r,i=>{ut()&&i(Oi)})}var br=$(_r,2);{var Si=i=>{var c=ne(),m=Z(c);{var A=B=>{var H=ne(),de=Z(H);qe(de,()=>n.disabledIcon),S(B,H)},U=B=>{tn(B,{icon:"Disabled",style:"width: 14pt; margin: 0 2pt","data-name":"disabled-icon","aria-disabled":"true"})};z(m,B=>{n.disabledIcon?B(A):B(U,!1)})}S(i,c)},Ai=i=>{var c=ne(),m=Z(c);{var A=U=>{var B=bo(),H=Z(B);{var de=V=>{mo(V,{angle:20,get wiggle(){return s(Tn)},set wiggle(Y){R(Tn,Y,!0)},children:(Y,we)=>{var he=vo(),q=re(he);ie(W=>{ot(he,1,`max-select-msg ${ln()??""}`,"svelte-1dp4vwh"),Be(q,W)},[()=>_t()?.(E().length,F())]),S(Y,he)},$$slots:{default:!0}})};z(H,V=>{F()&&(F()>1||_t())&&V(de)})}var Ot=$(H,2);{var mt=V=>{var Y=_o();Y.__click=Rn;var we=M(()=>Et(Rn));Y.__keydown=function(...me){s(we)?.apply(this,me)};var he=re(Y);{var q=me=>{var Ke=ne(),rt=Z(Ke);qe(rt,()=>n.removeIcon),S(me,Ke)},W=me=>{tn(me,{icon:"Cross",style:"width: 15px"})};z(he,me=>{n.removeIcon?me(q):me(W,!1)})}ie(()=>pe(Y,"title",xt())),S(V,Y)};z(Ot,V=>{F()!==1&&E().length>1&&V(mt)})}S(U,B)};z(m,U=>{E().length>0&&U(A)},!0)}S(i,c)};z(br,i=>{C()?i(Si):i(Ai,!1)})}var xr=$(br,2);{var Ui=i=>{var c=Fo();let m;c.__mousemove=()=>R(pn,!1);var A=re(c);{var U=V=>{const Y=M(()=>typeof o()=="string"?o():"Select all");var we=xo();we.__click=jn;var he=M(()=>Et(jn));we.__keydown=function(...W){s(he)?.apply(this,W)};var q=re(we);ie(()=>{ot(we,1,`select-all ${u()??""}`,"svelte-1dp4vwh"),Be(q,s(Y))}),S(V,we)};z(A,V=>{o()&&s(pt).length>0&&(F()===null||F()>1)&&V(U)})}var B=$(A,2);rn(B,19,()=>s(Jt),({group:V,options:Y,collapsed:we},he)=>V??`ungrouped-${he}`,(V,Y,we)=>{let he=()=>s(Y).group,q=()=>s(Y).options,W=()=>s(Y).collapsed;var me=Ao(),Ke=Z(me);{var rt=Ue=>{const be=M(()=>{const{all_selected:ae,selected_count:Qe}=s(ii).get(he())??{all_selected:!1,selected_count:0};return{all_selected:ae,selected_count:Qe}}),xe=M(()=>()=>h()&&oi(he())),Ce=M(()=>ae=>di(q(),W(),s(be).all_selected,ae));var J=Eo();let it;J.__click=function(...ae){s(xe)?.apply(this,ae)};var xn=M(()=>Et(s(xe)));J.__keydown=function(...ae){s(xn)?.apply(this,ae)};var He=re(J);{var Pe=ae=>{var Qe=ne(),St=Z(Qe);qe(St,()=>n.groupHeader,()=>({group:he(),options:q(),collapsed:W()})),S(ae,Qe)},Le=ae=>{var Qe=Io(),St=Z(Qe),zn=re(St),Bn=$(St,2),At=re(Bn);{var Oe=Fe=>{var De=at();ie(()=>Be(De,`(${s(be).selected_count??""}/${q().length??""})`)),S(Fe,De)},Nt=Fe=>{var De=at();ie(()=>Be(De,`(${q().length??""})`)),S(Fe,De)};z(At,Fe=>{L()&&s(be).selected_count>0?Fe(Oe):Fe(Nt,!1)})}var Rt=$(Bn,2);{var Pt=Fe=>{var De=Bo();let ve;De.__click=function(...Xt){s(Ce)?.apply(this,Xt)};var $e=M(()=>Et(s(Ce)));De.__keydown=function(...Xt){s($e)?.apply(this,Xt)};var Ut=re(De);ie(()=>{ve=ot(De,1,"group-select-all svelte-1dp4vwh",null,ve,{deselect:s(be).all_selected}),Be(Ut,s(be).all_selected?"Deselect all":"Select all")}),S(Fe,De)};z(Rt,Fe=>{ce()&&(F()===null||F()>1)&&Fe(Pt)})}var Hn=$(Rt,2);{var Vn=Fe=>{{let De=M(()=>W()?"ChevronRight":"ChevronDown");tn(Fe,{get icon(){return s(De)},style:"width: 12px; margin-left: auto"})}};z(Hn,Fe=>{h()&&Fe(Vn)})}ie(()=>Be(zn,he())),S(ae,Qe)};z(He,ae=>{n.groupHeader?ae(Pe):ae(Le,!1)})}ie(()=>{it=ot(J,1,`group-header ${qr()??""}`,"svelte-1dp4vwh",it,{collapsible:h(),sticky:Vr()}),pe(J,"role",h()?"button":"presentation"),pe(J,"aria-expanded",h()?!W():void 0),pe(J,"aria-label",`Group: ${he()??""}`),yt(J,Wr()),pe(J,"tabindex",h()?0:-1)}),S(Ue,J)};z(Ke,Ue=>{he()!==null&&Ue(rt)})}var ze=$(Ke,2);{var fe=Ue=>{var be=ne(),xe=Z(be);rn(xe,19,q,(Ce,J)=>k()?`${T()(Ce)}-${s(we)}-${J}`:T()(Ce),(Ce,J,it,xn)=>{const He=M(()=>s(sr).get(s(J))??-1),Pe=M(()=>{const{label:At,disabled:Oe=null,title:Nt=null,selectedTitle:Rt=null,disabledTitle:Pt=x()}=Sn(s(J))?s(J):{label:s(J)};return{label:At,disabled:Oe,title:Nt,selectedTitle:Rt,disabledTitle:Pt}}),Le=M(()=>d()===s(He)&&s(He)>=0),ae=M(()=>hi(s(Pe).label)),Qe=M(()=>[Lr(s(J),"option"),vt()].filter(Boolean).join(" ")||null);var St=ne(),zn=Z(St);{var Bn=At=>{var Oe=So();Oe.__click=ve=>gr(s(J),s(Pe).disabled,ve);let Nt;Oe.__mouseover=()=>{!s(Pe).disabled&&!s(pn)&&d(s(He))};var Rt=M(()=>Et(ve=>gr(s(J),s(Pe).disabled,ve)));Oe.__keydown=function(...ve){s(Rt)?.apply(this,ve)};var Pt=re(Oe);{var Hn=ve=>{var $e=Oo();ie(Ut=>{Ji($e,s(ae)),pe($e,"aria-label",`Toggle ${Ut??""}`)},[()=>Ve(s(J))]),S(ve,$e)};z(Pt,ve=>{L()==="checkboxes"&&ve(Hn)})}var Vn=$(Pt,2);{var Fe=ve=>{var $e=ne(),Ut=Z($e);qe(Ut,()=>n.option,()=>({option:s(J),idx:s(He)})),S(ve,$e)},De=ve=>{var $e=ne(),Ut=Z($e);{var Xt=jt=>{var Qt=ne(),qn=Z(Qt);qe(qn,()=>n.children,()=>({option:s(J),idx:s(He)})),S(jt,Qt)},Mi=jt=>{var Qt=ne(),qn=Z(Qt);{var Li=Gt=>{var $t=ne(),Wn=Z($t);Sr(Wn,()=>Ve(s(J))),S(Gt,$t)},Di=Gt=>{var $t=at();ie(Wn=>Be($t,Wn),[()=>Ve(s(J))]),S(Gt,$t)};z(qn,Gt=>{qt()?Gt(Li):Gt(Di,!1)},!0)}S(jt,Qt)};z(Ut,jt=>{n.children?jt(Xt):jt(Mi,!1)},!0)}S(ve,$e)};z(Vn,ve=>{n.option?ve(Fe):ve(De,!1)})}ie(()=>{pe(Oe,"id",`${s(Fn)??""}-opt-${s(He)??""}`),pe(Oe,"title",s(Pe).disabled?s(Pe).disabledTitle:s(ae)&&s(Pe).selectedTitle||s(Pe).title),Nt=ot(Oe,1,`${Ft()??""} ${(s(Le)?st():"")??""}`,"svelte-1dp4vwh",Nt,{selected:s(ae),active:s(Le),disabled:s(Pe).disabled}),pe(Oe,"aria-selected",s(ae)?"true":"false"),pe(Oe,"aria-posinset",s(He)+1),pe(Oe,"aria-setsize",s(Me).length),yt(Oe,s(Qe))}),je("focus",Oe,()=>{s(Pe).disabled||d(s(He))}),S(At,Oe)};z(zn,At=>{hr(s(He))&&At(Bn)})}S(Ce,St)}),S(Ue,be)};z(ze,Ue=>{(!W()||!h())&&Ue(fe)})}S(V,me)});var H=$(B,2);{var de=V=>{const Y=M(()=>s(Ln).includes(K())),we=M(()=>!k()&&s(Y)&&"dupe"),he=M(()=>!!(w()&&g())&&"create"),q=M(()=>!!(s(Me)?.length===0&&bt())&&"no-match"),W=M(()=>s(we)||s(he)||s(q)),me=M(()=>s(W)&&{dupe:I(),create:g(),"no-match":bt()}[s(W)]),Ke=M(()=>s(W)==="create"&&w()),rt=M(()=>be=>s(Ke)&&Zt(K(),be));var ze=ne(),fe=Z(ze);{var Ue=be=>{var xe=Uo();xe.__click=function(...Le){s(rt)?.apply(this,Le)};var Ce=M(()=>s(Ke)?Et(s(rt)):void 0);xe.__keydown=function(...Le){s(Ce)?.apply(this,Le)},xe.__mouseover=()=>!s(pn)&&R(nt,!0),xe.__mouseout=()=>R(nt,!1);let J,it;var xn=re(xe);{var He=Le=>{var ae=ne(),Qe=Z(ae);qe(Qe,()=>n.userMsg,()=>({searchText:K(),msgType:s(W),msg:s(me)})),S(Le,ae)},Pe=Le=>{var ae=at();ie(()=>Be(ae,s(me))),S(Le,ae)};z(xn,Le=>{n.userMsg?Le(He):Le(Pe,!1)})}ie(()=>{pe(xe,"title",s(W)==="create"?g():s(W)==="dupe"?I():""),J=ot(xe,1,`
              user-msg ${Vt()??""} ${(s(nt)?Ct():"")??""}
            `,"svelte-1dp4vwh",J,{active:s(nt)}),it=yt(xe,"",it,{cursor:{dupe:"not-allowed",create:"pointer","no-match":"default"}[s(W)]})}),je("focus",xe,()=>R(nt,!0)),je("blur",xe,()=>R(nt,!1)),S(be,xe)};z(fe,be=>{s(me)&&be(Ue)})}S(V,ze)};z(H,V=>{K()&&V(de)})}var Ot=$(H,2);{var mt=V=>{var Y=Co(),we=re(Y);Nr(we,{}),S(V,Y)};z(Ot,V=>{n.loadOptions&&s(Tt)&&V(mt)})}Gi(c,(V,Y)=>vi?.(V,Y),()=>({target_node:et(),...t()})),zi(c,()=>fo({query:K(),disabled:!oe(),fuzzy:j(),css_class:"sms-search-matches",node_filter:V=>V?.parentElement?.closest("li.user-msg")?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT})),In(c,V=>R(wn,V),()=>s(wn)),ie(()=>{pe(c,"id",s(rr)),m=ot(c,1,`options ${tt()??""}`,"svelte-1dp4vwh",m,{hidden:!ge()}),pe(c,"aria-multiselectable",F()===null||F()>1),pe(c,"aria-expanded",ge()),pe(c,"aria-disabled",C()?"true":null),yt(c,e())}),je("scroll",c,_i),S(i,c)};z(xr,i=>{(K()&&bt()||s(pt).length>0||n.loadOptions)&&i(Ui)})}var Ci=$(xr,2),Fi=re(Ci);{var ki=i=>{var c=ne(),m=Z(c);{var A=B=>{var H=at();ie(()=>Be(H,`${s(Ye).label??""} selected`)),S(B,H)},U=B=>{var H=ne(),de=Z(H);{var Ot=V=>{var Y=at();ie(()=>Be(Y,`${s(Ye).label??""} removed`)),S(V,Y)},mt=V=>{var Y=ne(),we=Z(Y);{var he=q=>{var W=at();ie(()=>Be(W,`${s(Ye).label??""} removed`)),S(q,W)};z(we,q=>{s(Ye).type==="removeAll"&&q(he)},!0)}S(V,Y)};z(de,V=>{s(Ye).type==="remove"?V(Ot):V(mt,!1)},!0)}S(B,H)};z(m,B=>{s(Ye).type==="add"?B(A):B(U,!1)})}S(i,c)},Ti=i=>{var c=ne(),m=Z(c);{var A=U=>{var B=at();ie(()=>Be(B,`${lt().length??""} option${lt().length===1?"":"s"} available`)),S(U,B)};z(m,U=>{ge()&&U(A)},!0)}S(i,c)};z(Fi,i=>{s(Ye)?i(ki):i(Ti,!1)})}In(gt,i=>et(i),()=>et()),ie((i,c)=>{yr=ot(gt,1,`multiselect ${un()??""} ${n.class??""??""}`,"svelte-1dp4vwh",yr,{disabled:C(),single:F()===1,open:ge(),invalid:ye()}),pe(gt,"title",C()?X():null),pe(gt,"data-id",D()),yt(gt,Un()),pe(Dt,"name",an()),Dt.required=i,qi(Dt,c),ot(_n,1,`selected ${Cn()??""}`,"svelte-1dp4vwh"),yt(_n,r())},[()=>!!Se(),()=>E().length>=Number(Se())?JSON.stringify(E()):null]),ji("innerWidth",i=>R(Dn,i,!0)),je("invalid",Dt,()=>{ye(!0);let i;F()&&F()>1&&Number(Se())>1?i=`Please select between ${Se()} and ${F()} options`:Number(Se())>1?i=`Please select at least ${Se()} options`:i="Please select an option",_e()?.setCustomValidity(i)}),Pr(bn,K),S(l,gt),sn()}Qn(["mouseup","click","keydown","mousemove","mouseover","mouseout"]);Qn(["click","focusin","focusout","keydown"]);function Mo(l,n=!0){const d=new IntersectionObserver(([y],g)=>{const w=y.intersectionRatio;if(w<1){const v=w<=0&&n?"center":"nearest";l.scrollIntoView({block:v,inline:v})}g.disconnect()});return d.observe(l),d}typeof Element<"u"&&!Element.prototype?.scrollIntoViewIfNeeded&&typeof IntersectionObserver<"u"&&(Element.prototype.scrollIntoViewIfNeeded=function(){Mo(this)});const Xe=wt({file:null});var Lo=ue('<div> </div> <textarea class="h-100px bg-#33221166 shadow-#00000099 b-color-amber rounded-lg p-3 shadow-md"></textarea>',1),Do=ue('<div class="px-6 py-2"><h2 class="m-0"> </h2> <div class="w-450px flex flex-col"></div></div>');function No(l,n){on(n,!0);const d=M(()=>Xe.file?.entries[n.entryName]);var y=ne(),g=Z(y);{var w=v=>{var a=Do(),_=re(a),b=re(_),x=$(_,2);rn(x,21,()=>n.languages,jr,(C,X)=>{var I=Lo(),k=Z(I),L=re(k),T=$(k,2);ie(()=>Be(L,s(X))),Pr(T,()=>s(d).strings[s(X)],O=>s(d).strings[s(X)]=O),S(C,I)}),ie(()=>Be(b,s(d).name)),S(v,a)};z(g,v=>{s(d)!=null&&v(w)})}S(l,y),sn()}var Ro=ue('<div class="bg-amber-9 bg-op-25 z-100 fixed flex h-full w-full items-center justify-center"><div class="w-350px max-w-80% h-250px text-30px bg-#111 text-shadow-lg b-3px b-amber-4 rounded-30px b-dashed flex items-center justify-center font-bold shadow-lg">Drop file</div></div>'),Po=ue('<div class="b-3 b-1px b-solid b-red-5 fixed bottom-8 right-8 z-50 flex items-center justify-center rounded-lg bg-red-950 px-5 py-3">Invalid file</div>'),jo=ue('<label for="file" class="h-75 w-75 b-1 b-amber b-solid flex cursor-pointer flex-col items-center justify-center rounded-2xl p-8"><span class="i-lucide:file-scan h-25 w-25"></span> <span class="text-center font-bold">Select/Drop <br/> *.msg.* file</span></label>'),Go=ue('<h1 class="m-0"> </h1> <div class="flex items-center gap-6"><div> </div> <div> </div> <button class="b-solid b-1 b-amber cursor-pointer rounded-lg">Export as msg</button> <button class="b-solid b-1 b-amber cursor-pointer rounded-lg">Export as json</button></div> <div class="mb-4 mt-2"><!></div> <div class="flex h-full w-full flex-col items-center overflow-auto"></div>',1),zo=ue('<input id="file" type="file" hidden=""/> <div class="flex h-full w-full flex-col items-center justify-center"><!> <!> <!> <a target="_blank" rel="noopener" href="https://github.com/beeequeue/remsg-editor" class="text-#eee fixed bottom-2 flex items-center"><div class="i-simple-icons:github mr-1"></div> Made by beequeue</a></div>',1);function Ho(l,n){on(n,!0);const d=M(()=>Object.values(Xe.file?.entries??{}));let y=ke(!1);We(()=>{s(y)&&setTimeout(()=>{R(y,!1)},7500)});const g=M(()=>{const D=Object.keys(s(d)[0].strings),P=Object.fromEntries(D.map(le=>[le,!1]));for(const le of D)for(const Ie of s(d))Ie.strings[le]==null||Ie.strings[le].length===0||(P[le]=!0);return Object.entries(P).filter(([,le])=>le).map(([le])=>le)});let w=ke(wt(["en"]));const v=async D=>{const P=D.target.files;if(P==null||P.length===0)return;const le=P.item(0),Ie=Tr(Je.Buffer.from(await le.arrayBuffer())),Ne=Object.fromEntries(Ie.entries.map(ye=>[ye.name,ye]));Xe.file={name:le.name,meta:Ie.meta,entries:Ne}};let a=ke(!1);const _=D=>{R(a,!0),D.preventDefault()},b=()=>{R(a,!1)},x=async D=>{D.preventDefault(),R(y,!1);try{const P=D.dataTransfer.items[0].getAsFile(),le=Tr(Je.Buffer.from(await P.arrayBuffer())),Ie=Object.fromEntries(le.entries.map(Ne=>[Ne.name,Ne]));Xe.file={name:P.name,meta:le.meta,entries:Ie}}catch{R(y,!0)}R(a,!1)},C=D=>()=>{if(Xe.file==null)return;const P=Object.values(Xe.file.entries),le={meta:Xe.file.meta,entries:P};let Ie;if(D==="msg"){const st=ao(le);Ie=new Blob([st],{type:"application/octet-stream"})}else{const st=JSON.stringify(le,null,2);Ie=new Blob([st],{type:"application/json"})}const Ne=URL.createObjectURL(Ie),ye=document.createElement("a");ye.href=Ne,ye.download=Xe.file.name,D==="json"&&(ye.download+=".json"),ye.click(),URL.revokeObjectURL(Ne),ye.remove()};var X=zo(),I=Z(X);I.__change=v;var k=$(I,2),L=re(k);{var T=D=>{var P=Ro();Ar(3,P,()=>Ur,()=>({duration:100})),S(D,P)};z(L,D=>{s(a)&&D(T)})}var O=$(L,2);{var j=D=>{var P=Po();Ar(3,P,()=>Ur,()=>({duration:250})),S(D,P)};z(O,D=>{s(y)&&D(j)})}var G=$(O,2);{var _e=D=>{var P=jo();S(D,P)},oe=D=>{var P=Go(),le=Z(P),Ie=re(le),Ne=$(le,2),ye=re(Ne),st=re(ye),Ct=$(ye,2),Ft=re(Ct),vt=$(Ct,2),zt=M(()=>C("msg"));vt.__click=function(...F){s(zt)?.apply(this,F)};var Ht=$(vt,2),Vt=M(()=>C("json"));Ht.__click=function(...F){s(Vt)?.apply(this,F)};var ut=$(Ne,2),lt=re(ut);To(lt,{placeholder:"Languages",get options(){return s(g)},outerDivClass:"w-300px min-h-32px b-color-amber",liOptionClass:"color-#eee bg-#333",get selected(){return s(w)},set selected(F){R(w,F,!0)}});var ee=$(ut,2);rn(ee,21,()=>s(d),jr,(F,_t)=>{No(F,{get entryName(){return s(_t).name},get languages(){return s(w)}})}),ie(()=>{Be(Ie,Xe.file.name),Be(st,`Version ${Xe.file.meta.version??""}`),Be(Ft,`${Xe.file.meta.attributes.length??""} attributes`)}),S(D,P)};z(G,D=>{Xe?.file==null?D(_e):D(oe,!1)})}je("drop",k,x),je("dragover",k,_),je("dragleave",k,b),S(l,X),sn()}Qn(["change","click"]);Zi(Ho,{target:document.getElementById("root")});
