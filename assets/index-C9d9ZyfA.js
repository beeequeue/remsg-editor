import{p,f as ae,t as ne,s as mt,a as M,b as nn,c as Pi,d as Xn,e as rn,r as Qn,g as l,u as T,h as ge,i as ee,j as yt,S as ji,k as We,l as $t,m as zi,n as qe,o as Gr,q as $n,v as Ce,w as P,x as Ir,y as Jn,z as ze,$ as Or,A as Bn,B as K,C as W,D as en,E as Gi,F as he,G as Hr,H as Sr,I as ye,J as se,K as Hi,L as Vi,M as ut,N as Ar,O as rt,P as qi,Q as Wi,R as Ur,T as _e,U as Ji,V as En,W as Yi,X as Zi,Y as Vr,Z as Cr,_ as Fr,a0 as Ki}from"./svelte-AnRpm_Ow.js";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const g of document.querySelectorAll('link[rel="modulepreload"]'))m(g);new MutationObserver(g=>{for(const v of g)if(v.type==="childList")for(const w of v.addedNodes)w.tagName==="LINK"&&w.rel==="modulepreload"&&m(w)}).observe(document,{childList:!0,subtree:!0});function d(g){const v={};return g.integrity&&(v.integrity=g.integrity),g.referrerPolicy&&(v.referrerPolicy=g.referrerPolicy),g.crossOrigin==="use-credentials"?v.credentials="include":g.crossOrigin==="anonymous"?v.credentials="omit":v.credentials="same-origin",v}function m(g){if(g.ep)return;g.ep=!0;const v=d(g);fetch(g.href,v)}})();var Yn={},Xt={},kr;function Xi(){if(kr)return Xt;kr=1,Xt.byteLength=u,Xt.toByteArray=_,Xt.fromByteArray=V;for(var s=[],n=[],d=typeof Uint8Array<"u"?Uint8Array:Array,m="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",g=0,v=m.length;g<v;++g)s[g]=m[g],n[m.charCodeAt(g)]=g;n[45]=62,n[95]=63;function w(I){var U=I.length;if(U%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var L=I.indexOf("=");L===-1&&(L=U);var F=L===U?0:4-L%4;return[L,F]}function u(I){var U=w(I),L=U[0],F=U[1];return(L+F)*3/4-F}function b(I,U,L){return(U+L)*3/4-L}function _(I){var U,L=w(I),F=L[0],O=L[1],z=new d(b(I,F,O)),G=0,ve=O>0?F-4:F,re;for(re=0;re<ve;re+=4)U=n[I.charCodeAt(re)]<<18|n[I.charCodeAt(re+1)]<<12|n[I.charCodeAt(re+2)]<<6|n[I.charCodeAt(re+3)],z[G++]=U>>16&255,z[G++]=U>>8&255,z[G++]=U&255;return O===2&&(U=n[I.charCodeAt(re)]<<2|n[I.charCodeAt(re+1)]>>4,z[G++]=U&255),O===1&&(U=n[I.charCodeAt(re)]<<10|n[I.charCodeAt(re+1)]<<4|n[I.charCodeAt(re+2)]>>2,z[G++]=U>>8&255,z[G++]=U&255),z}function B(I){return s[I>>18&63]+s[I>>12&63]+s[I>>6&63]+s[I&63]}function x(I,U,L){for(var F,O=[],z=U;z<L;z+=3)F=(I[z]<<16&16711680)+(I[z+1]<<8&65280)+(I[z+2]&255),O.push(B(F));return O.join("")}function V(I){for(var U,L=I.length,F=L%3,O=[],z=16383,G=0,ve=L-F;G<ve;G+=z)O.push(x(I,G,G+z>ve?ve:G+z));return F===1?(U=I[L-1],O.push(s[U>>2]+s[U<<4&63]+"==")):F===2&&(U=(I[L-2]<<8)+I[L-1],O.push(s[U>>10]+s[U>>4&63]+s[U<<2&63]+"=")),O.join("")}return Xt}var In={};var Tr;function Qi(){return Tr||(Tr=1,In.read=function(s,n,d,m,g){var v,w,u=g*8-m-1,b=(1<<u)-1,_=b>>1,B=-7,x=d?g-1:0,V=d?-1:1,I=s[n+x];for(x+=V,v=I&(1<<-B)-1,I>>=-B,B+=u;B>0;v=v*256+s[n+x],x+=V,B-=8);for(w=v&(1<<-B)-1,v>>=-B,B+=m;B>0;w=w*256+s[n+x],x+=V,B-=8);if(v===0)v=1-_;else{if(v===b)return w?NaN:(I?-1:1)*(1/0);w=w+Math.pow(2,m),v=v-_}return(I?-1:1)*w*Math.pow(2,v-m)},In.write=function(s,n,d,m,g,v){var w,u,b,_=v*8-g-1,B=(1<<_)-1,x=B>>1,V=g===23?Math.pow(2,-24)-Math.pow(2,-77):0,I=m?0:v-1,U=m?1:-1,L=n<0||n===0&&1/n<0?1:0;for(n=Math.abs(n),isNaN(n)||n===1/0?(u=isNaN(n)?1:0,w=B):(w=Math.floor(Math.log(n)/Math.LN2),n*(b=Math.pow(2,-w))<1&&(w--,b*=2),w+x>=1?n+=V/b:n+=V*Math.pow(2,1-x),n*b>=2&&(w++,b/=2),w+x>=B?(u=0,w=B):w+x>=1?(u=(n*b-1)*Math.pow(2,g),w=w+x):(u=n*Math.pow(2,x-1)*Math.pow(2,g),w=0));g>=8;s[d+I]=u&255,I+=U,u/=256,g-=8);for(w=w<<g|u,_+=g;_>0;s[d+I]=w&255,I+=U,w/=256,_-=8);s[d+I-U]|=L*128}),In}var Mr;function $i(){return Mr||(Mr=1,(function(s){const n=Xi(),d=Qi(),m=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;s.Buffer=u,s.SlowBuffer=z,s.INSPECT_MAX_BYTES=50;const g=2147483647;s.kMaxLength=g,u.TYPED_ARRAY_SUPPORT=v(),!u.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function v(){try{const r=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(r,e),r.foo()===42}catch{return!1}}Object.defineProperty(u.prototype,"parent",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.buffer}}),Object.defineProperty(u.prototype,"offset",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.byteOffset}});function w(r){if(r>g)throw new RangeError('The value "'+r+'" is invalid for option "size"');const e=new Uint8Array(r);return Object.setPrototypeOf(e,u.prototype),e}function u(r,e,t){if(typeof r=="number"){if(typeof e=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return x(r)}return b(r,e,t)}u.poolSize=8192;function b(r,e,t){if(typeof r=="string")return V(r,e);if(ArrayBuffer.isView(r))return U(r);if(r==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof r);if(Ae(r,ArrayBuffer)||r&&Ae(r.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Ae(r,SharedArrayBuffer)||r&&Ae(r.buffer,SharedArrayBuffer)))return L(r,e,t);if(typeof r=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const o=r.valueOf&&r.valueOf();if(o!=null&&o!==r)return u.from(o,e,t);const a=F(r);if(a)return a;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof r[Symbol.toPrimitive]=="function")return u.from(r[Symbol.toPrimitive]("string"),e,t);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof r)}u.from=function(r,e,t){return b(r,e,t)},Object.setPrototypeOf(u.prototype,Uint8Array.prototype),Object.setPrototypeOf(u,Uint8Array);function _(r){if(typeof r!="number")throw new TypeError('"size" argument must be of type number');if(r<0)throw new RangeError('The value "'+r+'" is invalid for option "size"')}function B(r,e,t){return _(r),r<=0?w(r):e!==void 0?typeof t=="string"?w(r).fill(e,t):w(r).fill(e):w(r)}u.alloc=function(r,e,t){return B(r,e,t)};function x(r){return _(r),w(r<0?0:O(r)|0)}u.allocUnsafe=function(r){return x(r)},u.allocUnsafeSlow=function(r){return x(r)};function V(r,e){if((typeof e!="string"||e==="")&&(e="utf8"),!u.isEncoding(e))throw new TypeError("Unknown encoding: "+e);const t=G(r,e)|0;let o=w(t);const a=o.write(r,e);return a!==t&&(o=o.slice(0,a)),o}function I(r){const e=r.length<0?0:O(r.length)|0,t=w(e);for(let o=0;o<e;o+=1)t[o]=r[o]&255;return t}function U(r){if(Ae(r,Uint8Array)){const e=new Uint8Array(r);return L(e.buffer,e.byteOffset,e.byteLength)}return I(r)}function L(r,e,t){if(e<0||r.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(r.byteLength<e+(t||0))throw new RangeError('"length" is outside of buffer bounds');let o;return e===void 0&&t===void 0?o=new Uint8Array(r):t===void 0?o=new Uint8Array(r,e):o=new Uint8Array(r,e,t),Object.setPrototypeOf(o,u.prototype),o}function F(r){if(u.isBuffer(r)){const e=O(r.length)|0,t=w(e);return t.length===0||r.copy(t,0,0,e),t}if(r.length!==void 0)return typeof r.length!="number"||Ft(r.length)?w(0):I(r);if(r.type==="Buffer"&&Array.isArray(r.data))return I(r.data)}function O(r){if(r>=g)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+g.toString(16)+" bytes");return r|0}function z(r){return+r!=r&&(r=0),u.alloc(+r)}u.isBuffer=function(e){return e!=null&&e._isBuffer===!0&&e!==u.prototype},u.compare=function(e,t){if(Ae(e,Uint8Array)&&(e=u.from(e,e.offset,e.byteLength)),Ae(t,Uint8Array)&&(t=u.from(t,t.offset,t.byteLength)),!u.isBuffer(e)||!u.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let o=e.length,a=t.length;for(let f=0,h=Math.min(o,a);f<h;++f)if(e[f]!==t[f]){o=e[f],a=t[f];break}return o<a?-1:a<o?1:0},u.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(e.length===0)return u.alloc(0);let o;if(t===void 0)for(t=0,o=0;o<e.length;++o)t+=e[o].length;const a=u.allocUnsafe(t);let f=0;for(o=0;o<e.length;++o){let h=e[o];if(Ae(h,Uint8Array))f+h.length>a.length?(u.isBuffer(h)||(h=u.from(h)),h.copy(a,f)):Uint8Array.prototype.set.call(a,h,f);else if(u.isBuffer(h))h.copy(a,f);else throw new TypeError('"list" argument must be an Array of Buffers');f+=h.length}return a};function G(r,e){if(u.isBuffer(r))return r.length;if(ArrayBuffer.isView(r)||Ae(r,ArrayBuffer))return r.byteLength;if(typeof r!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof r);const t=r.length,o=arguments.length>2&&arguments[2]===!0;if(!o&&t===0)return 0;let a=!1;for(;;)switch(e){case"ascii":case"latin1":case"binary":return t;case"utf8":case"utf-8":return Se(r).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return t*2;case"hex":return t>>>1;case"base64":return Ne(r).length;default:if(a)return o?-1:Se(r).length;e=(""+e).toLowerCase(),a=!0}}u.byteLength=G;function ve(r,e,t){let o=!1;if((e===void 0||e<0)&&(e=0),e>this.length||((t===void 0||t>this.length)&&(t=this.length),t<=0)||(t>>>=0,e>>>=0,t<=e))return"";for(r||(r="utf8");;)switch(r){case"hex":return ct(this,e,t);case"utf8":case"utf-8":return Ct(this,e,t);case"ascii":return Pt(this,e,t);case"latin1":case"binary":return jt(this,e,t);case"base64":return Ut(this,e,t);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Xe(this,e,t);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(r+"").toLowerCase(),o=!0}}u.prototype._isBuffer=!0;function re(r,e,t){const o=r[e];r[e]=r[t],r[t]=o}u.prototype.swap16=function(){const e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)re(this,t,t+1);return this},u.prototype.swap32=function(){const e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)re(this,t,t+3),re(this,t+1,t+2);return this},u.prototype.swap64=function(){const e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)re(this,t,t+7),re(this,t+1,t+6),re(this,t+2,t+5),re(this,t+3,t+4);return this},u.prototype.toString=function(){const e=this.length;return e===0?"":arguments.length===0?Ct(this,0,e):ve.apply(this,arguments)},u.prototype.toLocaleString=u.prototype.toString,u.prototype.equals=function(e){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e?!0:u.compare(this,e)===0},u.prototype.inspect=function(){let e="";const t=s.INSPECT_MAX_BYTES;return e=this.toString("hex",0,t).replace(/(.{2})/g,"$1 ").trim(),this.length>t&&(e+=" ... "),"<Buffer "+e+">"},m&&(u.prototype[m]=u.prototype.inspect),u.prototype.compare=function(e,t,o,a,f){if(Ae(e,Uint8Array)&&(e=u.from(e,e.offset,e.byteLength)),!u.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(t===void 0&&(t=0),o===void 0&&(o=e?e.length:0),a===void 0&&(a=0),f===void 0&&(f=this.length),t<0||o>e.length||a<0||f>this.length)throw new RangeError("out of range index");if(a>=f&&t>=o)return 0;if(a>=f)return-1;if(t>=o)return 1;if(t>>>=0,o>>>=0,a>>>=0,f>>>=0,this===e)return 0;let h=f-a,R=o-t;const ue=Math.min(h,R),ie=this.slice(a,f),Q=e.slice(t,o);for(let Z=0;Z<ue;++Z)if(ie[Z]!==Q[Z]){h=ie[Z],R=Q[Z];break}return h<R?-1:R<h?1:0};function N(r,e,t,o,a){if(r.length===0)return-1;if(typeof t=="string"?(o=t,t=0):t>2147483647?t=2147483647:t<-2147483648&&(t=-2147483648),t=+t,Ft(t)&&(t=a?0:r.length-1),t<0&&(t=r.length+t),t>=r.length){if(a)return-1;t=r.length-1}else if(t<0)if(a)t=0;else return-1;if(typeof e=="string"&&(e=u.from(e,o)),u.isBuffer(e))return e.length===0?-1:j(r,e,t,o,a);if(typeof e=="number")return e=e&255,typeof Uint8Array.prototype.indexOf=="function"?a?Uint8Array.prototype.indexOf.call(r,e,t):Uint8Array.prototype.lastIndexOf.call(r,e,t):j(r,[e],t,o,a);throw new TypeError("val must be string, number or Buffer")}function j(r,e,t,o,a){let f=1,h=r.length,R=e.length;if(o!==void 0&&(o=String(o).toLowerCase(),o==="ucs2"||o==="ucs-2"||o==="utf16le"||o==="utf-16le")){if(r.length<2||e.length<2)return-1;f=2,h/=2,R/=2,t/=2}function ue(Q,Z){return f===1?Q[Z]:Q.readUInt16BE(Z*f)}let ie;if(a){let Q=-1;for(ie=t;ie<h;ie++)if(ue(r,ie)===ue(e,Q===-1?0:ie-Q)){if(Q===-1&&(Q=ie),ie-Q+1===R)return Q*f}else Q!==-1&&(ie-=ie-Q),Q=-1}else for(t+R>h&&(t=h-R),ie=t;ie>=0;ie--){let Q=!0;for(let Z=0;Z<R;Z++)if(ue(r,ie+Z)!==ue(e,Z)){Q=!1;break}if(Q)return ie}return-1}u.prototype.includes=function(e,t,o){return this.indexOf(e,t,o)!==-1},u.prototype.indexOf=function(e,t,o){return N(this,e,t,o,!0)},u.prototype.lastIndexOf=function(e,t,o){return N(this,e,t,o,!1)};function le(r,e,t,o){t=Number(t)||0;const a=r.length-t;o?(o=Number(o),o>a&&(o=a)):o=a;const f=e.length;o>f/2&&(o=f/2);let h;for(h=0;h<o;++h){const R=parseInt(e.substr(h*2,2),16);if(Ft(R))return h;r[t+h]=R}return h}function Be(r,e,t,o){return E(Se(e,r.length-t),r,t,o)}function De(r,e,t,o){return E(un(e),r,t,o)}function we(r,e,t,o){return E(Ne(e),r,t,o)}function it(r,e,t,o){return E(J(e,r.length-t),r,t,o)}u.prototype.write=function(e,t,o,a){if(t===void 0)a="utf8",o=this.length,t=0;else if(o===void 0&&typeof t=="string")a=t,o=this.length,t=0;else if(isFinite(t))t=t>>>0,isFinite(o)?(o=o>>>0,a===void 0&&(a="utf8")):(a=o,o=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const f=this.length-t;if((o===void 0||o>f)&&(o=f),e.length>0&&(o<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");a||(a="utf8");let h=!1;for(;;)switch(a){case"hex":return le(this,e,t,o);case"utf8":case"utf-8":return Be(this,e,t,o);case"ascii":case"latin1":case"binary":return De(this,e,t,o);case"base64":return we(this,e,t,o);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return it(this,e,t,o);default:if(h)throw new TypeError("Unknown encoding: "+a);a=(""+a).toLowerCase(),h=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function Ut(r,e,t){return e===0&&t===r.length?n.fromByteArray(r):n.fromByteArray(r.slice(e,t))}function Ct(r,e,t){t=Math.min(r.length,t);const o=[];let a=e;for(;a<t;){const f=r[a];let h=null,R=f>239?4:f>223?3:f>191?2:1;if(a+R<=t){let ue,ie,Q,Z;switch(R){case 1:f<128&&(h=f);break;case 2:ue=r[a+1],(ue&192)===128&&(Z=(f&31)<<6|ue&63,Z>127&&(h=Z));break;case 3:ue=r[a+1],ie=r[a+2],(ue&192)===128&&(ie&192)===128&&(Z=(f&15)<<12|(ue&63)<<6|ie&63,Z>2047&&(Z<55296||Z>57343)&&(h=Z));break;case 4:ue=r[a+1],ie=r[a+2],Q=r[a+3],(ue&192)===128&&(ie&192)===128&&(Q&192)===128&&(Z=(f&15)<<18|(ue&63)<<12|(ie&63)<<6|Q&63,Z>65535&&Z<1114112&&(h=Z))}}h===null?(h=65533,R=1):h>65535&&(h-=65536,o.push(h>>>10&1023|55296),h=56320|h&1023),o.push(h),a+=R}return Rt(o)}const wt=4096;function Rt(r){const e=r.length;if(e<=wt)return String.fromCharCode.apply(String,r);let t="",o=0;for(;o<e;)t+=String.fromCharCode.apply(String,r.slice(o,o+=wt));return t}function Pt(r,e,t){let o="";t=Math.min(r.length,t);for(let a=e;a<t;++a)o+=String.fromCharCode(r[a]&127);return o}function jt(r,e,t){let o="";t=Math.min(r.length,t);for(let a=e;a<t;++a)o+=String.fromCharCode(r[a]);return o}function ct(r,e,t){const o=r.length;(!e||e<0)&&(e=0),(!t||t<0||t>o)&&(t=o);let a="";for(let f=e;f<t;++f)a+=Sn[r[f]];return a}function Xe(r,e,t){const o=r.slice(e,t);let a="";for(let f=0;f<o.length-1;f+=2)a+=String.fromCharCode(o[f]+o[f+1]*256);return a}u.prototype.slice=function(e,t){const o=this.length;e=~~e,t=t===void 0?o:~~t,e<0?(e+=o,e<0&&(e=0)):e>o&&(e=o),t<0?(t+=o,t<0&&(t=0)):t>o&&(t=o),t<e&&(t=e);const a=this.subarray(e,t);return Object.setPrototypeOf(a,u.prototype),a};function X(r,e,t){if(r%1!==0||r<0)throw new RangeError("offset is not uint");if(r+e>t)throw new RangeError("Trying to access beyond buffer length")}u.prototype.readUintLE=u.prototype.readUIntLE=function(e,t,o){e=e>>>0,t=t>>>0,o||X(e,t,this.length);let a=this[e],f=1,h=0;for(;++h<t&&(f*=256);)a+=this[e+h]*f;return a},u.prototype.readUintBE=u.prototype.readUIntBE=function(e,t,o){e=e>>>0,t=t>>>0,o||X(e,t,this.length);let a=this[e+--t],f=1;for(;t>0&&(f*=256);)a+=this[e+--t]*f;return a},u.prototype.readUint8=u.prototype.readUInt8=function(e,t){return e=e>>>0,t||X(e,1,this.length),this[e]},u.prototype.readUint16LE=u.prototype.readUInt16LE=function(e,t){return e=e>>>0,t||X(e,2,this.length),this[e]|this[e+1]<<8},u.prototype.readUint16BE=u.prototype.readUInt16BE=function(e,t){return e=e>>>0,t||X(e,2,this.length),this[e]<<8|this[e+1]},u.prototype.readUint32LE=u.prototype.readUInt32LE=function(e,t){return e=e>>>0,t||X(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+this[e+3]*16777216},u.prototype.readUint32BE=u.prototype.readUInt32BE=function(e,t){return e=e>>>0,t||X(e,4,this.length),this[e]*16777216+(this[e+1]<<16|this[e+2]<<8|this[e+3])},u.prototype.readBigUInt64LE=$e(function(e){e=e>>>0,Je(e,"offset");const t=this[e],o=this[e+7];(t===void 0||o===void 0)&&xt(e,this.length-8);const a=t+this[++e]*2**8+this[++e]*2**16+this[++e]*2**24,f=this[++e]+this[++e]*2**8+this[++e]*2**16+o*2**24;return BigInt(a)+(BigInt(f)<<BigInt(32))}),u.prototype.readBigUInt64BE=$e(function(e){e=e>>>0,Je(e,"offset");const t=this[e],o=this[e+7];(t===void 0||o===void 0)&&xt(e,this.length-8);const a=t*2**24+this[++e]*2**16+this[++e]*2**8+this[++e],f=this[++e]*2**24+this[++e]*2**16+this[++e]*2**8+o;return(BigInt(a)<<BigInt(32))+BigInt(f)}),u.prototype.readIntLE=function(e,t,o){e=e>>>0,t=t>>>0,o||X(e,t,this.length);let a=this[e],f=1,h=0;for(;++h<t&&(f*=256);)a+=this[e+h]*f;return f*=128,a>=f&&(a-=Math.pow(2,8*t)),a},u.prototype.readIntBE=function(e,t,o){e=e>>>0,t=t>>>0,o||X(e,t,this.length);let a=t,f=1,h=this[e+--a];for(;a>0&&(f*=256);)h+=this[e+--a]*f;return f*=128,h>=f&&(h-=Math.pow(2,8*t)),h},u.prototype.readInt8=function(e,t){return e=e>>>0,t||X(e,1,this.length),this[e]&128?(255-this[e]+1)*-1:this[e]},u.prototype.readInt16LE=function(e,t){e=e>>>0,t||X(e,2,this.length);const o=this[e]|this[e+1]<<8;return o&32768?o|4294901760:o},u.prototype.readInt16BE=function(e,t){e=e>>>0,t||X(e,2,this.length);const o=this[e+1]|this[e]<<8;return o&32768?o|4294901760:o},u.prototype.readInt32LE=function(e,t){return e=e>>>0,t||X(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},u.prototype.readInt32BE=function(e,t){return e=e>>>0,t||X(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},u.prototype.readBigInt64LE=$e(function(e){e=e>>>0,Je(e,"offset");const t=this[e],o=this[e+7];(t===void 0||o===void 0)&&xt(e,this.length-8);const a=this[e+4]+this[e+5]*2**8+this[e+6]*2**16+(o<<24);return(BigInt(a)<<BigInt(32))+BigInt(t+this[++e]*2**8+this[++e]*2**16+this[++e]*2**24)}),u.prototype.readBigInt64BE=$e(function(e){e=e>>>0,Je(e,"offset");const t=this[e],o=this[e+7];(t===void 0||o===void 0)&&xt(e,this.length-8);const a=(t<<24)+this[++e]*2**16+this[++e]*2**8+this[++e];return(BigInt(a)<<BigInt(32))+BigInt(this[++e]*2**24+this[++e]*2**16+this[++e]*2**8+o)}),u.prototype.readFloatLE=function(e,t){return e=e>>>0,t||X(e,4,this.length),d.read(this,e,!0,23,4)},u.prototype.readFloatBE=function(e,t){return e=e>>>0,t||X(e,4,this.length),d.read(this,e,!1,23,4)},u.prototype.readDoubleLE=function(e,t){return e=e>>>0,t||X(e,8,this.length),d.read(this,e,!0,52,8)},u.prototype.readDoubleBE=function(e,t){return e=e>>>0,t||X(e,8,this.length),d.read(this,e,!1,52,8)};function C(r,e,t,o,a,f){if(!u.isBuffer(r))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>a||e<f)throw new RangeError('"value" argument is out of bounds');if(t+o>r.length)throw new RangeError("Index out of range")}u.prototype.writeUintLE=u.prototype.writeUIntLE=function(e,t,o,a){if(e=+e,t=t>>>0,o=o>>>0,!a){const R=Math.pow(2,8*o)-1;C(this,e,t,o,R,0)}let f=1,h=0;for(this[t]=e&255;++h<o&&(f*=256);)this[t+h]=e/f&255;return t+o},u.prototype.writeUintBE=u.prototype.writeUIntBE=function(e,t,o,a){if(e=+e,t=t>>>0,o=o>>>0,!a){const R=Math.pow(2,8*o)-1;C(this,e,t,o,R,0)}let f=o-1,h=1;for(this[t+f]=e&255;--f>=0&&(h*=256);)this[t+f]=e/h&255;return t+o},u.prototype.writeUint8=u.prototype.writeUInt8=function(e,t,o){return e=+e,t=t>>>0,o||C(this,e,t,1,255,0),this[t]=e&255,t+1},u.prototype.writeUint16LE=u.prototype.writeUInt16LE=function(e,t,o){return e=+e,t=t>>>0,o||C(this,e,t,2,65535,0),this[t]=e&255,this[t+1]=e>>>8,t+2},u.prototype.writeUint16BE=u.prototype.writeUInt16BE=function(e,t,o){return e=+e,t=t>>>0,o||C(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=e&255,t+2},u.prototype.writeUint32LE=u.prototype.writeUInt32LE=function(e,t,o){return e=+e,t=t>>>0,o||C(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=e&255,t+4},u.prototype.writeUint32BE=u.prototype.writeUInt32BE=function(e,t,o){return e=+e,t=t>>>0,o||C(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=e&255,t+4};function bt(r,e,t,o,a){an(e,o,a,r,t,7);let f=Number(e&BigInt(4294967295));r[t++]=f,f=f>>8,r[t++]=f,f=f>>8,r[t++]=f,f=f>>8,r[t++]=f;let h=Number(e>>BigInt(32)&BigInt(4294967295));return r[t++]=h,h=h>>8,r[t++]=h,h=h>>8,r[t++]=h,h=h>>8,r[t++]=h,t}function on(r,e,t,o,a){an(e,o,a,r,t,7);let f=Number(e&BigInt(4294967295));r[t+7]=f,f=f>>8,r[t+6]=f,f=f>>8,r[t+5]=f,f=f>>8,r[t+4]=f;let h=Number(e>>BigInt(32)&BigInt(4294967295));return r[t+3]=h,h=h>>8,r[t+2]=h,h=h>>8,r[t+1]=h,h=h>>8,r[t]=h,t+8}u.prototype.writeBigUInt64LE=$e(function(e,t=0){return bt(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))}),u.prototype.writeBigUInt64BE=$e(function(e,t=0){return on(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))}),u.prototype.writeIntLE=function(e,t,o,a){if(e=+e,t=t>>>0,!a){const ue=Math.pow(2,8*o-1);C(this,e,t,o,ue-1,-ue)}let f=0,h=1,R=0;for(this[t]=e&255;++f<o&&(h*=256);)e<0&&R===0&&this[t+f-1]!==0&&(R=1),this[t+f]=(e/h>>0)-R&255;return t+o},u.prototype.writeIntBE=function(e,t,o,a){if(e=+e,t=t>>>0,!a){const ue=Math.pow(2,8*o-1);C(this,e,t,o,ue-1,-ue)}let f=o-1,h=1,R=0;for(this[t+f]=e&255;--f>=0&&(h*=256);)e<0&&R===0&&this[t+f+1]!==0&&(R=1),this[t+f]=(e/h>>0)-R&255;return t+o},u.prototype.writeInt8=function(e,t,o){return e=+e,t=t>>>0,o||C(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=e&255,t+1},u.prototype.writeInt16LE=function(e,t,o){return e=+e,t=t>>>0,o||C(this,e,t,2,32767,-32768),this[t]=e&255,this[t+1]=e>>>8,t+2},u.prototype.writeInt16BE=function(e,t,o){return e=+e,t=t>>>0,o||C(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=e&255,t+2},u.prototype.writeInt32LE=function(e,t,o){return e=+e,t=t>>>0,o||C(this,e,t,4,2147483647,-2147483648),this[t]=e&255,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},u.prototype.writeInt32BE=function(e,t,o){return e=+e,t=t>>>0,o||C(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=e&255,t+4},u.prototype.writeBigInt64LE=$e(function(e,t=0){return bt(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),u.prototype.writeBigInt64BE=$e(function(e,t=0){return on(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function sn(r,e,t,o,a,f){if(t+o>r.length)throw new RangeError("Index out of range");if(t<0)throw new RangeError("Index out of range")}function vt(r,e,t,o,a){return e=+e,t=t>>>0,a||sn(r,e,t,4),d.write(r,e,t,o,23,4),t+4}u.prototype.writeFloatLE=function(e,t,o){return vt(this,e,t,!0,o)},u.prototype.writeFloatBE=function(e,t,o){return vt(this,e,t,!1,o)};function pe(r,e,t,o,a){return e=+e,t=t>>>0,a||sn(r,e,t,8),d.write(r,e,t,o,52,8),t+8}u.prototype.writeDoubleLE=function(e,t,o){return pe(this,e,t,!0,o)},u.prototype.writeDoubleBE=function(e,t,o){return pe(this,e,t,!1,o)},u.prototype.copy=function(e,t,o,a){if(!u.isBuffer(e))throw new TypeError("argument should be a Buffer");if(o||(o=0),!a&&a!==0&&(a=this.length),t>=e.length&&(t=e.length),t||(t=0),a>0&&a<o&&(a=o),a===o||e.length===0||this.length===0)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(o<0||o>=this.length)throw new RangeError("Index out of range");if(a<0)throw new RangeError("sourceEnd out of bounds");a>this.length&&(a=this.length),e.length-t<a-o&&(a=e.length-t+o);const f=a-o;return this===e&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(t,o,a):Uint8Array.prototype.set.call(e,this.subarray(o,a),t),f},u.prototype.fill=function(e,t,o,a){if(typeof e=="string"){if(typeof t=="string"?(a=t,t=0,o=this.length):typeof o=="string"&&(a=o,o=this.length),a!==void 0&&typeof a!="string")throw new TypeError("encoding must be a string");if(typeof a=="string"&&!u.isEncoding(a))throw new TypeError("Unknown encoding: "+a);if(e.length===1){const h=e.charCodeAt(0);(a==="utf8"&&h<128||a==="latin1")&&(e=h)}}else typeof e=="number"?e=e&255:typeof e=="boolean"&&(e=Number(e));if(t<0||this.length<t||this.length<o)throw new RangeError("Out of range index");if(o<=t)return this;t=t>>>0,o=o===void 0?this.length:o>>>0,e||(e=0);let f;if(typeof e=="number")for(f=t;f<o;++f)this[f]=e;else{const h=u.isBuffer(e)?e:u.from(e,a),R=h.length;if(R===0)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(f=0;f<o-t;++f)this[f+t]=h[f%R]}return this};const He={};function Qe(r,e,t){He[r]=class extends t{constructor(){super(),Object.defineProperty(this,"message",{value:e.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${r}]`,this.stack,delete this.name}get code(){return r}set code(a){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:a,writable:!0})}toString(){return`${this.name} [${r}]: ${this.message}`}}}Qe("ERR_BUFFER_OUT_OF_BOUNDS",function(r){return r?`${r} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),Qe("ERR_INVALID_ARG_TYPE",function(r,e){return`The "${r}" argument must be of type number. Received type ${typeof e}`},TypeError),Qe("ERR_OUT_OF_RANGE",function(r,e,t){let o=`The value of "${r}" is out of range.`,a=t;return Number.isInteger(t)&&Math.abs(t)>2**32?a=ln(String(t)):typeof t=="bigint"&&(a=String(t),(t>BigInt(2)**BigInt(32)||t<-(BigInt(2)**BigInt(32)))&&(a=ln(a)),a+="n"),o+=` It must be ${e}. Received ${a}`,o},RangeError);function ln(r){let e="",t=r.length;const o=r[0]==="-"?1:0;for(;t>=o+4;t-=3)e=`_${r.slice(t-3,t)}${e}`;return`${r.slice(0,t)}${e}`}function zt(r,e,t){Je(e,"offset"),(r[e]===void 0||r[e+t]===void 0)&&xt(e,r.length-(t+1))}function an(r,e,t,o,a,f){if(r>t||r<e){const h=typeof e=="bigint"?"n":"";let R;throw e===0||e===BigInt(0)?R=`>= 0${h} and < 2${h} ** ${(f+1)*8}${h}`:R=`>= -(2${h} ** ${(f+1)*8-1}${h}) and < 2 ** ${(f+1)*8-1}${h}`,new He.ERR_OUT_OF_RANGE("value",R,r)}zt(o,a,f)}function Je(r,e){if(typeof r!="number")throw new He.ERR_INVALID_ARG_TYPE(e,"number",r)}function xt(r,e,t){throw Math.floor(r)!==r?(Je(r,t),new He.ERR_OUT_OF_RANGE("offset","an integer",r)):e<0?new He.ERR_BUFFER_OUT_OF_BOUNDS:new He.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${e}`,r)}const On=/[^+/0-9A-Za-z-_]/g;function ft(r){if(r=r.split("=")[0],r=r.trim().replace(On,""),r.length<2)return"";for(;r.length%4!==0;)r=r+"=";return r}function Se(r,e){e=e||1/0;let t;const o=r.length;let a=null;const f=[];for(let h=0;h<o;++h){if(t=r.charCodeAt(h),t>55295&&t<57344){if(!a){if(t>56319){(e-=3)>-1&&f.push(239,191,189);continue}else if(h+1===o){(e-=3)>-1&&f.push(239,191,189);continue}a=t;continue}if(t<56320){(e-=3)>-1&&f.push(239,191,189),a=t;continue}t=(a-55296<<10|t-56320)+65536}else a&&(e-=3)>-1&&f.push(239,191,189);if(a=null,t<128){if((e-=1)<0)break;f.push(t)}else if(t<2048){if((e-=2)<0)break;f.push(t>>6|192,t&63|128)}else if(t<65536){if((e-=3)<0)break;f.push(t>>12|224,t>>6&63|128,t&63|128)}else if(t<1114112){if((e-=4)<0)break;f.push(t>>18|240,t>>12&63|128,t>>6&63|128,t&63|128)}else throw new Error("Invalid code point")}return f}function un(r){const e=[];for(let t=0;t<r.length;++t)e.push(r.charCodeAt(t)&255);return e}function J(r,e){let t,o,a;const f=[];for(let h=0;h<r.length&&!((e-=2)<0);++h)t=r.charCodeAt(h),o=t>>8,a=t%256,f.push(a),f.push(o);return f}function Ne(r){return n.toByteArray(ft(r))}function E(r,e,t,o){let a;for(a=0;a<o&&!(a+t>=e.length||a>=r.length);++a)e[a+t]=r[a];return a}function Ae(r,e){return r instanceof e||r!=null&&r.constructor!=null&&r.constructor.name!=null&&r.constructor.name===e.name}function Ft(r){return r!==r}const Sn=(function(){const r="0123456789abcdef",e=new Array(256);for(let t=0;t<16;++t){const o=t*16;for(let a=0;a<16;++a)e[o+a]=r[t]+r[a]}return e})();function $e(r){return typeof BigInt>"u"?An:r}function An(){throw new Error("BigInt not supported")}})(Yn)),Yn}var Ge=$i();const eo=["ja","en","fr","it","de","es","ru","pl","nl","pt","pt-br","ko","zh-tw","zh-cn","fi","sv","da","no","cs","hu","sk","ar","tr","bg","el","ro","th","uk","vi","id","fiction","hi","es-mx","max"],qr=[207,206,251,248,236,10,51,102,147,169,29,147,80,57,95,9],to=s=>{const n=Ge.Buffer.from(s);let d=0;for(let m=0;m<n.length;m++){const g=n[m];n[m]=g^d^qr[m&15],d=g}return n},no=s=>{const n=Ge.Buffer.from(s);let d=0;for(let m=0;m<n.length;m++)n[m]=n[m]^d^qr[m&15],d=n[m];return n};var ro=new TextEncoder;function io(s){return s instanceof Uint8Array?s:ro.encode(s)}var Lr=3432918353,Dr=461845907;function At(s,n){return(s&65535)*n+(((s>>>16)*n&65535)<<16)|0}function Zn(s,n){return s<<n|s>>>32-n}function oo(s){return s^=s>>>16,s=At(s,2246822507),s^=s>>>13,s=At(s,3266489909),s^=s>>>16,s}function so(s,n){const d=s.length,m=d>>>2;let g=n;for(let u=0;u<m;u++){const b=u*4;let _=s[b]|s[b+1]<<8|s[b+2]<<16|s[b+3]<<24;_=At(_,Lr),_=Zn(_,15),_=At(_,Dr),g^=_,g=Zn(g,13),g=At(g,5)+3864292196}const v=m*4;let w=0;switch(d&3){case 3:w^=s[v+2]<<16;case 2:w^=s[v+1]<<8;case 1:w^=s[v],w=At(w,Lr),w=Zn(w,15),w=At(w,Dr),g^=w}return g^=d,g=oo(g),g>>>0}function lo(s,n=0){return so(io(s),n)}const ao=s=>{const n=s.toString("hex");return[n.slice(6,8)+n.slice(4,6)+n.slice(2,4)+n.slice(0,2),n.slice(10,12)+n.slice(8,10),n.slice(14,16)+n.slice(12,14),n.slice(16,18)+n.slice(18,20),n.slice(20,32)].join("-")},uo=s=>{const n=s.replaceAll("-","");return Ge.Buffer.from([n.slice(6,8)+n.slice(4,6)+n.slice(2,4)+n.slice(0,2),n.slice(10,12)+n.slice(8,10),n.slice(14,16)+n.slice(12,14),n.slice(16,18)+n.slice(18,20),n.slice(20,32)].join(""),"hex")},co=4294967295,Wr=s=>lo(Ge.Buffer.from(s,"utf16le"),co),fo=(s,n)=>{if(s.length===0)return new Map;const d=s.toString("utf16le");if(d[d.length-1]!=="\0")throw new Error("String is not null-terminated");const m=new Map;let g=0;for(let v=0;v<d.length;v++)d[v]==="\0"&&(m.set(n+g*2,d.slice(g,v)),g=v+1);return m},ho=(s,n)=>{let d=0;const m=new Map,g=b=>{if(m.has(b))return m.get("str");const _=n+d;return m.set(b,_),d+=b.length*2+2,_},v=[],w=[];for(let b=0;b<s.meta.attributes.length;b++){const _=s.meta.attributes[b];_.type===-1?(g(""),v.push(b)):_.type===2&&(g(_.name),w.push(b))}for(let b=0;b<s.meta.attributes.length;b++){const _=s.meta.attributes[b];g(_.name)}for(const b of s.entries){g(b.name);for(const _ of Object.values(b.strings))g(_);for(const _ of w)g(b.attributes[_])}let u=Ge.Buffer.alloc(0);for(const b of m.keys()){const _=Ge.Buffer.from(`${b}\0`,"utf16le");u=Ge.Buffer.concat([u,_])}return{map:m,nullAttributes:v,stringAttributes:w,data:u}};var go=class{#t;#e=0;#n=!0;constructor(s){this.#t=s}get currentOffset(){return this.#e}endianness(s){this.#n=s==="little"}seek(s){const n=this.#e;return this.#e+=s,n}goto(s){const n=this.#e;return this.#e=s,n}alignTo(s){if(s<1)throw new Error("Cannot align to a number less than 1.");const n=this.#e%s;n!==0&&(this.#e+=s-n)}readInt8(s){const n=new DataView(this.#t.buffer,this.#t.byteOffset+(s?.pointer??this.#e),1);return s?.pointer==null&&(this.#e+=1),n.getInt8(0)}readUint8(s){const n=new DataView(this.#t.buffer,this.#t.byteOffset+(s?.pointer??this.#e),1);return s?.pointer==null&&(this.#e+=1),n.getUint8(0)}readInt16(s){const n=new DataView(this.#t.buffer,this.#t.byteOffset+(s?.pointer??this.#e),2);return s?.pointer==null&&(this.#e+=2),n.getInt16(0,this.#n)}readUint16(s){const n=new DataView(this.#t.buffer,this.#t.byteOffset+(s?.pointer??this.#e),2);return s?.pointer==null&&(this.#e+=2),n.getUint16(0,this.#n)}readInt32(s){const n=new DataView(this.#t.buffer,this.#t.byteOffset+(s?.pointer??this.#e),4);return s?.pointer==null&&(this.#e+=4),n.getInt32(0,this.#n)}readUint32(s){const n=new DataView(this.#t.buffer,this.#t.byteOffset+(s?.pointer??this.#e),4);return s?.pointer==null&&(this.#e+=4),n.getUint32(0,this.#n)}readInt64(s){const n=new DataView(this.#t.buffer,this.#t.byteOffset+(s?.pointer??this.#e),8);return s?.pointer==null&&(this.#e+=8),n.getBigInt64(0,this.#n)}readUint64(s){const n=new DataView(this.#t.buffer,this.#t.byteOffset+(s?.pointer??this.#e),8);return s?.pointer==null&&(this.#e+=8),n.getBigUint64(0,this.#n)}readFloat(s){const n=new DataView(this.#t.buffer,this.#t.byteOffset+(s?.pointer??this.#e),4);return s?.pointer==null&&(this.#e+=4),n.getFloat32(0,this.#n)}readDouble(s){const n=new DataView(this.#t.buffer,this.#t.byteOffset+(s?.pointer??this.#e),8);return s?.pointer==null&&(this.#e+=8),n.getFloat64(0,this.#n)}readBuffer(s){const n=s.pointer??this.#e,d=this.#t.subarray(n,n+s.length);return s.pointer==null&&(this.#e+=s.length),d}readString(s){let n=null;if("length"in s&&s.length!=null&&(n=this.readBuffer(s)),"zeroed"in s&&s.zeroed){const d=new DataView(this.#t.buffer,this.#t.byteOffset+this.#e);let m=0;for(;d.getUint8(m)!==0;)m++;n=this.#t.subarray(this.#e,this.#e+m),this.#e+=m+1}if(n==null)throw new Error("You need to specify either `zeroed` or `length`.");return n.toString(s.encoding??"utf8")}},po=class{#t;#e=0;#n=!0;constructor(s=0){this.#t=Ge.Buffer.alloc(s)}get currentOffset(){return this.#e}get currentSize(){return this.#t.length}get buffer(){const s=Ge.Buffer.alloc(this.#t.length);return this.#t.copy(s),s}endianness(s){this.#n=s==="little"}grow(s){this.#t=Ge.Buffer.concat([this.#t,Ge.Buffer.alloc(s)])}growIfNeeded(s){this.#e+s>this.#t.length&&this.grow(this.#e+s-this.#t.length)}seek(s){const n=this.#e;return this.growIfNeeded(s),this.#e+=s,n}goto(s){const n=this.#e;return this.growIfNeeded(this.currentOffset-s),this.#e=s,n}alignTo(s){const n=this.#e%s;n!==0&&(this.growIfNeeded(s-n),this.#e+=s-n)}#r=(s,n,d)=>(m,g)=>{(g?.into==null||g.into+s>this.#t.length)&&this.growIfNeeded(s),this.#t[!this.#n&&d!=null?d:n](m,g?.into??this.#e,s),g?.into==null&&(this.#e+=s)};setInt8=this.#r(1,"writeInt8");setUint8=this.#r(1,"writeUInt8");setInt16=this.#r(2,"writeInt16LE","writeInt16BE");setUint16=this.#r(2,"writeUInt16LE","writeUInt16BE");setInt32=this.#r(4,"writeInt32LE","writeInt32BE");setUint32=this.#r(4,"writeUInt32LE","writeUInt32BE");setInt64=this.#r(8,"writeBigInt64LE","writeBigInt64BE");setUint64=this.#r(8,"writeBigUInt64LE","writeBigUInt64BE");setFloat=this.#r(4,"writeFloatLE","writeFloatBE");setDouble=this.#r(8,"writeDoubleLE","writeDoubleBE");setString(s,n){const d=Ge.Buffer.from(`${s}\0`,n?.encoding??"utf8");this.growIfNeeded(d.byteLength),d.copy(this.#t,n?.into??this.#e),n?.into==null&&(this.#e+=d.byteLength)}setBuffer(s,n){this.growIfNeeded(s.length),s.copy(this.#t,n?.into??this.#e),n?.into==null&&(this.#e+=s.length)}};const mo=s=>({version:s.readUint32(),magic:s.readString({length:4}),headerOffset:s.readUint64(),entryCount:s.readUint32(),attributeCount:s.readUint32(),langCount:s.readUint32(),_:s.alignTo(8),dataOffset:s.readUint64(),_2:s.seek(8),langOffset:s.readUint64(),attributesOffset:s.readUint64(),attributeNamesOffset:s.readUint64()}),Nr=s=>{const n=new go(s),d=mo(n),m=[];if(d.magic!=="GMSG")throw new Error(`Invalid magic: ${d.magic}`);if(d.version!==539100710&&d.version!==23)throw new Error(`Unknown version: ${d.version}`);const g=[];for(let b=0;b<d.entryCount;b++)g.push(n.readUint64());n.seek(8);const v=[];for(let b=0;b<d.langCount;b++)v.push(eo[n.readInt32()]??"unknown");if(n.alignTo(8),Number(d.attributesOffset)!==n.currentOffset)throw new Error(`Attributes offset mismatch: ${d.attributesOffset} != ${n.currentOffset}`);const w=[];for(let b=0;b<d.attributeCount;b++)w.push({type:n.readInt32(),nameOffset:null,name:null});if(n.alignTo(8),Number(d.attributeNamesOffset)!==n.currentOffset)throw new Error(`Attribute names offset mismatch: ${d.attributeNamesOffset} != ${n.currentOffset}`);for(let b=0;b<d.attributeCount;b++)w[b].nameOffset=n.readUint64();if(d.entryCount!==0){for(let _=0;_<d.entryCount;_++){if(Number(g[_])!==n.currentOffset)throw new Error(`Entry header offset mismatch: $${n.currentOffset} != entry:${_}:${g[_]}`);const B={id:ao(n.readBuffer({length:16})),crc:n.readUint32(),hash:n.readUint32(),nameOffset:n.readUint64(),attributesOffset:n.readUint64(),contentOffsetsByLang:[]};for(let x=0;x<d.langCount;x++)B.contentOffsetsByLang.push(n.readUint64());m.push({header:B})}for(let _=0;_<d.entryCount;_++){const B=m[_];if(Number(B.header.attributesOffset)!==n.currentOffset)throw new Error(`Entry header attributes offset mismatch: $${n.currentOffset} != entry:${_}:${B.header.attributesOffset}`);B.attributes=[];for(let x=0;x<w.length;x++){const V=w[x];switch(V.type){case-1:B.attributes[x]=Number(n.readUint64());break;case 0:B.attributes[x]=Number(n.readUint64());break;case 1:B.attributes[x]=n.readDouble();break;case 2:B.attributes[x]=Number(n.readUint64());break;default:throw new Error(`Not implemented attribute type ${V.type}`)}}}if(Number(d.dataOffset)!==n.currentOffset)throw new Error(`Data offset mismatch: $${d.dataOffset} != ${n.currentOffset}`);const b=fo(to(s.subarray(n.currentOffset)),n.currentOffset);for(let _=0;_<w.length;_++){const B=w[_];B.name=b.get(Number(B.nameOffset))}for(let _=0;_<m.length;_++){const B=m[_];for(let x=0;x<d.attributeCount;x++)switch(w[x].type){case 2:B.attributes[x]=b.get(B.attributes[x]);break;case-1:if(B.attributes[x]=b.get(B.attributes[x]),B.attributes[x]!==""&&B.attributes[x]!=="\0")throw new Error(`Attribute with type -1 is not empty string: "${B.attributes[x]}"`);break}}for(let _=0;_<m.length;_++){const B=m[_];B.name=b.get(Number(B.header.nameOffset)),B.strings={};for(let x=0;x<B.header.contentOffsetsByLang.length;x++){const V=Number(B.header.contentOffsetsByLang[x]);B.strings[v[x]]=b.get(V)}}}const u=[];for(const{header:b,name:_,attributes:B,strings:x}of m){const V=Wr(_);if(V!==b.hash)throw new Error(`Hash mismatch for entry ${_}: ${V} != ${b.hash}`);u.push({meta:{id:b.id,crc:b.crc,hash:b.hash},name:_,attributes:B,strings:x})}return{meta:{version:d.version,attributes:w.map(b=>({type:b.type,name:b.name}))},entries:u}},yo=s=>{if(s.meta.version!==539100710&&s.meta.version!==23)throw new Error(`Unsupported version ${s.meta.version}`);const n=new po;n.setUint32(s.meta.version),n.setString("GMSG"),n.setUint64(16n),n.setUint32(s.entries.length),n.setUint32(s.meta.attributes.length);const d=s.entries[0]!=null?Object.keys(s.entries[0].strings).length:0;n.setUint32(d),n.alignTo(8);const m=n.currentOffset;n.setInt64(-1n);const g=n.currentOffset;n.setInt64(-1n);const v=n.currentOffset;n.setInt64(-1n);const w=n.currentOffset;n.setInt64(-1n);const u=n.currentOffset;n.setInt64(-1n);const b=[];for(let O=0;O<s.entries.length;O++)b.push(n.currentOffset),n.setInt64(-1n);n.setUint64(BigInt(n.currentOffset),{into:g}),n.setUint64(0n),n.setUint64(BigInt(n.currentOffset),{into:v});for(let O=0;O<d;O++)n.setInt32(O);n.alignTo(8),n.setUint64(BigInt(n.currentOffset),{into:w});for(const O of s.meta.attributes)n.setInt32(O.type);n.alignTo(8),n.setUint64(BigInt(n.currentOffset),{into:u});const _=[];for(const O of s.meta.attributes)_.push(n.currentOffset),n.setInt64(-1n);const B=[];for(let O=0;O<s.entries.length;O++){n.setUint64(BigInt(n.currentOffset),{into:b[O]});const z=s.entries[O];n.setBuffer(uo(z.meta.id)),n.setUint32(z.meta.crc),n.setUint32(Wr(z.name)),B[O]??={},B[O].name=n.currentOffset,n.setInt64(-1n),B[O].attributes=n.currentOffset,n.setInt64(-1n),B[O].langs=[];for(let G=0;G<d;G++)B[O].langs[G]=n.currentOffset,n.setInt64(-1n);B[O].attributeValues=[]}for(let O=0;O<s.entries.length;O++){const z=s.entries[O];n.setUint64(BigInt(n.currentOffset),{into:B[O].attributes});for(let G=0;G<s.meta.attributes.length;G++){switch(s.meta.attributes[G].type){case-1:n.setInt64(-1n);break;case 0:n.setInt32(z.attributes[G]);break;case 1:n.setDouble(z.attributes[G]);break;case 2:n.setInt64(-1n);break}B[O].attributeValues[G]=n.currentOffset}}const x=n.currentOffset;n.setUint64(BigInt(x),{into:m});const{data:V,map:I,nullAttributes:U,stringAttributes:L}=ho(s,x),F=no(V);n.setBuffer(F);for(let O=0;O<s.meta.attributes.length;O++){const{name:z}=s.meta.attributes[O],G=_[O];n.setUint64(BigInt(I.get(z)),{into:G})}for(let O=0;O<s.entries.length;O++){const z=s.entries[O],G=B[O];n.setUint64(BigInt(I.get(z.name)),{into:G.name});const ve=Object.values(z.strings);for(let N=0;N<ve.length;N++){const j=ve[N];n.setUint64(BigInt(I.get(j)),{into:G.langs[N]})}for(const N of L){const j=z.attributes[N];n.setUint64(BigInt(I.get(j)),{into:G.attributeValues[N]})}const re=I.get("");for(const N of U)n.setUint64(BigInt(re),{into:G.attributeValues[N]})}return n.buffer};let wo=0;function bo(){return globalThis.crypto?.randomUUID?globalThis.crypto.randomUUID():(Date.now().toString(16)+(wo++).toString(16)).padStart(32,"0").replace(/(.{8})(.{4})(.{4})(.{4})(.{12})/,"$1-$2-$3-$4-$5")}const tn=s=>typeof s=="object"&&s!==null,Rr=s=>tn(s)&&typeof s.group=="string",je=s=>{if(tn(s)){if(s.label===void 0){const n=JSON.stringify(s);console.error("MultiSelect: option is an object but has no label key",n)}return s.label}return`${s}`},vo=s=>tn(s)?s.value??je(s):s;function Pr(s,n=null){n===void 0&&(n=null);let d="";if(n===null||n==="selected"||n==="option"||console.error(`MultiSelect: Invalid key=${n} for get_style`),typeof s=="object"&&s.style&&(typeof s.style=="string"&&(d=s.style),typeof s.style=="object")){if(n&&n in s.style)return s.style[n]??"";console.error("MultiSelect: invalid style object for option",s)}return d.trim()&&!d.trim().endsWith(";")&&(d+=";"),d}function jr(s,n){if(s==null||n===null||n===void 0)return!1;if(!s)return!0;if(!n)return!1;const[d,m]=[s.toLowerCase(),n.toLowerCase()];let[g,v]=[0,0];for(;g<d.length&&v<m.length;)d[g]===m[v]&&g++,v++;return g===d.length}const xo=s=>n=>{const{query:d="",disabled:m=!1,fuzzy:g=!1,node_filter:v=()=>NodeFilter.FILTER_ACCEPT,css_class:w="highlight-match"}=s;if(typeof CSS>"u"||!CSS.highlights||(CSS.highlights.delete(w),!d||m))return;const u=document.createTreeWalker(n,NodeFilter.SHOW_TEXT,{acceptNode:v}),b=[];let _=u.nextNode();for(;_;)b.push(_),_=u.nextNode();const B=b.map(x=>{const V=x.textContent?.toLowerCase();if(!V)return[];const I=d.toLowerCase();if(g){const U=[];let L=0,F=0;for(;L<I.length&&F<V.length;)I[L]===V[F]&&(U.push(F),L++),F++;return L===I.length?U.map(O=>{const z=new Range;return z.setStart(x,O),z.setEnd(x,O+1),z}):[]}else{const U=[];let L=0;for(;L<V.length;){const F=V.indexOf(I,L);if(F===-1)break;U.push(F),L=F+I.length}return U.map(F=>{const O=new Range;return O.setStart(x,F),O.setEnd(x,F+I.length),O})}});return CSS.highlights.set(w,new Highlight(...B.flat())),()=>CSS.highlights.delete(w)};var _o=ae('<div class="svelte-13sb5jx"></div>');function zr(s,n){let d=p(n,"color",19,()=>"cornflowerblue"),m=p(n,"duration",19,()=>"1.5s"),g=p(n,"size",19,()=>"1em");var v=_o();let w;ne(()=>w=mt(v,`--duration: ${m()??""}`,w,{"border-color":`${d()??""} transparent ${d()??""}
  ${d()??""}`,width:g(),height:g()})),M(s,v)}const Kn={Alert:{viewBox:"0 0 16 16",path:"M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"},Check:{viewBox:"0 0 12 16",path:"M12 5l-8 8l-4-4l1.5-1.5L4 10l6.5-6.5L12 5z"},ChevronExpand:{viewBox:"0 0 16 16",path:"M3.646 9.146a.5.5 0 0 1 .708 0L8 12.793l3.646-3.647a.5.5 0 0 1 .708.708l-4 4a.5.5 0 0 1-.708 0l-4-4a.5.5 0 0 1 0-.708zm0-2.292a.5.5 0 0 0 .708 0L8 3.207l3.646 3.647a.5.5 0 0 0 .708-.708l-4-4a.5.5 0 0 0-.708 0l-4 4a.5.5 0 0 0 0 .708z"},ChevronRight:{viewBox:"0 0 16 16",path:"M4.646 1.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1 0 .708l-6 6a.5.5 0 0 1-.708-.708L10.293 8L4.646 2.354a.5.5 0 0 1 0-.708z"},ChevronDown:{viewBox:"0 0 16 16",path:"M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z"},Collapse:{viewBox:"0 0 24 24",path:"M12 7.59L7.05 2.64L5.64 4.05L12 10.41l6.36-6.36l-1.41-1.41L12 7.59zM5.64 19.95l1.41 1.41L12 16.41l4.95 4.95l1.41-1.41L12 13.59l-6.36 6.36z"},Copy:{viewBox:"0 0 16 16",path:"M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"},Cross:{viewBox:"0 0 24 24",path:"M18.3 5.71a.996.996 0 0 0-1.41 0L12 10.59L7.11 5.7A.996.996 0 1 0 5.7 7.11L10.59 12L5.7 16.89a.996.996 0 1 0 1.41 1.41L12 13.41l4.89 4.89a.996.996 0 1 0 1.41-1.41L13.41 12l4.89-4.89c.38-.38.38-1.02 0-1.4z"},Disabled:{viewBox:"0 0 24 24",path:"M12 22c5.523 0 10-4.477 10-10S17.523 2 12 2S2 6.477 2 12s4.477 10 10 10Zm-4.906-3.68L18.32 7.094A8 8 0 0 1 7.094 18.32ZM5.68 16.906A8 8 0 0 1 16.906 5.68L5.68 16.906Z"},Expand:{viewBox:"0 0 24 24",path:"m12 19.24l-4.95-4.95l-1.41 1.42L12 22.07l6.36-6.36l-1.41-1.42L12 19.24zM5.64 8.29l1.41 1.42L12 4.76l4.95 4.95l1.41-1.42L12 1.93L5.64 8.29z"},GitHub:{viewBox:"0 0 24 24",path:"M8.422 20.081c0 .896.01 1.753.016 2.285a.617.617 0 0 0 .422.58c2.078.686 4.317.718 6.414.091l.292-.087a.67.67 0 0 0 .478-.638c.005-.733.017-2.017.017-3.53c0-1.372-.477-2.25-1.031-2.707c3.399-.366 6.97-1.61 6.97-7.227c0-1.61-.592-2.91-1.566-3.934c.153-.366.688-1.866-.153-3.878c0 0-1.28-.403-4.201 1.5a14.76 14.76 0 0 0-3.82-.494c-1.298 0-2.597.165-3.819.494C5.52.65 4.24 1.036 4.24 1.036c-.84 2.012-.306 3.512-.153 3.878a5.565 5.565 0 0 0-1.566 3.934c0 5.598 3.552 6.86 6.951 7.227c-.439.366-.84 1.006-.973 1.957c-.879.384-3.075 1.006-4.45-1.207c-.286-.44-1.146-1.519-2.349-1.5c-1.28.018-.516.695.02.97c.648.347 1.393 1.646 1.565 2.067c.306.823 1.299 2.396 5.137 1.72Z"},StackBlitz:{viewBox:"0 0 24 24",path:"M10.797 14.182H3.635L16.728 0l-3.525 9.818h7.162L7.272 24l3.524-9.818Z"},Svelte:{viewBox:"0 0 24 24",path:"M10.354 21.125a4.44 4.44 0 0 1-4.765-1.767a4.109 4.109 0 0 1-.703-3.107a3.898 3.898 0 0 1 .134-.522l.105-.321l.287.21a7.21 7.21 0 0 0 2.186 1.092l.208.063l-.02.208a1.253 1.253 0 0 0 .226.83a1.337 1.337 0 0 0 1.435.533a1.231 1.231 0 0 0 .343-.15l5.59-3.562a1.164 1.164 0 0 0 .524-.778a1.242 1.242 0 0 0-.211-.937a1.338 1.338 0 0 0-1.435-.533a1.23 1.23 0 0 0-.343.15l-2.133 1.36a4.078 4.078 0 0 1-1.135.499a4.44 4.44 0 0 1-4.765-1.766a4.108 4.108 0 0 1-.702-3.108a3.855 3.855 0 0 1 1.742-2.582l5.589-3.563a4.072 4.072 0 0 1 1.135-.499a4.44 4.44 0 0 1 4.765 1.767a4.109 4.109 0 0 1 .703 3.107a3.943 3.943 0 0 1-.134.522l-.105.321l-.286-.21a7.204 7.204 0 0 0-2.187-1.093l-.208-.063l.02-.207a1.255 1.255 0 0 0-.226-.831a1.337 1.337 0 0 0-1.435-.532a1.231 1.231 0 0 0-.343.15L8.62 9.368a1.162 1.162 0 0 0-.524.778a1.24 1.24 0 0 0 .211.937a1.338 1.338 0 0 0 1.435.533a1.235 1.235 0 0 0 .344-.151l2.132-1.36a4.067 4.067 0 0 1 1.135-.498a4.44 4.44 0 0 1 4.765 1.766a4.108 4.108 0 0 1 .702 3.108a3.857 3.857 0 0 1-1.742 2.583l-5.589 3.562a4.072 4.072 0 0 1-1.135.499m10.358-17.95C18.484-.015 14.082-.96 10.9 1.068L5.31 4.63a6.412 6.412 0 0 0-2.896 4.295a6.753 6.753 0 0 0 .666 4.336a6.43 6.43 0 0 0-.96 2.396a6.833 6.833 0 0 0 1.168 5.167c2.229 3.19 6.63 4.135 9.812 2.108l5.59-3.562a6.41 6.41 0 0 0 2.896-4.295a6.756 6.756 0 0 0-.665-4.336a6.429 6.429 0 0 0 .958-2.396a6.831 6.831 0 0 0-1.167-5.168Z"}};var Bo=Pi("<svg><path></path></svg>");function Qt(s,n){nn(n,!0);let d=Qn(n,["$$slots","$$events","$$legacy","icon"]);const m=T(()=>n.icon in Kn?Kn[n.icon]:(console.error(`Icon '${n.icon}' not found`),Kn.Alert));var g=Bo();Xn(g,()=>({viewBox:l(m).viewBox,fill:"currentColor",...d}),void 0,void 0,void 0,"svelte-m6k9rv");var v=ee(g);ne(()=>ge(v,"d",l(m).path)),M(s,g),rn()}var Eo=ae("<span><!></span>");function Io(s,n){nn(n,!0);let d=p(n,"wiggle",15,!1),m=p(n,"angle",3,0),g=p(n,"scale",3,1),v=p(n,"dx",3,0),w=p(n,"dy",3,0),u=p(n,"duration",3,200),b=p(n,"spring_options",27,()=>yt({stiffness:.05,damping:.1})),_=Qn(n,["$$slots","$$events","$$legacy","wiggle","angle","scale","dx","dy","duration","spring_options","children"]);const B=ji.of(()=>d()?{scale:g(),angle:m(),dx:v(),dy:w()}:{angle:0,scale:1,dx:0,dy:0},b());We(()=>{B.stiffness=b().stiffness,B.damping=b().damping}),$t(()=>{d()&&setTimeout(()=>d(!1),u())});var x=Eo();Xn(x,()=>({..._,[zi]:{display:"inline-block",transform:`rotate(${B.current.angle??""}deg) scale(${B.current.scale??""})
  translate(${B.current.dx??""}px, ${B.current.dy??""}px)`}}));var V=ee(x);qe(V,()=>n.children??Gr),M(s,x),rn()}var Oo=ae('<button type="button" class="remove svelte-xby4ud"><!></button>'),So=ae('<li role="option" aria-selected="true"><!> <!></li>'),Ao=ae("<span> </span>"),Uo=ae('<button type="button" class="remove remove-all svelte-xby4ud"><!></button>'),Co=ae("<!> <!>",1),Fo=ae('<li role="option" aria-selected="false" tabindex="0"> </li>'),ko=ae('<button type="button"> </button>'),To=ae('<span class="group-label svelte-xby4ud"> </span> <span class="group-count svelte-xby4ud"><!></span> <!> <!>',1),Mo=ae("<li><!></li>"),Lo=ae('<input type="checkbox" class="option-checkbox svelte-xby4ud" tabindex="-1"/>'),Do=ae('<li role="option"><!> <!></li>'),No=ae("<!> <!>",1),Ro=ae('<li role="option" aria-selected="false"><!></li>'),Po=ae('<li class="loading-more svelte-xby4ud" role="status" aria-label="Loading more options"><!></li>'),jo=ae('<ul role="listbox"><!> <!> <!> <!></ul>'),zo=ae('<div role="searchbox" tabindex="-1"><input tabindex="-1" aria-hidden="true" aria-label="ignore this, used only to prevent form submission if select is required but empty" class="form-control svelte-xby4ud"/> <span class="expand-icon svelte-xby4ud"><!></span> <ul aria-label="selected options"><!> <input/> <!></ul> <!> <!> <!> <div class="sr-only svelte-xby4ud" aria-live="polite" aria-atomic="true"><!></div></div>');function Go(s,n){nn(n,!0);let d=p(n,"activeIndex",15,null),m=p(n,"activeOption",15,null),g=p(n,"createOptionMsg",19,()=>"Create this option..."),v=p(n,"allowUserOptions",3,!1),w=p(n,"allowEmpty",3,!1),u=p(n,"autocomplete",19,()=>"off"),b=p(n,"autoScroll",3,!0),_=p(n,"breakpoint",3,800),B=p(n,"defaultDisabledTitle",19,()=>"This option is disabled"),x=p(n,"disabled",3,!1),V=p(n,"disabledInputTitle",19,()=>"This input is disabled"),I=p(n,"duplicateOptionMsg",19,()=>"This option is already selected"),U=p(n,"duplicates",3,!1),L=p(n,"keepSelectedInDropdown",3,!1),F=p(n,"key",3,i=>vo(i)),O=p(n,"filterFunc",3,(i,c)=>{if(!c)return!0;const y=`${je(i)}`;return z()?jr(c,y):y.toLowerCase().includes(c.toLowerCase())}),z=p(n,"fuzzy",3,!0),G=p(n,"closeDropdownOnSelect",3,!1),ve=p(n,"form_input",15,null),re=p(n,"highlightMatches",3,!0),N=p(n,"id",3,null),j=p(n,"input",15,null),le=p(n,"inputClass",19,()=>""),Be=p(n,"inputStyle",3,null),De=p(n,"inputmode",3,null),we=p(n,"invalid",15,!1),it=p(n,"liActiveOptionClass",19,()=>""),Ut=p(n,"liActiveUserMsgClass",19,()=>""),Ct=p(n,"liOptionClass",19,()=>""),wt=p(n,"liOptionStyle",3,null),Rt=p(n,"liSelectedClass",19,()=>""),Pt=p(n,"liSelectedStyle",3,null),jt=p(n,"liUserMsgClass",19,()=>""),ct=p(n,"loading",3,!1),Xe=p(n,"matchingOptions",31,()=>yt([])),X=p(n,"maxOptions",3,void 0),C=p(n,"maxSelect",11,null),bt=p(n,"maxSelectMsg",3,(i,c)=>c>1?`${i}/${c}`:""),on=p(n,"maxSelectMsgClass",19,()=>""),sn=p(n,"name",3,null),vt=p(n,"noMatchingOptionsMsg",19,()=>"No matching options"),pe=p(n,"open",15,!1),He=p(n,"options",15),Qe=p(n,"outerDiv",15,null),ln=p(n,"outerDivClass",19,()=>""),zt=p(n,"parseLabelsAsHtml",3,!1),an=p(n,"pattern",3,null),Je=p(n,"placeholder",3,null),xt=p(n,"removeAllTitle",19,()=>"Remove all"),On=p(n,"removeBtnTitle",19,()=>"Remove"),ft=p(n,"minSelect",3,null),Se=p(n,"required",7,!1),un=p(n,"resetFilterOnAdd",3,!0),J=p(n,"searchText",31,()=>""),Ne=p(n,"value",15,null),E=p(n,"selected",31,()=>yt(Ne()!==null&&Ne()!==void 0?Array.isArray(Ne())?Ne():[Ne()]:He()?.filter(i=>typeof i=="object"&&i!==null&&i?.preselected).slice(0,C()??void 0)??[])),Ae=p(n,"sortSelected",3,!1),Ft=p(n,"selectedOptionsDraggable",19,()=>!Ae()),Sn=p(n,"style",3,null),$e=p(n,"ulOptionsClass",19,()=>""),An=p(n,"ulSelectedClass",19,()=>""),r=p(n,"ulSelectedStyle",3,null),e=p(n,"ulOptionsStyle",3,null),t=p(n,"portal",19,()=>({})),o=p(n,"selectAllOption",3,!1),a=p(n,"liSelectAllClass",19,()=>""),f=p(n,"selectedFlipParams",19,()=>({duration:100})),h=p(n,"collapsibleGroups",3,!1),R=p(n,"collapsedGroups",31,()=>yt(new Set)),ue=p(n,"groupSelectAll",3,!1),ie=p(n,"ungroupedPosition",19,()=>"first"),Q=p(n,"groupSortOrder",19,()=>"none"),Z=p(n,"searchExpandsCollapsedGroups",3,!1),Jr=p(n,"searchMatchesGroups",3,!1),Yr=p(n,"keyboardExpandsCollapsedGroups",3,!1),Zr=p(n,"stickyGroupHeaders",3,!1),Kr=p(n,"liGroupHeaderClass",19,()=>""),Xr=p(n,"liGroupHeaderStyle",3,null),Qr=p(n,"collapseAllGroups",15),$r=p(n,"expandAllGroups",15),ei=p(n,"shortcuts",19,()=>({})),cn=p(n,"history",3,!0),er=p(n,"undo",15),tr=p(n,"redo",15),nr=p(n,"canUndo",15,!1),rr=p(n,"canRedo",15,!1),ti=Qn(n,["$$slots","$$events","$$legacy","activeIndex","activeOption","createOptionMsg","allowUserOptions","allowEmpty","autocomplete","autoScroll","breakpoint","defaultDisabledTitle","disabled","disabledInputTitle","duplicateOptionMsg","duplicates","keepSelectedInDropdown","key","filterFunc","fuzzy","closeDropdownOnSelect","form_input","highlightMatches","id","input","inputClass","inputStyle","inputmode","invalid","liActiveOptionClass","liActiveUserMsgClass","liOptionClass","liOptionStyle","liSelectedClass","liSelectedStyle","liUserMsgClass","loading","matchingOptions","maxOptions","maxSelect","maxSelectMsg","maxSelectMsgClass","name","noMatchingOptionsMsg","open","options","outerDiv","outerDivClass","parseLabelsAsHtml","pattern","placeholder","removeAllTitle","removeBtnTitle","minSelect","required","resetFilterOnAdd","searchText","value","selected","sortSelected","selectedOptionsDraggable","style","ulOptionsClass","ulSelectedClass","ulSelectedStyle","ulOptionsStyle","expandIcon","selectedItem","children","removeIcon","afterInput","spinner","disabledIcon","option","userMsg","onblur","onclick","onfocus","onkeydown","onkeyup","onmousedown","onmouseenter","onmouseleave","ontouchcancel","ontouchend","ontouchmove","ontouchstart","onadd","oncreate","onremove","onremoveAll","onchange","onopen","onclose","onselectAll","onreorder","portal","selectAllOption","liSelectAllClass","loadOptions","selectedFlipParams","collapsibleGroups","collapsedGroups","groupSelectAll","ungroupedPosition","groupSortOrder","searchExpandsCollapsedGroups","searchMatchesGroups","keyboardExpandsCollapsedGroups","stickyGroupHeaders","liGroupHeaderClass","liGroupHeaderStyle","groupHeader","ongroupToggle","oncollapseAll","onexpandAll","onsearch","onmaxreached","onduplicate","onactivate","collapseAllGroups","expandAllGroups","shortcuts","history","undo","redo","canUndo","canRedo","onundo","onredo"]);const Un=T(()=>N()??`sms-${bo().slice(0,8)}`),ir=T(()=>`${l(Un)}-listbox`);function ni(i){const c=i.toLowerCase().split("+").map(H=>H.trim()),y=c.pop()??"",A=c.includes("ctrl"),k=c.includes("shift"),S=c.includes("alt"),D=c.includes("meta")||c.includes("cmd");return{key:y,ctrl:A,shift:k,alt:S,meta:D}}function ri(i,c){if(!c)return!1;const y=ni(c);if(!y.key)return!1;const A=i.key.toLowerCase()===y.key,k=i.ctrlKey===y.ctrl,S=i.shiftKey===y.shift,D=i.altKey===y.alt,H=i.metaKey===y.meta;return A&&k&&S&&D&&H}const fn=typeof navigator<"u"&&/Mac|iPhone|iPad|iPod/.test(navigator.userAgent)?"meta":"ctrl",ii={select_all:`${fn}+a`,clear_all:`${fn}+shift+a`,open:null,close:null,undo:`${fn}+z`,redo:`${fn}+shift+z`},oi=T(()=>({...ii,...ei()})),dt=T(()=>{if(!n.loadOptions)return null;const i=typeof n.loadOptions=="function";return{fetch:i?n.loadOptions:n.loadOptions.fetch,debounce_ms:i?300:n.loadOptions.debounceMs??300,batch_size:i?50:n.loadOptions.batchSize??50,on_open:i?!0:n.loadOptions.onOpen??!0}});function Cn(i,c){if(i===c)return!0;const y=i==null||Array.isArray(i)&&i.length===0,A=c==null||Array.isArray(c)&&c.length===0;return y&&A?!0:Array.isArray(i)&&Array.isArray(c)?i.length===c.length&&i.every((k,S)=>k===c[S]):!1}$t(()=>{const i=C()===1?E()[0]??null:E();Cn(Jn(()=>Ne()),i)||Ne(i)}),$t(()=>{const i=C()===1?Ne()?[Ne()]:[]:Array.isArray(Ne())?Ne():[];Cn(Jn(()=>E()),i)||E(i)});let Fn=Ce(!1),dn=Ce(!1),Ye=Ce(null);We(()=>{if(l(Ye)){const i=setTimeout(()=>P(Ye,null),1e3);return()=>clearTimeout(i)}});const _t=T(()=>cn()===!0?50:typeof cn()=="number"&&Number.isFinite(cn())?Math.max(0,Math.floor(cn())):0);let Ee=Ce(yt([])),Fe=Ce(-1),ht=null;We(()=>{if(!(l(_t)>0)){P(Ee,[],!0),P(Fe,-1),ht=null;return}if(ht===null){ht=[...E()];return}if(!Cn(E(),ht)){if(l(Ee).length===0&&(P(Ee,[[...ht]],!0),P(Fe,0)),l(Fe)<l(Ee).length-1&&P(Ee,l(Ee).slice(0,l(Fe)+1),!0),P(Ee,[...l(Ee),[...E()]],!0),P(Fe,l(Ee).length-1),l(Ee).length>l(_t)){const c=l(Ee).length-l(_t);P(Ee,l(Ee).slice(c),!0),P(Fe,Math.max(0,l(Fe)-c),!0)}ht=[...E()]}}),We(()=>{nr(l(_t)>0&&!x()&&l(Fe)>0),rr(l(_t)>0&&!x()&&l(Fe)<l(Ee).length-1)}),er(()=>{if(l(_t)<=0||x()||l(Fe)<=0)return!1;const i=[...E()];return Ir(Fe,-1),E([...l(Ee)[l(Fe)]]),ht=[...E()],n.onundo?.({previous:i,current:E()}),!0}),tr(()=>{if(l(_t)<=0||x()||l(Fe)>=l(Ee).length-1)return!1;const i=[...E()];return Ir(Fe),E([...l(Ee)[l(Fe)]]),ht=[...E()],n.onredo?.({previous:i,current:E()}),!0});let kn=null,or=!1;We(()=>{const i=J();if(!or){or=!0;return}if(n.onsearch)return kn=setTimeout(()=>{n.onsearch?.({searchText:i,matchingCount:Xe().length})},150),()=>{kn&&clearTimeout(kn)}});let gt=Ce(yt([])),Gt=Ce(!0),kt=Ce(!1),hn=Ce(null),Tt=null,ot=T(()=>n.loadOptions?l(gt):He()??[]),si=T(()=>E().map(F())),Tn=T(()=>E().map(je)),Bt=T(()=>new Set(l(si))),sr=T(()=>new Set(l(Tn).map(i=>`${i}`))),lr=T(()=>U()==="case-insensitive"?new Set(l(Tn).map(i=>`${i}`.toLowerCase())):null);const Mn=i=>l(lr)?l(lr).has(i.toLowerCase()):l(sr).has(i);let li=T(()=>new Set(l(ot).filter(i=>tn(i)&&i.disabled).map(F())));const ai=i=>l(li).has(F()(i));let Ht=T(()=>{const i=new Ar,c=[];for(const k of Xe())if(Rr(k)){const S=i.get(k.group);S?S.push(k):i.set(k.group,[k])}else c.push(k);let y=[...i.entries()].map(([k,S])=>({group:k,options:S,collapsed:R().has(k)}));if(Q()&&Q()!=="none"&&(y=y.toSorted((k,S)=>{if(typeof Q()=="function")return Q()(k.group,S.group);const D=k.group.localeCompare(S.group);return Q()==="desc"?-D:D})),c.length===0)return y;const A={group:null,options:c,collapsed:!1};return ie()==="first"?[A,...y]:[...y,A]}),ke=T(()=>l(Ht).flatMap(({options:i,collapsed:c})=>c&&h()?[]:i)),ar=T(()=>new Map(l(ke).map((i,c)=>[i,c]))),ui=T(()=>{const i=new Ar;for(const{group:c,options:y,collapsed:A}of l(Ht)){if(c===null)continue;const k=Pn(y,A),S=k.length>0&&k.every(H=>l(Bt).has(F()(H)));let D=0;if(L())for(const H of y)l(Bt).has(F()(H))&&D++;i.set(c,{all_selected:S,selected_count:D})}return i});function gn(i,c){const y=typeof c=="string"?[c]:[...c];if(i==="set")R(new Sr(y));else{const A=new Sr(R());for(const k of y)A[i](k);R(A)}}function ci(i){const c=R().has(i);gn(c?"delete":"add",i),n.ongroupToggle?.({group:i,collapsed:!c})}Qr(()=>{const i=l(Ht).map(c=>c.group).filter(c=>c!==null);i.length!==0&&(gn("set",i),n.oncollapseAll?.({groups:i}))}),$r(()=>{const i=[...R()];i.length!==0&&(gn("set",[]),n.onexpandAll?.({groups:i}))});function ur(i){if(i.length!==0){gn("delete",i);for(const c of i)n.ongroupToggle?.({group:c,collapsed:!1})}}const cr=()=>l(Ht).flatMap(({group:i,collapsed:c,options:y})=>i&&c&&y.length>0?[i]:[]);We(()=>{Z()&&J()&&h()&&ur(cr())});const fr=T(()=>typeof Je()=="string"?Je():Je()?.text??null),fi=T(()=>typeof Je()=="object"&&Je()?.persistent===!0);function dr(i){return Ae()===!0?i.toSorted((c,y)=>`${je(c)}`.localeCompare(`${je(y)}`)):typeof Ae()=="function"?i.toSorted(Ae()):i}Jn(()=>{!n.loadOptions&&!((He()?.length??0)>0)&&(v()||ct()||x()||w()?He([]):console.error("MultiSelect: received no options"))}),C()!==null&&C()<1&&console.error(`MultiSelect: maxSelect must be null or positive integer, got ${C()}`),Array.isArray(E())||console.error(`MultiSelect: selected prop should always be an array, got ${E()}`),We(()=>{C()&&typeof Se()=="number"&&Se()>C()&&console.error(`MultiSelect: maxSelect=${C()} < required=${Se()}, makes it impossible for users to submit a valid form`),zt()&&v()&&console.warn("MultiSelect: don't combine parseLabelsAsHtml and allowUserOptions. It's susceptible to XSS attacks!"),Ae()&&Ft()&&console.warn("MultiSelect: sortSelected and selectedOptionsDraggable should not be combined as any user re-orderings of selected options will be undone by sortSelected on component re-renders."),v()&&!g()&&g()!==null&&console.error(`MultiSelect: allowUserOptions=${v()} but createOptionMsg=${g()} is falsy. This prevents the "Add option" <span> from showing up, resulting in a confusing user experience.`),X()&&(typeof X()!="number"||X()<0||X()%1!=0)&&console.error(`MultiSelect: maxOptions must be undefined or a positive integer, got ${X()}`)});const Ln=T(()=>g()==null?null:typeof g()=="function"?g()({searchText:J(),selected:E(),options:l(ot),matchingOptions:Xe()})||null:g());let et=Ce(!1),Dn=Ce(0);const di=(i,c)=>O()(i,c)?!0:Jr()&&c&&Rr(i)?z()?jr(c,i.group):i.group.toLowerCase().includes(c.toLowerCase()):!1;$t(()=>{Xe(l(ot).filter(i=>!l(Bt).has(F()(i))||U()||L()?n.loadOptions||di(i,J()):!1))}),We(()=>{d()!==null&&!l(ke)[d()]&&d(null)}),We(()=>{m(l(ke)[d()??-1]??null)});const hi=T(()=>d()!==null&&d()<l(ke).length?`${l(Un)}-opt-${d()}`:void 0),pn=T(()=>ft()===null||E().length>ft());function gi(i,c){l(Bt).has(F()(i))?l(pn)&&qt(i,c):Vt(i,c)}function Vt(i,c){c.stopPropagation(),C()!==null&&E().length>=C()&&P(Fn,!0),!isNaN(Number(i))&&typeof l(Tn)[0]=="number"&&(i=Number(i));const y=F()(i),A=l(ot).some(H=>F()(H)===y),k=U()==="case-insensitive"||!A,S=l(Bt).has(F()(i))||k&&Mn(`${je(i)}`);if(C()!==null&&C()!==1&&E().length>=C()&&n.onmaxreached?.({selected:E(),maxSelect:C(),attemptedOption:i}),S&&U()!==!0&&n.onduplicate?.({option:i}),(C()===null||C()===1||E().length<C())&&(U()===!0||!S)){if(!A&&[!0,"append"].includes(v())&&J().length>0&&(typeof l(ot)[0]=="object"?i={label:J()}:["number","undefined"].includes(typeof l(ot)[0])&&!isNaN(Number(J()))?i=Number(J()):i=J(),n.oncreate?.({option:i}),v()==="append"&&(n.loadOptions?P(gt,[...l(gt),i],!0):He([...He()??[],i]))),un()&&J(""),["",void 0,null].includes(i)){console.error("MultiSelect: encountered falsy option",i);return}C()===1?E([i]):E(dr([...E(),i])),Nn(),hr(c),P(Ye,{type:"add",label:`${je(i)}`},!0),n.onadd?.({option:i}),n.onchange?.({option:i,type:"add"})}}function qt(i,c){if(c.stopPropagation(),E().length===0)return;const y=E().findIndex(k=>F()(k)===F()(i));let A=E()[y];if(A===void 0&&v()&&(A=typeof l(ot)[0]=="object"?{label:i}:i),A===void 0){console.error(`MultiSelect: can't remove option ${JSON.stringify(i)}, not found in selected list`);return}E(E().filter((k,S)=>S!==y)),Nn(),P(Ye,{type:"remove",label:`${je(A)}`},!0),n.onremove?.({option:A}),n.onchange?.({option:A,type:"remove"})}function Mt(i){i.stopPropagation(),!x()&&(pe(!0),i instanceof FocusEvent||j()?.focus(),n.onopen?.({event:i}))}function Wt(i,c=!1){pe(!1),c||j()?.blur(),d(null),n.onclose?.({event:i})}function Nn(){we(!1),ve()?.setCustomValidity("")}function hr(i){const c=E().length>=(C()??1/0),y=G()===!0||G()==="retain-focus"||G()==="if-mobile"&&l(Dn)&&l(Dn)<_();c||y?Wt(i,G()==="retain-focus"):j()?.focus()}const gr=T(()=>J().length>0&&!!(v()&&l(Ln)||U()!==!0&&Mn(J())||l(ke).length===0&&vt()));async function pi(i){if(P(dn,!0),Yr()&&h()&&R().size>0&&(ur(cr()),await En()),v()&&!l(ke).length&&J().length>0){P(et,!l(et));return}if(!(d()===null&&!l(ke).length)){if(d()===null)d(0);else{const c=l(ke).length+(l(gr)?1:0);if(c===0){d(null);return}d((d()+i+c)%c)}P(et,l(gr)&&d()===l(ke).length,!0),m(l(et)?null:l(ke)[d()]??null),b()&&(await En(),document.querySelector("ul.options > li.active")?.scrollIntoViewIfNeeded?.()),n.onactivate?.({option:m(),index:d()})}}async function mi(i){if(x())return;const c=[{key:"select_all",condition:()=>!!o()&&l(ke).length>0&&C()!==1,action:()=>jn(i)},{key:"clear_all",condition:()=>E().length>0,action:()=>Rn(i)},{key:"open",condition:()=>!pe(),action:()=>Mt(i)},{key:"close",condition:()=>pe(),action:()=>{Wt(i),J("")}},{key:"undo",condition:()=>!!nr(),action:()=>er()?.()},{key:"redo",condition:()=>!!rr(),action:()=>tr()?.()}];for(const{key:y,condition:A,action:k}of c)if(ri(i,l(oi)[y])&&A()){i.preventDefault(),i.stopPropagation(),k();return}if(i.key==="Escape"||i.key==="Tab")i.stopPropagation(),Wt(i),J("");else if(i.key==="Enter")i.stopPropagation(),i.preventDefault(),m()?l(Bt).has(F()(m()))?l(pn)&&qt(m(),i):Vt(m(),i):v()&&J().length>0?Vt(J(),i):Mt(i);else if(i.key==="ArrowDown"||i.key==="ArrowUp")i.stopPropagation(),i.preventDefault(),await pi(i.key==="ArrowUp"?-1:1);else if(i.key==="Backspace"&&E().length>0&&!J()){if(i.stopPropagation(),l(pn)){const y=E().at(-1);y&&qt(y,i)}}else l(ke).length>0&&d()===null&&d(0)}function Rn(i){i.stopPropagation();let c=[];ft()===null?(c=E(),E([])):E().length>ft()&&(c=E().slice(ft()),E(E().slice(0,ft()))),c.length>0&&(J(""),P(Ye,{type:"removeAll",label:`${c.length} options`},!0),n.onremoveAll?.({options:c}),n.onchange?.({options:E(),type:"removeAll"}))}const pr=i=>i>=0&&(X()==null||i<X()),Pn=(i,c=!1)=>i.filter(y=>ai(y)?!1:c?!0:pr(l(ar).get(y)??-1));function mr(i,c){const y=Math.max(0,(C()??1/0)-E().length),A=i.filter(k=>!l(Bt).has(F()(k))).slice(0,y);A.length!==0&&(E(dr([...E(),...A])),un()&&J(""),Nn(),hr(c),n.onselectAll?.({options:A}),n.onchange?.({options:E(),type:"selectAll"}))}function jn(i){i.stopPropagation(),mr(Pn(l(ke)),i)}function yi(i,c,y,A){A.stopPropagation();const k=Pn(i,c);if(y){const S=new Set(k.map(F())),D=E().filter(H=>S.has(F()(H)));E(E().filter(H=>!S.has(F()(H)))),D.length>0&&(n.onremoveAll?.({options:D}),n.onchange?.({options:E(),type:"removeAll"}))}else mr(k,A)}const wi=i=>l(sr).has(`${i}`),Et=i=>c=>{(c.key==="Enter"||c.code==="Space")&&(c.preventDefault(),i(c))},yr=(i,c,y)=>{c||(L()?gi(i,y):Vt(i,y))};function wr(i){if(!Qe())return;const c=i.target;Qe().contains(c)||t()?.active&&l(mn)&&l(mn).contains(c)||Wt(i)}let zn=Ce(null);const bi=i=>c=>{if(!c.dataTransfer)return;c.dataTransfer.dropEffect="move";const y=parseInt(c.dataTransfer.getData("text/plain")),A=[...E()];y<i?(A.splice(i+1,0,A[y]),A.splice(y,1)):(A.splice(i,0,A[y]),A.splice(y+1,1)),E(A),P(zn,null),n.onreorder?.({options:A}),n.onchange?.({options:A,type:"reorder"})},vi=i=>c=>{c.dataTransfer&&(c.dataTransfer.effectAllowed="move",c.dataTransfer.dropEffect="move",c.dataTransfer.setData("text/plain",`${i}`))};let mn=Ce(void 0);const xi=i=>{mi(i),n.onkeydown?.(i)},_i=i=>{Mt(i),n.onfocus?.(i)};We(()=>{if(!j())return;const i=j().focus.bind(j());return j(j().focus=c=>{i(c),!x()&&!pe()&&Mt(new FocusEvent("focus",{bubbles:!0}))},!0),()=>{j()&&j(j().focus=i,!0)}});const Bi=i=>{if(t()?.active){n.onblur?.(i);return}Qe()?.contains(i.relatedTarget)||Wt(i),n.onblur?.(i)};$t(()=>{Se(Se()),ve()?.setCustomValidity("")});function Ei(i,c){let{target_node:y,active:A}=c;if(!A)return;let k=typeof window>"u"||!document.body.contains(i);if(!k){document.body.appendChild(i),i.style.position="fixed";const S=()=>{if(!y||!pe())return i.hidden=!0;const D=y.getBoundingClientRect();i.style.left=`${D.left}px`,i.style.top=`${D.bottom}px`,i.style.width=`${D.width}px`,i.hidden=!1};return pe()&&En().then(S),window.addEventListener("scroll",S,!0),window.addEventListener("resize",S),We(()=>{pe()&&y?S():i.hidden=!0}),{update(D){y=D.target_node,k=typeof window>"u"||!document.body.contains(i),pe()&&!k&&y?En().then(S):(!pe()||!y)&&(i.hidden=!0)},destroy(){k||i.remove(),window.removeEventListener("scroll",S,!0),window.removeEventListener("resize",S)}}}}async function yn(i){if(!l(dt)||l(kt)||!i&&!l(Gt))return;const c=J(),y=i?0:l(gt).length;P(kt,!0);try{const A=l(dt).batch_size,k=await l(dt).fetch({search:c,offset:y,limit:A});P(gt,i?k.options:[...l(gt),...k.options],!0),P(Gt,k.hasMore,!0),P(hn,c,!0)}catch(A){console.error("MultiSelect: loadOptions error:",A)}finally{P(kt,!1)}}We(()=>{if(!l(dt))return;if(!pe()){P(hn,null),P(gt,[],!0),P(Gt,!0);return}Tt&&clearTimeout(Tt);const i=J();return l(hn)===null?l(dt).on_open?yn(!0):i&&(Tt=setTimeout(()=>yn(!0),l(dt).debounce_ms)):i!==l(hn)&&(P(gt,[],!0),P(Gt,!0),Tt=setTimeout(()=>yn(!0),l(dt).debounce_ms)),()=>{Tt&&clearTimeout(Tt)}});function Ii(i){if(!l(dt)||l(kt)||!l(Gt))return;const{scrollTop:c,scrollHeight:y,clientHeight:A}=i.target;y-c-A<=100&&yn(!1)}var pt=zo();ze("click",Or,wr),ze("touchstart",Or,wr,void 0,!0);let br;var Lt=ee(pt);Bn(Lt,i=>ve(i),()=>ve());var vr=K(Lt,2),Oi=ee(vr);{var Si=i=>{var c=ye(),y=se(c);qe(y,()=>n.expandIcon,()=>({open:pe()})),M(i,c)},Ai=i=>{Qt(i,{icon:"ChevronExpand",style:"width: 15px; min-width: 1em; padding: 0 1pt; cursor: pointer"})};W(Oi,i=>{n.expandIcon?i(Si):i(Ai,!1)})}var wn=K(vr,2),xr=ee(wn);en(xr,27,E,(i,c)=>U()?`${F()(i)}-${c}`:F()(i),(i,c,y,A)=>{const k=T(()=>[Pr(l(c),"selected"),Pt()].filter(Boolean).join(" ")||null);var S=So();let D;var H=T(()=>vi(l(y))),Dt=T(()=>bi(l(y))),tt=ee(S);{var te=Y=>{var fe=ye(),Pe=se(fe);qe(Pe,()=>n.selectedItem,()=>({option:l(c),idx:l(y)})),M(Y,fe)},be=Y=>{var fe=ye(),Pe=se(fe);qe(Pe,()=>n.children,()=>({option:l(c),idx:l(y)})),M(Y,fe)},ce=Y=>{var fe=ye(),Pe=se(fe);Ur(Pe,()=>je(l(c))),M(Y,fe)},Ie=Y=>{var fe=ut();ne(Pe=>_e(fe,Pe),[()=>je(l(c))]),M(Y,fe)};W(tt,Y=>{n.selectedItem?Y(te):n.children?Y(be,1):zt()?Y(ce,2):Y(Ie,!1)})}var xe=K(tt,2);{var Re=Y=>{var fe=Oo(),Pe=T(()=>Et(q=>qt(l(c),q))),Jt=ee(fe);{var Yt=q=>{var st=ye(),Ze=se(st);qe(Ze,()=>n.removeIcon),M(q,st)},Te=q=>{Qt(q,{icon:"Cross",style:"width: 15px"})};W(Jt,q=>{n.removeIcon?q(Yt):q(Te,!1)})}ne(q=>ge(fe,"title",`${On()??""} ${q??""}`),[()=>je(l(c))]),he("click",fe,q=>qt(l(c),q)),he("keydown",fe,function(...q){l(Pe)?.apply(this,q)}),M(Y,fe)};W(xe,Y=>{!x()&&l(pn)&&Y(Re)})}ne(()=>{D=rt(S,1,qi(Rt()),"svelte-xby4ud",D,{active:l(zn)===l(y)}),ge(S,"draggable",Ft()&&!x()&&E().length>1),mt(S,l(k))}),ze("dragstart",S,function(...Y){l(H)?.apply(this,Y)}),ze("dragover",S,Y=>{Y.preventDefault()}),ze("drop",S,function(...Y){l(Dt)?.apply(this,Y)}),ze("dragenter",S,()=>P(zn,l(y),!0)),he("mouseup",S,Y=>Y.stopPropagation()),Wi(S,()=>Yi,f),M(i,S)});var bn=K(xr,2),Ui=()=>!1;Xn(bn,()=>({class:le(),style:Be(),id:N(),disabled:x(),autocomplete:u(),inputmode:De(),pattern:an(),placeholder:E().length===0||l(fi)?l(fr):null,role:"combobox","aria-haspopup":"listbox","aria-expanded":pe(),"aria-controls":l(ir),"aria-activedescendant":l(hi),"aria-busy":ct()||l(kt)||null,"aria-invalid":we()?"true":null,ondrop:Ui,onmouseup:Mt,onkeydown:xi,onfocus:_i,onblur:Bi,onclick:n.onclick,onkeyup:n.onkeyup,onmousedown:n.onmousedown,onmouseenter:n.onmouseenter,onmouseleave:n.onmouseleave,ontouchcancel:n.ontouchcancel,ontouchend:n.ontouchend,ontouchmove:n.ontouchmove,ontouchstart:n.ontouchstart,...ti}),void 0,void 0,void 0,"svelte-xby4ud",!0),Bn(bn,i=>j(i),()=>j());var Ci=K(bn,2);qe(Ci,()=>n.afterInput??Gr,()=>({selected:E(),disabled:x(),invalid:we(),id:N(),placeholder:l(fr),open:pe(),required:Se()}));var _r=K(wn,2);{var Fi=i=>{var c=ye(),y=se(c);{var A=S=>{var D=ye(),H=se(D);qe(H,()=>n.spinner),M(S,D)},k=S=>{zr(S,{})};W(y,S=>{n.spinner?S(A):S(k,!1)})}M(i,c)};W(_r,i=>{ct()&&i(Fi)})}var Br=K(_r,2);{var ki=i=>{var c=ye(),y=se(c);{var A=S=>{var D=ye(),H=se(D);qe(H,()=>n.disabledIcon),M(S,D)},k=S=>{Qt(S,{icon:"Disabled",style:"width: 14pt; margin: 0 2pt","data-name":"disabled-icon","aria-disabled":"true"})};W(y,S=>{n.disabledIcon?S(A):S(k,!1)})}M(i,c)},Ti=i=>{var c=Co(),y=se(c);{var A=D=>{Io(D,{angle:20,get wiggle(){return l(Fn)},set wiggle(H){P(Fn,H,!0)},children:(H,Dt)=>{var tt=Ao(),te=ee(tt);ne(be=>{rt(tt,1,`max-select-msg ${on()??""}`,"svelte-xby4ud"),_e(te,be)},[()=>bt()?.(E().length,C())]),M(H,tt)},$$slots:{default:!0}})};W(y,D=>{C()&&(C()>1||bt())&&D(A)})}var k=K(y,2);{var S=D=>{var H=Uo(),Dt=T(()=>Et(Rn)),tt=ee(H);{var te=ce=>{var Ie=ye(),xe=se(Ie);qe(xe,()=>n.removeIcon),M(ce,Ie)},be=ce=>{Qt(ce,{icon:"Cross",style:"width: 15px"})};W(tt,ce=>{n.removeIcon?ce(te):ce(be,!1)})}ne(()=>ge(H,"title",xt())),he("click",H,Rn),he("keydown",H,function(...ce){l(Dt)?.apply(this,ce)}),M(D,H)};W(k,D=>{C()!==1&&E().length>1&&D(S)})}M(i,c)};W(Br,i=>{x()?i(ki):E().length>0&&i(Ti,1)})}var Er=K(Br,2);{var Mi=i=>{var c=jo();let y;var A=ee(c);{var k=te=>{const be=T(()=>typeof o()=="string"?o():"Select all");var ce=Fo(),Ie=T(()=>Et(jn)),xe=ee(ce);ne(()=>{rt(ce,1,`select-all ${a()??""}`,"svelte-xby4ud"),_e(xe,l(be))}),he("click",ce,jn),he("keydown",ce,function(...Re){l(Ie)?.apply(this,Re)}),M(te,ce)};W(A,te=>{o()&&l(ot).length>0&&(C()===null||C()>1)&&te(k)})}var S=K(A,2);en(S,19,()=>l(Ht),({group:te,options:be,collapsed:ce},Ie)=>te??`ungrouped-${Ie}`,(te,be,ce)=>{let Ie=()=>l(be).group,xe=()=>l(be).options,Re=()=>l(be).collapsed;var Y=No(),fe=se(Y);{var Pe=Te=>{const q=T(()=>{const{all_selected:me,selected_count:lt}=l(ui).get(Ie())??{all_selected:!1,selected_count:0};return{all_selected:me,selected_count:lt}}),st=T(()=>()=>h()&&ci(Ie())),Ze=T(()=>me=>yi(xe(),Re(),l(q).all_selected,me));var $=Mo();let Zt;var vn=T(()=>Et(l(st))),Ve=ee($);{var de=me=>{var lt=ye(),It=se(lt);qe(It,()=>n.groupHeader,()=>({group:Ie(),options:xe(),collapsed:Re()})),M(me,lt)},nt=me=>{var lt=To(),It=se(lt),Gn=ee(It),xn=K(It,2),Hn=ee(xn);{var Ot=Ue=>{var Me=ut();ne(()=>_e(Me,`(${l(q).selected_count??""}/${xe().length??""})`)),M(Ue,Me)},Oe=Ue=>{var Me=ut();ne(()=>_e(Me,`(${xe().length??""})`)),M(Ue,Me)};W(Hn,Ue=>{L()&&l(q).selected_count>0?Ue(Ot):Ue(Oe,!1)})}var St=K(xn,2);{var Kt=Ue=>{var Me=ko();let _n;var qn=T(()=>Et(l(Ze))),Wn=ee(Me);ne(()=>{_n=rt(Me,1,"group-select-all svelte-xby4ud",null,_n,{deselect:l(q).all_selected}),_e(Wn,l(q).all_selected?"Deselect all":"Select all")}),he("click",Me,function(...oe){l(Ze)?.apply(this,oe)}),he("keydown",Me,function(...oe){l(qn)?.apply(this,oe)}),M(Ue,Me)};W(St,Ue=>{ue()&&(C()===null||C()>1)&&Ue(Kt)})}var Nt=K(St,2);{var Vn=Ue=>{{let Me=T(()=>Re()?"ChevronRight":"ChevronDown");Qt(Ue,{get icon(){return l(Me)},style:"width: 12px; margin-left: auto"})}};W(Nt,Ue=>{h()&&Ue(Vn)})}ne(()=>_e(Gn,Ie())),M(me,lt)};W(Ve,me=>{n.groupHeader?me(de):me(nt,!1)})}ne(()=>{Zt=rt($,1,`group-header ${Kr()??""}`,"svelte-xby4ud",Zt,{collapsible:h(),sticky:Zr()}),ge($,"role",h()?"button":"presentation"),ge($,"aria-expanded",h()?!Re():void 0),ge($,"aria-label",`Group: ${Ie()??""}`),mt($,Xr()),ge($,"tabindex",h()?0:-1)}),he("click",$,function(...me){l(st)?.apply(this,me)}),he("keydown",$,function(...me){l(vn)?.apply(this,me)}),M(Te,$)};W(fe,Te=>{Ie()!==null&&Te(Pe)})}var Jt=K(fe,2);{var Yt=Te=>{var q=ye(),st=se(q);en(st,19,xe,(Ze,$)=>U()?`${F()(Ze)}-${l(ce)}-${$}`:F()(Ze),(Ze,$,Zt,vn)=>{const Ve=T(()=>l(ar).get(l($))??-1),de=T(()=>{const{label:Ot,disabled:Oe=null,title:St=null,selectedTitle:Kt=null,disabledTitle:Nt=B()}=tn(l($))?l($):{label:l($)};return{label:Ot,disabled:Oe,title:St,selectedTitle:Kt,disabledTitle:Nt}}),nt=T(()=>d()===l(Ve)&&l(Ve)>=0),me=T(()=>wi(l(de).label)),lt=T(()=>[Pr(l($),"option"),wt()].filter(Boolean).join(" ")||null);var It=ye(),Gn=se(It);{var xn=Ot=>{var Oe=Do();let St;var Kt=T(()=>Et(oe=>yr(l($),l(de).disabled,oe))),Nt=ee(Oe);{var Vn=oe=>{var Le=Lo();ne(at=>{Zi(Le,l(me)),ge(Le,"aria-label",`Toggle ${at??""}`)},[()=>je(l($))]),M(oe,Le)};W(Nt,oe=>{L()==="checkboxes"&&oe(Vn)})}var Ue=K(Nt,2);{var Me=oe=>{var Le=ye(),at=se(Le);qe(at,()=>n.option,()=>({option:l($),idx:l(Ve)})),M(oe,Le)},_n=oe=>{var Le=ye(),at=se(Le);qe(at,()=>n.children,()=>({option:l($),idx:l(Ve)})),M(oe,Le)},qn=oe=>{var Le=ye(),at=se(Le);Ur(at,()=>je(l($))),M(oe,Le)},Wn=oe=>{var Le=ut();ne(at=>_e(Le,at),[()=>je(l($))]),M(oe,Le)};W(Ue,oe=>{n.option?oe(Me):n.children?oe(_n,1):zt()?oe(qn,2):oe(Wn,!1)})}ne(()=>{ge(Oe,"id",`${l(Un)??""}-opt-${l(Ve)??""}`),ge(Oe,"title",l(de).disabled?l(de).disabledTitle:l(me)&&l(de).selectedTitle||l(de).title),St=rt(Oe,1,`${Ct()??""} ${(l(nt)?it():"")??""}`,"svelte-xby4ud",St,{selected:l(me),active:l(nt),disabled:l(de).disabled}),ge(Oe,"aria-selected",l(me)?"true":"false"),ge(Oe,"aria-posinset",l(Ve)+1),ge(Oe,"aria-setsize",l(ke).length),mt(Oe,l(lt))}),he("click",Oe,oe=>yr(l($),l(de).disabled,oe)),he("mouseover",Oe,()=>{!l(de).disabled&&!l(dn)&&d(l(Ve))}),ze("focus",Oe,()=>{l(de).disabled||d(l(Ve))}),he("keydown",Oe,function(...oe){l(Kt)?.apply(this,oe)}),M(Ot,Oe)},Hn=T(()=>pr(l(Ve)));W(Gn,Ot=>{l(Hn)&&Ot(xn)})}M(Ze,It)}),M(Te,q)};W(Jt,Te=>{(!Re()||!h())&&Te(Yt)})}M(te,Y)});var D=K(S,2);{var H=te=>{const be=T(()=>U()!==!0&&Mn(J())&&"dupe"),ce=T(()=>!!(v()&&l(Ln))&&"create"),Ie=T(()=>!!(l(ke)?.length===0&&vt())&&"no-match"),xe=T(()=>l(be)||l(ce)||l(Ie)),Re=T(()=>l(xe)&&{dupe:I(),create:l(Ln),"no-match":vt()}[l(xe)]),Y=T(()=>l(xe)==="create"&&v()),fe=T(()=>Te=>l(Y)&&Vt(J(),Te));var Pe=ye(),Jt=se(Pe);{var Yt=Te=>{var q=Ro(),st=T(()=>l(Y)?Et(l(fe)):void 0);let Ze,$;var Zt=ee(q);{var vn=de=>{var nt=ye(),me=se(nt);qe(me,()=>n.userMsg,()=>({searchText:J(),msgType:l(xe),msg:l(Re)})),M(de,nt)},Ve=de=>{var nt=ut();ne(()=>_e(nt,l(Re))),M(de,nt)};W(Zt,de=>{n.userMsg?de(vn):de(Ve,!1)})}ne(()=>{ge(q,"title",l(xe)!=="no-match"?l(Re):""),Ze=rt(q,1,`
              user-msg ${jt()??""} ${(l(et)?Ut():"")??""}
            `,"svelte-xby4ud",Ze,{active:l(et)}),$=mt(q,"",$,{cursor:{dupe:"not-allowed",create:"pointer","no-match":"default"}[l(xe)]})}),he("click",q,function(...de){l(fe)?.apply(this,de)}),he("keydown",q,function(...de){l(st)?.apply(this,de)}),he("mouseover",q,()=>!l(dn)&&P(et,!0)),ze("focus",q,()=>P(et,!0)),he("mouseout",q,()=>P(et,!1)),ze("blur",q,()=>P(et,!1)),M(Te,q)};W(Jt,Te=>{l(Re)&&Te(Yt)})}M(te,Pe)};W(D,te=>{J()&&te(H)})}var Dt=K(D,2);{var tt=te=>{var be=Po(),ce=ee(be);zr(ce,{}),M(te,be)};W(Dt,te=>{n.loadOptions&&l(kt)&&te(tt)})}Hi(c,(te,be)=>Ei?.(te,be),()=>({target_node:Qe(),...t()})),Vi(c,()=>xo({query:J(),disabled:!re(),fuzzy:z(),css_class:"sms-search-matches",node_filter:te=>te?.parentElement?.closest("li.user-msg")?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT})),Bn(c,te=>P(mn,te),()=>l(mn)),ne(()=>{ge(c,"id",l(ir)),y=rt(c,1,`options ${$e()??""}`,"svelte-xby4ud",y,{hidden:!pe()}),ge(c,"aria-multiselectable",C()===null||C()>1),ge(c,"aria-expanded",pe()),ge(c,"aria-disabled",x()?"true":null),mt(c,e())}),ze("scroll",c,Ii),he("mousemove",c,()=>P(dn,!1)),M(i,c)};W(Er,i=>{(J()&&vt()||l(ot).length>0||n.loadOptions)&&i(Mi)})}var Li=K(Er,2),Di=ee(Li);{var Ni=i=>{var c=ye(),y=se(c);{var A=D=>{var H=ut();ne(()=>_e(H,`${l(Ye).label??""} selected`)),M(D,H)},k=D=>{var H=ut();ne(()=>_e(H,`${l(Ye).label??""} removed`)),M(D,H)},S=D=>{var H=ut();ne(()=>_e(H,`${l(Ye).label??""} removed`)),M(D,H)};W(y,D=>{l(Ye).type==="add"?D(A):l(Ye).type==="remove"?D(k,1):l(Ye).type==="removeAll"&&D(S,2)})}M(i,c)},Ri=i=>{var c=ut();ne(()=>_e(c,`${Xe().length??""} option${Xe().length===1?"":"s"} available`)),M(i,c)};W(Di,i=>{l(Ye)?i(Ni):pe()&&i(Ri,1)})}Bn(pt,i=>Qe(i),()=>Qe()),ne((i,c)=>{br=rt(pt,1,`multiselect ${ln()??""} ${n.class??""??""}`,"svelte-xby4ud",br,{disabled:x(),single:C()===1,open:pe(),invalid:we()}),ge(pt,"title",x()?V():null),ge(pt,"data-id",N()),mt(pt,Sn()),ge(Lt,"name",sn()),Lt.required=i,Ji(Lt,c),rt(wn,1,`selected ${An()??""}`,"svelte-xby4ud"),mt(wn,r())},[()=>!!Se(),()=>E().length>=Number(Se())?JSON.stringify(E()):null]),Gi("innerWidth",i=>P(Dn,i,!0)),he("mouseup",pt,Mt),ze("invalid",Lt,()=>{we(!0);let i;C()&&C()>1&&Number(Se())>1?i=`Please select between ${Se()} and ${C()} options`:Number(Se())>1?i=`Please select at least ${Se()} options`:i="Please select an option",ve()?.setCustomValidity(i)}),Hr(bn,J),M(s,pt),rn()}$n(["mouseup","click","keydown","mousemove","mouseover","mouseout"]);$n(["click","focusin","focusout","keydown"]);function Ho(s,n=!0){const d=new IntersectionObserver(([m],g)=>{const v=m.intersectionRatio;if(v<1){const w=v<=0&&n?"center":"nearest";s.scrollIntoView({block:w,inline:w})}g.disconnect()});return d.observe(s),d}typeof Element<"u"&&!Element.prototype?.scrollIntoViewIfNeeded&&typeof IntersectionObserver<"u"&&(Element.prototype.scrollIntoViewIfNeeded=function(){Ho(this)});const Ke=yt({file:null});var Vo=ae('<div> </div> <textarea class="h-100px bg-#33221166 shadow-#00000099 b-color-amber rounded-lg p-3 shadow-md"></textarea>',1),qo=ae('<div class="px-6 py-2"><h2 class="m-0"> </h2> <div class="w-450px flex flex-col"></div></div>');function Wo(s,n){nn(n,!0);const d=T(()=>Ke.file?.entries[n.entryName]);var m=ye(),g=se(m);{var v=w=>{var u=qo(),b=ee(u),_=ee(b),B=K(b,2);en(B,21,()=>n.languages,Vr,(x,V)=>{var I=Vo(),U=se(I),L=ee(U),F=K(U,2);ne(()=>_e(L,l(V))),Hr(F,()=>l(d).strings[l(V)],O=>l(d).strings[l(V)]=O),M(x,I)}),ne(()=>_e(_,l(d).name)),M(w,u)};W(g,w=>{l(d)!=null&&w(v)})}M(s,m),rn()}var Jo=ae('<div class="bg-amber-9 bg-op-25 z-100 fixed flex h-full w-full items-center justify-center"><div class="w-350px max-w-80% h-250px text-30px bg-#111 text-shadow-lg b-3px b-amber-4 rounded-30px b-dashed flex items-center justify-center font-bold shadow-lg">Drop file</div></div>'),Yo=ae('<div class="b-3 b-1px b-solid b-red-5 fixed bottom-8 right-8 z-50 flex items-center justify-center rounded-lg bg-red-950 px-5 py-3">Invalid file</div>'),Zo=ae('<label for="file" class="h-75 w-75 b-1 b-amber b-solid flex cursor-pointer flex-col items-center justify-center rounded-2xl p-8"><span class="i-lucide:file-scan h-25 w-25"></span> <span class="text-center font-bold">Select/Drop <br/> *.msg.* file</span></label>'),Ko=ae('<h1 class="m-0"> </h1> <div class="flex items-center gap-6"><div> </div> <div> </div> <button class="b-solid b-1 b-amber cursor-pointer rounded-lg">Export as msg</button> <button class="b-solid b-1 b-amber cursor-pointer rounded-lg">Export as json</button></div> <div class="mb-4 mt-2"><!></div> <div class="flex h-full w-full flex-col items-center overflow-auto"></div>',1),Xo=ae('<input id="file" type="file" hidden=""/> <div class="flex h-full w-full flex-col items-center justify-center"><!> <!> <!> <a target="_blank" rel="noopener" href="https://github.com/beeequeue/remsg-editor" class="text-#eee fixed bottom-2 flex items-center"><div class="i-simple-icons:github mr-1"></div> Made by beequeue</a></div>',1);function Qo(s,n){nn(n,!0);const d=T(()=>Object.values(Ke.file?.entries??{}));let m=Ce(!1);We(()=>{l(m)&&setTimeout(()=>{P(m,!1)},7500)});const g=T(()=>{const N=Object.keys(l(d)[0].strings),j=Object.fromEntries(N.map(le=>[le,!1]));for(const le of N)for(const Be of l(d))Be.strings[le]==null||Be.strings[le].length===0||(j[le]=!0);return Object.entries(j).filter(([,le])=>le).map(([le])=>le)});let v=Ce(yt(["en"]));const w=async N=>{const j=N.target.files;if(j==null||j.length===0)return;const le=j.item(0),Be=Nr(Ge.Buffer.from(await le.arrayBuffer())),De=Object.fromEntries(Be.entries.map(we=>[we.name,we]));Ke.file={name:le.name,meta:Be.meta,entries:De}};let u=Ce(!1);const b=N=>{P(u,!0),N.preventDefault()},_=()=>{P(u,!1)},B=async N=>{N.preventDefault(),P(m,!1);try{const j=N.dataTransfer.items[0].getAsFile(),le=Nr(Ge.Buffer.from(await j.arrayBuffer())),Be=Object.fromEntries(le.entries.map(De=>[De.name,De]));Ke.file={name:j.name,meta:le.meta,entries:Be}}catch{P(m,!0)}P(u,!1)},x=N=>()=>{if(Ke.file==null)return;const j=Object.values(Ke.file.entries),le={meta:Ke.file.meta,entries:j};let Be;if(N==="msg"){const it=yo(le);Be=new Blob([it],{type:"application/octet-stream"})}else{const it=JSON.stringify(le,null,2);Be=new Blob([it],{type:"application/json"})}const De=URL.createObjectURL(Be),we=document.createElement("a");we.href=De,we.download=Ke.file.name,N==="json"&&(we.download+=".json"),we.click(),URL.revokeObjectURL(De),we.remove()};var V=Xo(),I=se(V),U=K(I,2),L=ee(U);{var F=N=>{var j=Jo();Cr(3,j,()=>Fr,()=>({duration:100})),M(N,j)};W(L,N=>{l(u)&&N(F)})}var O=K(L,2);{var z=N=>{var j=Yo();Cr(3,j,()=>Fr,()=>({duration:250})),M(N,j)};W(O,N=>{l(m)&&N(z)})}var G=K(O,2);{var ve=N=>{var j=Zo();M(N,j)},re=N=>{var j=Ko(),le=se(j),Be=ee(le),De=K(le,2),we=ee(De),it=ee(we),Ut=K(we,2),Ct=ee(Ut),wt=K(Ut,2),Rt=T(()=>x("msg")),Pt=K(wt,2),jt=T(()=>x("json")),ct=K(De,2),Xe=ee(ct);Go(Xe,{placeholder:"Languages",get options(){return l(g)},outerDivClass:"w-300px min-h-32px b-color-amber",liOptionClass:"color-#eee bg-#333",get selected(){return l(v)},set selected(C){P(v,C,!0)}});var X=K(ct,2);en(X,21,()=>l(d),Vr,(C,bt)=>{Wo(C,{get entryName(){return l(bt).name},get languages(){return l(v)}})}),ne(()=>{_e(Be,Ke.file.name),_e(it,`Version ${Ke.file.meta.version??""}`),_e(Ct,`${Ke.file.meta.attributes.length??""} attributes`)}),he("click",wt,function(...C){l(Rt)?.apply(this,C)}),he("click",Pt,function(...C){l(jt)?.apply(this,C)}),M(N,j)};W(G,N=>{Ke?.file==null?N(ve):N(re,!1)})}he("change",I,w),ze("drop",U,B),ze("dragover",U,b),ze("dragleave",U,_),M(s,V),rn()}$n(["change","click"]);Ki(Qo,{target:document.getElementById("root")});
