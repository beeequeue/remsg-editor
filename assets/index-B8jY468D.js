import{p as y,t as se,a as P,b as ue,s as $,c as gt,d as vt,e as yr,l as Ye,f as ne,g as nr,i as ir,h as Ae,j as Et,k as wr,m as br,n as oe,o as kt,q as Lt,r as Mt,u as xr,v as O,$ as Wt,w as bt,x as re,y as Bt,z as we,A as Br,B as lr,C as vr,D as Pe,E as pe,F as p,G as Ne,H as be,I as le,J as ye,K as He,L as Re,M as Er,N as Jt,O as Ir,P as st,Q as _r,R as Ht,S as Dt,T as Ve,U as Yt,V as St,W as qe,X as Ur,Y as Nt,Z as Fr,_ as Ar,a0 as Ct,a1 as Xt,a2 as Zt,a3 as Or}from"./svelte-CZZFPIeH.js";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const d of document.querySelectorAll('link[rel="modulepreload"]'))c(d);new MutationObserver(d=>{for(const m of d)if(m.type==="childList")for(const g of m.addedNodes)g.tagName==="LINK"&&g.rel==="modulepreload"&&c(g)}).observe(document,{childList:!0,subtree:!0});function h(d){const m={};return d.integrity&&(m.integrity=d.integrity),d.referrerPolicy&&(m.referrerPolicy=d.referrerPolicy),d.crossOrigin==="use-credentials"?m.credentials="include":d.crossOrigin==="anonymous"?m.credentials="omit":m.credentials="same-origin",m}function c(d){if(d.ep)return;d.ep=!0;const m=h(d);fetch(d.href,m)}})();var Tt={},pt={},Kt;function Sr(){if(Kt)return pt;Kt=1,pt.byteLength=o,pt.toByteArray=x,pt.fromByteArray=N;for(var l=[],n=[],h=typeof Uint8Array<"u"?Uint8Array:Array,c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",d=0,m=c.length;d<m;++d)l[d]=c[d],n[c.charCodeAt(d)]=d;n[45]=62,n[95]=63;function g(b){var _=b.length;if(_%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var S=b.indexOf("=");S===-1&&(S=_);var D=S===_?0:4-S%4;return[S,D]}function o(b){var _=g(b),S=_[0],D=_[1];return(S+D)*3/4-D}function I(b,_,S){return(_+S)*3/4-S}function x(b){var _,S=g(b),D=S[0],B=S[1],k=new h(I(b,D,B)),C=0,xe=B>0?D-4:D,W;for(W=0;W<xe;W+=4)_=n[b.charCodeAt(W)]<<18|n[b.charCodeAt(W+1)]<<12|n[b.charCodeAt(W+2)]<<6|n[b.charCodeAt(W+3)],k[C++]=_>>16&255,k[C++]=_>>8&255,k[C++]=_&255;return B===2&&(_=n[b.charCodeAt(W)]<<2|n[b.charCodeAt(W+1)]>>4,k[C++]=_&255),B===1&&(_=n[b.charCodeAt(W)]<<10|n[b.charCodeAt(W+1)]<<4|n[b.charCodeAt(W+2)]>>2,k[C++]=_>>8&255,k[C++]=_&255),k}function w(b){return l[b>>18&63]+l[b>>12&63]+l[b>>6&63]+l[b&63]}function v(b,_,S){for(var D,B=[],k=_;k<S;k+=3)D=(b[k]<<16&16711680)+(b[k+1]<<8&65280)+(b[k+2]&255),B.push(w(D));return B.join("")}function N(b){for(var _,S=b.length,D=S%3,B=[],k=16383,C=0,xe=S-D;C<xe;C+=k)B.push(v(b,C,C+k>xe?xe:C+k));return D===1?(_=b[S-1],B.push(l[_>>2]+l[_<<4&63]+"==")):D===2&&(_=(b[S-2]<<8)+b[S-1],B.push(l[_>>10]+l[_>>4&63]+l[_<<2&63]+"=")),B.join("")}return pt}var xt={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */var Qt;function Cr(){return Qt||(Qt=1,xt.read=function(l,n,h,c,d){var m,g,o=d*8-c-1,I=(1<<o)-1,x=I>>1,w=-7,v=h?d-1:0,N=h?-1:1,b=l[n+v];for(v+=N,m=b&(1<<-w)-1,b>>=-w,w+=o;w>0;m=m*256+l[n+v],v+=N,w-=8);for(g=m&(1<<-w)-1,m>>=-w,w+=c;w>0;g=g*256+l[n+v],v+=N,w-=8);if(m===0)m=1-x;else{if(m===I)return g?NaN:(b?-1:1)*(1/0);g=g+Math.pow(2,c),m=m-x}return(b?-1:1)*g*Math.pow(2,m-c)},xt.write=function(l,n,h,c,d,m){var g,o,I,x=m*8-d-1,w=(1<<x)-1,v=w>>1,N=d===23?Math.pow(2,-24)-Math.pow(2,-77):0,b=c?0:m-1,_=c?1:-1,S=n<0||n===0&&1/n<0?1:0;for(n=Math.abs(n),isNaN(n)||n===1/0?(o=isNaN(n)?1:0,g=w):(g=Math.floor(Math.log(n)/Math.LN2),n*(I=Math.pow(2,-g))<1&&(g--,I*=2),g+v>=1?n+=N/I:n+=N*Math.pow(2,1-v),n*I>=2&&(g++,I/=2),g+v>=w?(o=0,g=w):g+v>=1?(o=(n*I-1)*Math.pow(2,d),g=g+v):(o=n*Math.pow(2,v-1)*Math.pow(2,d),g=0));d>=8;l[h+b]=o&255,b+=_,o/=256,d-=8);for(g=g<<d|o,x+=d;x>0;l[h+b]=g&255,b+=_,g/=256,x-=8);l[h+b-_]|=S*128}),xt}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var $t;function Tr(){return $t||($t=1,function(l){const n=Sr(),h=Cr(),c=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;l.Buffer=o,l.SlowBuffer=k,l.INSPECT_MAX_BYTES=50;const d=2147483647;l.kMaxLength=d,o.TYPED_ARRAY_SUPPORT=m(),!o.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function m(){try{const r=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(r,e),r.foo()===42}catch{return!1}}Object.defineProperty(o.prototype,"parent",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.buffer}}),Object.defineProperty(o.prototype,"offset",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.byteOffset}});function g(r){if(r>d)throw new RangeError('The value "'+r+'" is invalid for option "size"');const e=new Uint8Array(r);return Object.setPrototypeOf(e,o.prototype),e}function o(r,e,t){if(typeof r=="number"){if(typeof e=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return v(r)}return I(r,e,t)}o.poolSize=8192;function I(r,e,t){if(typeof r=="string")return N(r,e);if(ArrayBuffer.isView(r))return _(r);if(r==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof r);if(Ue(r,ArrayBuffer)||r&&Ue(r.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Ue(r,SharedArrayBuffer)||r&&Ue(r.buffer,SharedArrayBuffer)))return S(r,e,t);if(typeof r=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const i=r.valueOf&&r.valueOf();if(i!=null&&i!==r)return o.from(i,e,t);const s=D(r);if(s)return s;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof r[Symbol.toPrimitive]=="function")return o.from(r[Symbol.toPrimitive]("string"),e,t);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof r)}o.from=function(r,e,t){return I(r,e,t)},Object.setPrototypeOf(o.prototype,Uint8Array.prototype),Object.setPrototypeOf(o,Uint8Array);function x(r){if(typeof r!="number")throw new TypeError('"size" argument must be of type number');if(r<0)throw new RangeError('The value "'+r+'" is invalid for option "size"')}function w(r,e,t){return x(r),r<=0?g(r):e!==void 0?typeof t=="string"?g(r).fill(e,t):g(r).fill(e):g(r)}o.alloc=function(r,e,t){return w(r,e,t)};function v(r){return x(r),g(r<0?0:B(r)|0)}o.allocUnsafe=function(r){return v(r)},o.allocUnsafeSlow=function(r){return v(r)};function N(r,e){if((typeof e!="string"||e==="")&&(e="utf8"),!o.isEncoding(e))throw new TypeError("Unknown encoding: "+e);const t=C(r,e)|0;let i=g(t);const s=i.write(r,e);return s!==t&&(i=i.slice(0,s)),i}function b(r){const e=r.length<0?0:B(r.length)|0,t=g(e);for(let i=0;i<e;i+=1)t[i]=r[i]&255;return t}function _(r){if(Ue(r,Uint8Array)){const e=new Uint8Array(r);return S(e.buffer,e.byteOffset,e.byteLength)}return b(r)}function S(r,e,t){if(e<0||r.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(r.byteLength<e+(t||0))throw new RangeError('"length" is outside of buffer bounds');let i;return e===void 0&&t===void 0?i=new Uint8Array(r):t===void 0?i=new Uint8Array(r,e):i=new Uint8Array(r,e,t),Object.setPrototypeOf(i,o.prototype),i}function D(r){if(o.isBuffer(r)){const e=B(r.length)|0,t=g(e);return t.length===0||r.copy(t,0,0,e),t}if(r.length!==void 0)return typeof r.length!="number"||ht(r.length)?g(0):b(r);if(r.type==="Buffer"&&Array.isArray(r.data))return b(r.data)}function B(r){if(r>=d)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+d.toString(16)+" bytes");return r|0}function k(r){return+r!=r&&(r=0),o.alloc(+r)}o.isBuffer=function(e){return e!=null&&e._isBuffer===!0&&e!==o.prototype},o.compare=function(e,t){if(Ue(e,Uint8Array)&&(e=o.from(e,e.offset,e.byteLength)),Ue(t,Uint8Array)&&(t=o.from(t,t.offset,t.byteLength)),!o.isBuffer(e)||!o.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let i=e.length,s=t.length;for(let a=0,f=Math.min(i,s);a<f;++a)if(e[a]!==t[a]){i=e[a],s=t[a];break}return i<s?-1:s<i?1:0},o.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},o.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(e.length===0)return o.alloc(0);let i;if(t===void 0)for(t=0,i=0;i<e.length;++i)t+=e[i].length;const s=o.allocUnsafe(t);let a=0;for(i=0;i<e.length;++i){let f=e[i];if(Ue(f,Uint8Array))a+f.length>s.length?(o.isBuffer(f)||(f=o.from(f)),f.copy(s,a)):Uint8Array.prototype.set.call(s,f,a);else if(o.isBuffer(f))f.copy(s,a);else throw new TypeError('"list" argument must be an Array of Buffers');a+=f.length}return s};function C(r,e){if(o.isBuffer(r))return r.length;if(ArrayBuffer.isView(r)||Ue(r,ArrayBuffer))return r.byteLength;if(typeof r!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof r);const t=r.length,i=arguments.length>2&&arguments[2]===!0;if(!i&&t===0)return 0;let s=!1;for(;;)switch(e){case"ascii":case"latin1":case"binary":return t;case"utf8":case"utf-8":return ct(r).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return t*2;case"hex":return t>>>1;case"base64":return Ge(r).length;default:if(s)return i?-1:ct(r).length;e=(""+e).toLowerCase(),s=!0}}o.byteLength=C;function xe(r,e,t){let i=!1;if((e===void 0||e<0)&&(e=0),e>this.length||((t===void 0||t>this.length)&&(t=this.length),t<=0)||(t>>>=0,e>>>=0,t<=e))return"";for(r||(r="utf8");;)switch(r){case"hex":return ce(this,e,t);case"utf8":case"utf-8":return et(this,e,t);case"ascii":return at(this,e,t);case"latin1":case"binary":return tt(this,e,t);case"base64":return $e(this,e,t);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ke(this,e,t);default:if(i)throw new TypeError("Unknown encoding: "+r);r=(r+"").toLowerCase(),i=!0}}o.prototype._isBuffer=!0;function W(r,e,t){const i=r[e];r[e]=r[t],r[t]=i}o.prototype.swap16=function(){const e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)W(this,t,t+1);return this},o.prototype.swap32=function(){const e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)W(this,t,t+3),W(this,t+1,t+2);return this},o.prototype.swap64=function(){const e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)W(this,t,t+7),W(this,t+1,t+6),W(this,t+2,t+5),W(this,t+3,t+4);return this},o.prototype.toString=function(){const e=this.length;return e===0?"":arguments.length===0?et(this,0,e):xe.apply(this,arguments)},o.prototype.toLocaleString=o.prototype.toString,o.prototype.equals=function(e){if(!o.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e?!0:o.compare(this,e)===0},o.prototype.inspect=function(){let e="";const t=l.INSPECT_MAX_BYTES;return e=this.toString("hex",0,t).replace(/(.{2})/g,"$1 ").trim(),this.length>t&&(e+=" ... "),"<Buffer "+e+">"},c&&(o.prototype[c]=o.prototype.inspect),o.prototype.compare=function(e,t,i,s,a){if(Ue(e,Uint8Array)&&(e=o.from(e,e.offset,e.byteLength)),!o.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(t===void 0&&(t=0),i===void 0&&(i=e?e.length:0),s===void 0&&(s=0),a===void 0&&(a=this.length),t<0||i>e.length||s<0||a>this.length)throw new RangeError("out of range index");if(s>=a&&t>=i)return 0;if(s>=a)return-1;if(t>=i)return 1;if(t>>>=0,i>>>=0,s>>>=0,a>>>=0,this===e)return 0;let f=a-s,T=i-t;const J=Math.min(f,T),z=this.slice(s,a),H=e.slice(t,i);for(let G=0;G<J;++G)if(z[G]!==H[G]){f=z[G],T=H[G];break}return f<T?-1:T<f?1:0};function A(r,e,t,i,s){if(r.length===0)return-1;if(typeof t=="string"?(i=t,t=0):t>2147483647?t=2147483647:t<-2147483648&&(t=-2147483648),t=+t,ht(t)&&(t=s?0:r.length-1),t<0&&(t=r.length+t),t>=r.length){if(s)return-1;t=r.length-1}else if(t<0)if(s)t=0;else return-1;if(typeof e=="string"&&(e=o.from(e,i)),o.isBuffer(e))return e.length===0?-1:V(r,e,t,i,s);if(typeof e=="number")return e=e&255,typeof Uint8Array.prototype.indexOf=="function"?s?Uint8Array.prototype.indexOf.call(r,e,t):Uint8Array.prototype.lastIndexOf.call(r,e,t):V(r,[e],t,i,s);throw new TypeError("val must be string, number or Buffer")}function V(r,e,t,i,s){let a=1,f=r.length,T=e.length;if(i!==void 0&&(i=String(i).toLowerCase(),i==="ucs2"||i==="ucs-2"||i==="utf16le"||i==="utf-16le")){if(r.length<2||e.length<2)return-1;a=2,f/=2,T/=2,t/=2}function J(H,G){return a===1?H[G]:H.readUInt16BE(G*a)}let z;if(s){let H=-1;for(z=t;z<f;z++)if(J(r,z)===J(e,H===-1?0:z-H)){if(H===-1&&(H=z),z-H+1===T)return H*a}else H!==-1&&(z-=z-H),H=-1}else for(t+T>f&&(t=f-T),z=t;z>=0;z--){let H=!0;for(let G=0;G<T;G++)if(J(r,z+G)!==J(e,G)){H=!1;break}if(H)return z}return-1}o.prototype.includes=function(e,t,i){return this.indexOf(e,t,i)!==-1},o.prototype.indexOf=function(e,t,i){return A(this,e,t,i,!0)},o.prototype.lastIndexOf=function(e,t,i){return A(this,e,t,i,!1)};function Z(r,e,t,i){t=Number(t)||0;const s=r.length-t;i?(i=Number(i),i>s&&(i=s)):i=s;const a=e.length;i>a/2&&(i=a/2);let f;for(f=0;f<i;++f){const T=parseInt(e.substr(f*2,2),16);if(ht(T))return f;r[t+f]=T}return f}function fe(r,e,t,i){return Qe(ct(e,r.length-t),r,t,i)}function ie(r,e,t,i){return Qe(ee(e),r,t,i)}function ge(r,e,t,i){return Qe(Ge(e),r,t,i)}function je(r,e,t,i){return Qe(F(e,r.length-t),r,t,i)}o.prototype.write=function(e,t,i,s){if(t===void 0)s="utf8",i=this.length,t=0;else if(i===void 0&&typeof t=="string")s=t,i=this.length,t=0;else if(isFinite(t))t=t>>>0,isFinite(i)?(i=i>>>0,s===void 0&&(s="utf8")):(s=i,i=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const a=this.length-t;if((i===void 0||i>a)&&(i=a),e.length>0&&(i<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");s||(s="utf8");let f=!1;for(;;)switch(s){case"hex":return Z(this,e,t,i);case"utf8":case"utf-8":return fe(this,e,t,i);case"ascii":case"latin1":case"binary":return ie(this,e,t,i);case"base64":return ge(this,e,t,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return je(this,e,t,i);default:if(f)throw new TypeError("Unknown encoding: "+s);s=(""+s).toLowerCase(),f=!0}},o.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function $e(r,e,t){return e===0&&t===r.length?n.fromByteArray(r):n.fromByteArray(r.slice(e,t))}function et(r,e,t){t=Math.min(r.length,t);const i=[];let s=e;for(;s<t;){const a=r[s];let f=null,T=a>239?4:a>223?3:a>191?2:1;if(s+T<=t){let J,z,H,G;switch(T){case 1:a<128&&(f=a);break;case 2:J=r[s+1],(J&192)===128&&(G=(a&31)<<6|J&63,G>127&&(f=G));break;case 3:J=r[s+1],z=r[s+2],(J&192)===128&&(z&192)===128&&(G=(a&15)<<12|(J&63)<<6|z&63,G>2047&&(G<55296||G>57343)&&(f=G));break;case 4:J=r[s+1],z=r[s+2],H=r[s+3],(J&192)===128&&(z&192)===128&&(H&192)===128&&(G=(a&15)<<18|(J&63)<<12|(z&63)<<6|H&63,G>65535&&G<1114112&&(f=G))}}f===null?(f=65533,T=1):f>65535&&(f-=65536,i.push(f>>>10&1023|55296),f=56320|f&1023),i.push(f),s+=T}return ot(i)}const Xe=4096;function ot(r){const e=r.length;if(e<=Xe)return String.fromCharCode.apply(String,r);let t="",i=0;for(;i<e;)t+=String.fromCharCode.apply(String,r.slice(i,i+=Xe));return t}function at(r,e,t){let i="";t=Math.min(r.length,t);for(let s=e;s<t;++s)i+=String.fromCharCode(r[s]&127);return i}function tt(r,e,t){let i="";t=Math.min(r.length,t);for(let s=e;s<t;++s)i+=String.fromCharCode(r[s]);return i}function ce(r,e,t){const i=r.length;(!e||e<0)&&(e=0),(!t||t<0||t>i)&&(t=i);let s="";for(let a=e;a<t;++a)s+=_t[r[a]];return s}function ke(r,e,t){const i=r.slice(e,t);let s="";for(let a=0;a<i.length-1;a+=2)s+=String.fromCharCode(i[a]+i[a+1]*256);return s}o.prototype.slice=function(e,t){const i=this.length;e=~~e,t=t===void 0?i:~~t,e<0?(e+=i,e<0&&(e=0)):e>i&&(e=i),t<0?(t+=i,t<0&&(t=0)):t>i&&(t=i),t<e&&(t=e);const s=this.subarray(e,t);return Object.setPrototypeOf(s,o.prototype),s};function U(r,e,t){if(r%1!==0||r<0)throw new RangeError("offset is not uint");if(r+e>t)throw new RangeError("Trying to access beyond buffer length")}o.prototype.readUintLE=o.prototype.readUIntLE=function(e,t,i){e=e>>>0,t=t>>>0,i||U(e,t,this.length);let s=this[e],a=1,f=0;for(;++f<t&&(a*=256);)s+=this[e+f]*a;return s},o.prototype.readUintBE=o.prototype.readUIntBE=function(e,t,i){e=e>>>0,t=t>>>0,i||U(e,t,this.length);let s=this[e+--t],a=1;for(;t>0&&(a*=256);)s+=this[e+--t]*a;return s},o.prototype.readUint8=o.prototype.readUInt8=function(e,t){return e=e>>>0,t||U(e,1,this.length),this[e]},o.prototype.readUint16LE=o.prototype.readUInt16LE=function(e,t){return e=e>>>0,t||U(e,2,this.length),this[e]|this[e+1]<<8},o.prototype.readUint16BE=o.prototype.readUInt16BE=function(e,t){return e=e>>>0,t||U(e,2,this.length),this[e]<<8|this[e+1]},o.prototype.readUint32LE=o.prototype.readUInt32LE=function(e,t){return e=e>>>0,t||U(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+this[e+3]*16777216},o.prototype.readUint32BE=o.prototype.readUInt32BE=function(e,t){return e=e>>>0,t||U(e,4,this.length),this[e]*16777216+(this[e+1]<<16|this[e+2]<<8|this[e+3])},o.prototype.readBigUInt64LE=Me(function(e){e=e>>>0,ze(e,"offset");const t=this[e],i=this[e+7];(t===void 0||i===void 0)&&Ke(e,this.length-8);const s=t+this[++e]*2**8+this[++e]*2**16+this[++e]*2**24,a=this[++e]+this[++e]*2**8+this[++e]*2**16+i*2**24;return BigInt(s)+(BigInt(a)<<BigInt(32))}),o.prototype.readBigUInt64BE=Me(function(e){e=e>>>0,ze(e,"offset");const t=this[e],i=this[e+7];(t===void 0||i===void 0)&&Ke(e,this.length-8);const s=t*2**24+this[++e]*2**16+this[++e]*2**8+this[++e],a=this[++e]*2**24+this[++e]*2**16+this[++e]*2**8+i;return(BigInt(s)<<BigInt(32))+BigInt(a)}),o.prototype.readIntLE=function(e,t,i){e=e>>>0,t=t>>>0,i||U(e,t,this.length);let s=this[e],a=1,f=0;for(;++f<t&&(a*=256);)s+=this[e+f]*a;return a*=128,s>=a&&(s-=Math.pow(2,8*t)),s},o.prototype.readIntBE=function(e,t,i){e=e>>>0,t=t>>>0,i||U(e,t,this.length);let s=t,a=1,f=this[e+--s];for(;s>0&&(a*=256);)f+=this[e+--s]*a;return a*=128,f>=a&&(f-=Math.pow(2,8*t)),f},o.prototype.readInt8=function(e,t){return e=e>>>0,t||U(e,1,this.length),this[e]&128?(255-this[e]+1)*-1:this[e]},o.prototype.readInt16LE=function(e,t){e=e>>>0,t||U(e,2,this.length);const i=this[e]|this[e+1]<<8;return i&32768?i|4294901760:i},o.prototype.readInt16BE=function(e,t){e=e>>>0,t||U(e,2,this.length);const i=this[e+1]|this[e]<<8;return i&32768?i|4294901760:i},o.prototype.readInt32LE=function(e,t){return e=e>>>0,t||U(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},o.prototype.readInt32BE=function(e,t){return e=e>>>0,t||U(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},o.prototype.readBigInt64LE=Me(function(e){e=e>>>0,ze(e,"offset");const t=this[e],i=this[e+7];(t===void 0||i===void 0)&&Ke(e,this.length-8);const s=this[e+4]+this[e+5]*2**8+this[e+6]*2**16+(i<<24);return(BigInt(s)<<BigInt(32))+BigInt(t+this[++e]*2**8+this[++e]*2**16+this[++e]*2**24)}),o.prototype.readBigInt64BE=Me(function(e){e=e>>>0,ze(e,"offset");const t=this[e],i=this[e+7];(t===void 0||i===void 0)&&Ke(e,this.length-8);const s=(t<<24)+this[++e]*2**16+this[++e]*2**8+this[++e];return(BigInt(s)<<BigInt(32))+BigInt(this[++e]*2**24+this[++e]*2**16+this[++e]*2**8+i)}),o.prototype.readFloatLE=function(e,t){return e=e>>>0,t||U(e,4,this.length),h.read(this,e,!0,23,4)},o.prototype.readFloatBE=function(e,t){return e=e>>>0,t||U(e,4,this.length),h.read(this,e,!1,23,4)},o.prototype.readDoubleLE=function(e,t){return e=e>>>0,t||U(e,8,this.length),h.read(this,e,!0,52,8)},o.prototype.readDoubleBE=function(e,t){return e=e>>>0,t||U(e,8,this.length),h.read(this,e,!1,52,8)};function K(r,e,t,i,s,a){if(!o.isBuffer(r))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>s||e<a)throw new RangeError('"value" argument is out of bounds');if(t+i>r.length)throw new RangeError("Index out of range")}o.prototype.writeUintLE=o.prototype.writeUIntLE=function(e,t,i,s){if(e=+e,t=t>>>0,i=i>>>0,!s){const T=Math.pow(2,8*i)-1;K(this,e,t,i,T,0)}let a=1,f=0;for(this[t]=e&255;++f<i&&(a*=256);)this[t+f]=e/a&255;return t+i},o.prototype.writeUintBE=o.prototype.writeUIntBE=function(e,t,i,s){if(e=+e,t=t>>>0,i=i>>>0,!s){const T=Math.pow(2,8*i)-1;K(this,e,t,i,T,0)}let a=i-1,f=1;for(this[t+a]=e&255;--a>=0&&(f*=256);)this[t+a]=e/f&255;return t+i},o.prototype.writeUint8=o.prototype.writeUInt8=function(e,t,i){return e=+e,t=t>>>0,i||K(this,e,t,1,255,0),this[t]=e&255,t+1},o.prototype.writeUint16LE=o.prototype.writeUInt16LE=function(e,t,i){return e=+e,t=t>>>0,i||K(this,e,t,2,65535,0),this[t]=e&255,this[t+1]=e>>>8,t+2},o.prototype.writeUint16BE=o.prototype.writeUInt16BE=function(e,t,i){return e=+e,t=t>>>0,i||K(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=e&255,t+2},o.prototype.writeUint32LE=o.prototype.writeUInt32LE=function(e,t,i){return e=+e,t=t>>>0,i||K(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=e&255,t+4},o.prototype.writeUint32BE=o.prototype.writeUInt32BE=function(e,t,i){return e=+e,t=t>>>0,i||K(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=e&255,t+4};function rt(r,e,t,i,s){ft(e,i,s,r,t,7);let a=Number(e&BigInt(4294967295));r[t++]=a,a=a>>8,r[t++]=a,a=a>>8,r[t++]=a,a=a>>8,r[t++]=a;let f=Number(e>>BigInt(32)&BigInt(4294967295));return r[t++]=f,f=f>>8,r[t++]=f,f=f>>8,r[t++]=f,f=f>>8,r[t++]=f,t}function mt(r,e,t,i,s){ft(e,i,s,r,t,7);let a=Number(e&BigInt(4294967295));r[t+7]=a,a=a>>8,r[t+6]=a,a=a>>8,r[t+5]=a,a=a>>8,r[t+4]=a;let f=Number(e>>BigInt(32)&BigInt(4294967295));return r[t+3]=f,f=f>>8,r[t+2]=f,f=f>>8,r[t+1]=f,f=f>>8,r[t]=f,t+8}o.prototype.writeBigUInt64LE=Me(function(e,t=0){return rt(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))}),o.prototype.writeBigUInt64BE=Me(function(e,t=0){return mt(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))}),o.prototype.writeIntLE=function(e,t,i,s){if(e=+e,t=t>>>0,!s){const J=Math.pow(2,8*i-1);K(this,e,t,i,J-1,-J)}let a=0,f=1,T=0;for(this[t]=e&255;++a<i&&(f*=256);)e<0&&T===0&&this[t+a-1]!==0&&(T=1),this[t+a]=(e/f>>0)-T&255;return t+i},o.prototype.writeIntBE=function(e,t,i,s){if(e=+e,t=t>>>0,!s){const J=Math.pow(2,8*i-1);K(this,e,t,i,J-1,-J)}let a=i-1,f=1,T=0;for(this[t+a]=e&255;--a>=0&&(f*=256);)e<0&&T===0&&this[t+a+1]!==0&&(T=1),this[t+a]=(e/f>>0)-T&255;return t+i},o.prototype.writeInt8=function(e,t,i){return e=+e,t=t>>>0,i||K(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=e&255,t+1},o.prototype.writeInt16LE=function(e,t,i){return e=+e,t=t>>>0,i||K(this,e,t,2,32767,-32768),this[t]=e&255,this[t+1]=e>>>8,t+2},o.prototype.writeInt16BE=function(e,t,i){return e=+e,t=t>>>0,i||K(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=e&255,t+2},o.prototype.writeInt32LE=function(e,t,i){return e=+e,t=t>>>0,i||K(this,e,t,4,2147483647,-2147483648),this[t]=e&255,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},o.prototype.writeInt32BE=function(e,t,i){return e=+e,t=t>>>0,i||K(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=e&255,t+4},o.prototype.writeBigInt64LE=Me(function(e,t=0){return rt(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),o.prototype.writeBigInt64BE=Me(function(e,t=0){return mt(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Ze(r,e,t,i,s,a){if(t+i>r.length)throw new RangeError("Index out of range");if(t<0)throw new RangeError("Index out of range")}function Le(r,e,t,i,s){return e=+e,t=t>>>0,s||Ze(r,e,t,4),h.write(r,e,t,i,23,4),t+4}o.prototype.writeFloatLE=function(e,t,i){return Le(this,e,t,!0,i)},o.prototype.writeFloatBE=function(e,t,i){return Le(this,e,t,!1,i)};function me(r,e,t,i,s){return e=+e,t=t>>>0,s||Ze(r,e,t,8),h.write(r,e,t,i,52,8),t+8}o.prototype.writeDoubleLE=function(e,t,i){return me(this,e,t,!0,i)},o.prototype.writeDoubleBE=function(e,t,i){return me(this,e,t,!1,i)},o.prototype.copy=function(e,t,i,s){if(!o.isBuffer(e))throw new TypeError("argument should be a Buffer");if(i||(i=0),!s&&s!==0&&(s=this.length),t>=e.length&&(t=e.length),t||(t=0),s>0&&s<i&&(s=i),s===i||e.length===0||this.length===0)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(i<0||i>=this.length)throw new RangeError("Index out of range");if(s<0)throw new RangeError("sourceEnd out of bounds");s>this.length&&(s=this.length),e.length-t<s-i&&(s=e.length-t+i);const a=s-i;return this===e&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(t,i,s):Uint8Array.prototype.set.call(e,this.subarray(i,s),t),a},o.prototype.fill=function(e,t,i,s){if(typeof e=="string"){if(typeof t=="string"?(s=t,t=0,i=this.length):typeof i=="string"&&(s=i,i=this.length),s!==void 0&&typeof s!="string")throw new TypeError("encoding must be a string");if(typeof s=="string"&&!o.isEncoding(s))throw new TypeError("Unknown encoding: "+s);if(e.length===1){const f=e.charCodeAt(0);(s==="utf8"&&f<128||s==="latin1")&&(e=f)}}else typeof e=="number"?e=e&255:typeof e=="boolean"&&(e=Number(e));if(t<0||this.length<t||this.length<i)throw new RangeError("Out of range index");if(i<=t)return this;t=t>>>0,i=i===void 0?this.length:i>>>0,e||(e=0);let a;if(typeof e=="number")for(a=t;a<i;++a)this[a]=e;else{const f=o.isBuffer(e)?e:o.from(e,s),T=f.length;if(T===0)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(a=0;a<i-t;++a)this[a+t]=f[a%T]}return this};const Ce={};function ut(r,e,t){Ce[r]=class extends t{constructor(){super(),Object.defineProperty(this,"message",{value:e.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${r}]`,this.stack,delete this.name}get code(){return r}set code(s){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:s,writable:!0})}toString(){return`${this.name} [${r}]: ${this.message}`}}}ut("ERR_BUFFER_OUT_OF_BOUNDS",function(r){return r?`${r} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),ut("ERR_INVALID_ARG_TYPE",function(r,e){return`The "${r}" argument must be of type number. Received type ${typeof e}`},TypeError),ut("ERR_OUT_OF_RANGE",function(r,e,t){let i=`The value of "${r}" is out of range.`,s=t;return Number.isInteger(t)&&Math.abs(t)>2**32?s=nt(String(t)):typeof t=="bigint"&&(s=String(t),(t>BigInt(2)**BigInt(32)||t<-(BigInt(2)**BigInt(32)))&&(s=nt(s)),s+="n"),i+=` It must be ${e}. Received ${s}`,i},RangeError);function nt(r){let e="",t=r.length;const i=r[0]==="-"?1:0;for(;t>=i+4;t-=3)e=`_${r.slice(t-3,t)}${e}`;return`${r.slice(0,t)}${e}`}function It(r,e,t){ze(e,"offset"),(r[e]===void 0||r[e+t]===void 0)&&Ke(e,r.length-(t+1))}function ft(r,e,t,i,s,a){if(r>t||r<e){const f=typeof e=="bigint"?"n":"";let T;throw e===0||e===BigInt(0)?T=`>= 0${f} and < 2${f} ** ${(a+1)*8}${f}`:T=`>= -(2${f} ** ${(a+1)*8-1}${f}) and < 2 ** ${(a+1)*8-1}${f}`,new Ce.ERR_OUT_OF_RANGE("value",T,r)}It(i,s,a)}function ze(r,e){if(typeof r!="number")throw new Ce.ERR_INVALID_ARG_TYPE(e,"number",r)}function Ke(r,e,t){throw Math.floor(r)!==r?(ze(r,t),new Ce.ERR_OUT_OF_RANGE("offset","an integer",r)):e<0?new Ce.ERR_BUFFER_OUT_OF_BOUNDS:new Ce.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${e}`,r)}const yt=/[^+/0-9A-Za-z-_]/g;function Be(r){if(r=r.split("=")[0],r=r.trim().replace(yt,""),r.length<2)return"";for(;r.length%4!==0;)r=r+"=";return r}function ct(r,e){e=e||1/0;let t;const i=r.length;let s=null;const a=[];for(let f=0;f<i;++f){if(t=r.charCodeAt(f),t>55295&&t<57344){if(!s){if(t>56319){(e-=3)>-1&&a.push(239,191,189);continue}else if(f+1===i){(e-=3)>-1&&a.push(239,191,189);continue}s=t;continue}if(t<56320){(e-=3)>-1&&a.push(239,191,189),s=t;continue}t=(s-55296<<10|t-56320)+65536}else s&&(e-=3)>-1&&a.push(239,191,189);if(s=null,t<128){if((e-=1)<0)break;a.push(t)}else if(t<2048){if((e-=2)<0)break;a.push(t>>6|192,t&63|128)}else if(t<65536){if((e-=3)<0)break;a.push(t>>12|224,t>>6&63|128,t&63|128)}else if(t<1114112){if((e-=4)<0)break;a.push(t>>18|240,t>>12&63|128,t>>6&63|128,t&63|128)}else throw new Error("Invalid code point")}return a}function ee(r){const e=[];for(let t=0;t<r.length;++t)e.push(r.charCodeAt(t)&255);return e}function F(r,e){let t,i,s;const a=[];for(let f=0;f<r.length&&!((e-=2)<0);++f)t=r.charCodeAt(f),i=t>>8,s=t%256,a.push(s),a.push(i);return a}function Ge(r){return n.toByteArray(Be(r))}function Qe(r,e,t,i){let s;for(s=0;s<i&&!(s+t>=e.length||s>=r.length);++s)e[s+t]=r[s];return s}function Ue(r,e){return r instanceof e||r!=null&&r.constructor!=null&&r.constructor.name!=null&&r.constructor.name===e.name}function ht(r){return r!==r}const _t=function(){const r="0123456789abcdef",e=new Array(256);for(let t=0;t<16;++t){const i=t*16;for(let s=0;s<16;++s)e[i+s]=r[t]+r[s]}return e}();function Me(r){return typeof BigInt>"u"?Ut:r}function Ut(){throw new Error("BigInt not supported")}}(Tt)),Tt}var Se=Tr(),Nr=["ja","en","fr","it","de","es","ru","pl","nl","pt","pt-br","ko","zh-tw","zh-cn","fi","sv","da","no","cs","hu","sk","ar","tr","bg","el","ro","th","uk","vi","id","fiction","hi","es-mx","max"],kr=class{#t;#e=0;#r=!0;constructor(l=0){this.#t=Se.Buffer.alloc(l)}get currentOffset(){return this.#e}get currentSize(){return this.#t.length}get buffer(){let l=Se.Buffer.alloc(this.#t.length);return this.#t.copy(l),l}endianness(l){this.#r=l==="little"}grow(l){this.#t=Se.Buffer.concat([this.#t,Se.Buffer.alloc(l)])}growIfNeeded(l){this.#e+l>this.#t.length&&this.grow(this.#e+l-this.#t.length)}seek(l){let n=this.#e;return this.growIfNeeded(l),this.#e+=l,n}goto(l){let n=this.#e;return this.growIfNeeded(this.currentOffset-l),this.#e=l,n}alignTo(l){let n=this.#e%l;n!==0&&(this.growIfNeeded(l-n),this.#e+=l-n)}#n=(l,n,h)=>(c,d)=>{(d?.into==null||d.into+l>this.#t.length)&&this.growIfNeeded(l),this.#t[!this.#r&&h!=null?h:n](c,d?.into??this.#e,l),d?.into==null&&(this.#e+=l)};setInt8=this.#n(1,"writeInt8");setUint8=this.#n(1,"writeUInt8");setInt16=this.#n(2,"writeInt16LE","writeInt16BE");setUint16=this.#n(2,"writeUInt16LE","writeUInt16BE");setInt32=this.#n(4,"writeInt32LE","writeInt32BE");setUint32=this.#n(4,"writeUInt32LE","writeUInt32BE");setInt64=this.#n(8,"writeBigInt64LE","writeBigInt64BE");setUint64=this.#n(8,"writeBigUInt64LE","writeBigUInt64BE");setFloat=this.#n(4,"writeFloatLE","writeFloatBE");setDouble=this.#n(8,"writeDoubleLE","writeDoubleBE");setString(l,n){this.growIfNeeded(l.length),this.#t.write(l,n?.into??this.#e,"utf8"),n?.into==null&&(this.#e+=l.length)}setBuffer(l,n){this.growIfNeeded(l.length),l.copy(this.#t,n?.into??this.#e),n?.into==null&&(this.#e+=l.length)}},Lr=class{#t;#e=0;#r=!0;constructor(l){this.#t=l}get currentOffset(){return this.#e}endianness(l){this.#r=l==="little"}seek(l){let n=this.#e;return this.#e+=l,n}goto(l){let n=this.#e;return this.#e=l,n}alignTo(l){this.#e+=this.#e%l}readInt8(l){let n=new DataView(this.#t.buffer,l?.pointer??this.#e,1);return l?.pointer==null&&(this.#e+=1),n.getInt8(0)}readUint8(l){let n=new DataView(this.#t.buffer,l?.pointer??this.#e,1);return l?.pointer==null&&(this.#e+=1),n.getUint8(0)}readInt16(l){let n=new DataView(this.#t.buffer,l?.pointer??this.#e,2);return l?.pointer==null&&(this.#e+=2),n.getInt16(0,this.#r)}readUint16(l){let n=new DataView(this.#t.buffer,l?.pointer??this.#e,2);return l?.pointer==null&&(this.#e+=2),n.getUint16(0,this.#r)}readInt32(l){let n=new DataView(this.#t.buffer,l?.pointer??this.#e,4);return l?.pointer==null&&(this.#e+=4),n.getInt32(0,this.#r)}readUint32(l){let n=new DataView(this.#t.buffer,l?.pointer??this.#e,4);return l?.pointer==null&&(this.#e+=4),n.getUint32(0,this.#r)}readInt64(l){let n=new DataView(this.#t.buffer,l?.pointer??this.#e,8);return l?.pointer==null&&(this.#e+=8),n.getBigInt64(0,this.#r)}readUint64(l){let n=new DataView(this.#t.buffer,l?.pointer??this.#e,8);return l?.pointer==null&&(this.#e+=8),n.getBigUint64(0,this.#r)}readFloat(l){let n=new DataView(this.#t.buffer,l?.pointer??this.#e,4);return l?.pointer==null&&(this.#e+=4),n.getFloat32(0,this.#r)}readDouble(l){let n=new DataView(this.#t.buffer,l?.pointer??this.#e,8);return l?.pointer==null&&(this.#e+=8),n.getFloat64(0,this.#r)}readBuffer(l){let n=this.#t.subarray(this.#e,this.#e+l.length);return l.pointer==null&&(this.#e+=l.length),n}readString(l){let n;if("length"in l&&(n=this.readBuffer(l)),"zeroed"in l){let h=new DataView(this.#t.buffer,this.#e),c=0;for(;h.getUint8(this.#e+c)!==0;)c++;n=this.#t.subarray(0,c),this.#e+=c}return new TextDecoder().decode(n)}},sr=[207,206,251,248,236,10,51,102,147,169,29,147,80,57,95,9],Mr=l=>{let n=Se.Buffer.from(l),h=0;for(let c=0;c<n.length;c++){let d=n[c];n[c]=d^h^sr[c&15],h=d}return n},Dr=l=>{let n=Se.Buffer.from(l),h=0;for(let c=0;c<n.length;c++){let d=n[c];n[c]=d^h^sr[c&15],h=n[c]}return n},Rr=l=>{let n=l.toString("hex");return[n.slice(6,8)+n.slice(4,6)+n.slice(2,4)+n.slice(0,2),n.slice(10,12)+n.slice(8,10),n.slice(14,16)+n.slice(12,14),n.slice(16,18)+n.slice(18,20),n.slice(20,32)].join("-")},jr=l=>{let n=l.replaceAll("-","");return Se.Buffer.from([n.slice(6,8)+n.slice(4,6)+n.slice(2,4)+n.slice(0,2),n.slice(10,12)+n.slice(8,10),n.slice(14,16)+n.slice(12,14),n.slice(16,18)+n.slice(18,20),n.slice(20,32)].join(""),"hex")},Pr=(l,n)=>{if(l.length===0)return new Map;let h=l.toString("utf16le");if(h.at(-1)!=="\0")throw new Error("String is not null-terminated");let c=new Map,d=0;for(let m=0;m<h.length;m++)h[m]==="\0"&&(c.set(n+d*2,h.slice(d,m)),d=m+1);return c},Vr=(l,n)=>{let h=0,c=new Map,d=I=>{if(c.has(I))return c.get("str");let x=n+h;return c.set(I,x),h+=I.length*2+2,x},m=[],g=[];for(let I=0;I<l.meta.attributes.length;I++){let x=l.meta.attributes[I];x.type===-1?(d(""),m.push(I)):x.type===2&&(d(x.name),g.push(I))}for(let I=0;I<l.meta.attributes.length;I++){let x=l.meta.attributes[I];d(x.name)}for(let I of l.entries){d(I.name);for(let x of Object.values(I.strings))d(x);for(let x of g)d(I.attributes[x])}let o=Se.Buffer.alloc(0);for(let I of c.keys()){let x=Se.Buffer.from(`${I}\0`,"utf16le");o=Se.Buffer.concat([o,x])}return{map:c,nullAttributes:m,stringAttributes:g,data:o}},qr=l=>({version:l.readUint32(),magic:l.readString({length:4}),headerOffset:l.readUint64(),entryCount:l.readUint32(),attributeCount:l.readUint32(),langCount:l.readUint32(),_:l.alignTo(8),dataOffset:l.readUint64(),_2:l.seek(8),langOffset:l.readUint64(),attributesOffset:l.readUint64(),attributeNamesOffset:l.readUint64()}),er=l=>{let n=new Lr(l),h=qr(n),c=[];if(h.magic!=="GMSG")throw new Error(`Invalid magic: ${h.magic}`);if(h.version!==539100710&&h.version!==23)throw new Error(`Uknkown version: ${h.version}`);let d=[];for(let o=0;o<h.entryCount;o++)d.push(n.readUint64());n.seek(8);let m=[];for(let o=0;o<h.langCount;o++)m.push(Nr[n.readInt32()]??"unknown");if(n.alignTo(8),Number(h.attributesOffset)!==n.currentOffset)throw new Error(`Attributes offset mismatch: ${h.attributesOffset} != ${n.currentOffset}`);let g=[];for(let o=0;o<h.attributeCount;o++)g.push({type:n.readInt32(),nameOffset:null,name:null});if(n.alignTo(8),Number(h.attributeNamesOffset)!==n.currentOffset)throw new Error(`Attribute names offset mismatch: ${h.attributeNamesOffset} != ${n.currentOffset}`);for(let o=0;o<h.attributeCount;o++)g[o].nameOffset=n.readUint64();if(h.entryCount!==0){for(let x=0;x<h.entryCount;x++){if(Number(d[x])!==n.currentOffset)throw new Error(`Entry header offset mismatch: $${n.currentOffset} != entry:${x}:${d[x]}`);let w={id:Rr(n.readBuffer({length:16})),crc:n.readUint32(),hash:n.readUint32(),nameOffset:n.readUint64(),attributesOffset:n.readUint64(),contentOffsetsByLang:[]};for(let v=0;v<h.langCount;v++)w.contentOffsetsByLang.push(n.readUint64());c.push({header:w})}for(let x=0;x<h.entryCount;x++){let w=c[x];if(Number(w.header.attributesOffset)!==n.currentOffset)throw new Error(`Entry header attributes offset mismatch: $${n.currentOffset} != entry:${x}:${w.header.attributesOffset}`);w.attributes=[];for(let v=0;v<g.length;v++){let N=g[v];switch(N.type){case-1:w.attributes[v]=Number(n.readUint64());break;case 0:w.attributes[v]=n.readUint32(),n.seek(4);break;case 1:w.attributes[v]=n.readDouble();break;case 2:w.attributes[v]=Number(n.readUint64());break;default:throw new Error(`Not implemented attribute type ${N.type}`)}}}if(Number(h.dataOffset)!==n.currentOffset)throw new Error(`Data offset mismatch: $${h.dataOffset} != ${n.currentOffset}`);let o=Mr(l.subarray(n.currentOffset)),I=Pr(o,n.currentOffset);for(let x=0;x<g.length;x++){let w=g[x];w.name=I.get(Number(w.nameOffset))}for(let x=0;x<c.length;x++){let w=c[x];for(let v=0;v<h.attributeCount;v++)switch(g[v].type){case 2:w.attributes[v]=I.get(w.attributes[v]);break;case-1:if(w.attributes[v]=I.get(w.attributes[v]),w.attributes[v]!==""&&w.attributes[v]!=="\0")throw new Error(`Attribute with type -1 is not empty string: "${w.attributes[v]}"`);break}}for(let x=0;x<c.length;x++){let w=c[x];w.name=I.get(Number(w.header.nameOffset)),w.strings={};for(let v=0;v<w.header.contentOffsetsByLang.length;v++){let N=Number(w.header.contentOffsetsByLang[v]);w.strings[m[v]]=I.get(N)}}}return{meta:{version:h.version,attributes:g.map(o=>({type:o.type,name:o.name}))},entries:c.map(o=>({meta:{id:o.header.id,crc:o.header.crc,hash:o.header.hash},name:o.name,attributes:o.attributes,strings:o.strings}))}},zr=l=>{if(l.meta.version!==539100710&&l.meta.version!==23)throw new Error(`Unsupported version ${l.meta.version}`);let n=new kr;n.setUint32(l.meta.version),n.setString("GMSG"),n.setUint64(16n),n.setUint32(l.entries.length),n.setUint32(l.meta.attributes.length);let h=l.entries[0]!=null?Object.keys(l.entries[0].strings).length:0;n.setUint32(h),n.alignTo(8);let c=n.currentOffset;n.setInt64(-1n);let d=n.currentOffset;n.setInt64(-1n);let m=n.currentOffset;n.setInt64(-1n);let g=n.currentOffset;n.setInt64(-1n);let o=n.currentOffset;n.setInt64(-1n);let I=[];for(let B=0;B<l.entries.length;B++)I.push(n.currentOffset),n.setInt64(-1n);n.setUint64(BigInt(n.currentOffset),{into:d}),n.setUint64(0n),n.setUint64(BigInt(n.currentOffset),{into:m});for(let B=0;B<h;B++)n.setInt32(B);n.alignTo(8),n.setUint64(BigInt(n.currentOffset),{into:g});for(let B of l.meta.attributes)n.setInt32(B.type);n.alignTo(8),n.setUint64(BigInt(n.currentOffset),{into:o});let x=[];for(let B of l.meta.attributes)x.push(n.currentOffset),n.setInt64(-1n);let w=[];for(let B=0;B<l.entries.length;B++){n.setUint64(BigInt(n.currentOffset),{into:I[B]});let k=l.entries[B];n.setBuffer(jr(k.meta.id)),n.setUint32(k.meta.crc),n.setUint32(k.meta.hash),w[B]??={},w[B].name=n.currentOffset,n.setInt64(-1n),w[B].attributes=n.currentOffset,n.setInt64(-1n),w[B].langs=[];for(let C=0;C<h;C++)w[B].langs[C]=n.currentOffset,n.setInt64(-1n);w[B].attributeValues=[]}for(let B=0;B<l.entries.length;B++){let k=l.entries[B];n.setUint64(BigInt(n.currentOffset),{into:w[B].attributes});for(let C=0;C<l.meta.attributes.length;C++){switch(l.meta.attributes[C].type){case-1:n.setInt64(-1n);break;case 0:n.setInt32(k.attributes[C]);break;case 1:n.setDouble(k.attributes[C]);break;case 2:n.setInt64(-1n);break}w[B].attributeValues[C]=n.currentOffset}}let v=n.currentOffset;n.setUint64(BigInt(v),{into:c});let{data:N,map:b,nullAttributes:_,stringAttributes:S}=Vr(l,v),D=Dr(N);n.setBuffer(D);for(let B=0;B<l.meta.attributes.length;B++){let{name:k}=l.meta.attributes[B],C=x[B];n.setUint64(BigInt(b.get(k)),{into:C})}for(let B=0;B<l.entries.length;B++){let k=l.entries[B],C=w[B];n.setUint64(BigInt(b.get(k.name)),{into:C.name});let xe=Object.values(k.strings);for(let A=0;A<xe.length;A++){let V=xe[A];n.setUint64(BigInt(b.get(V)),{into:C.langs[A]})}for(let A of S){let V=k.attributes[A];n.setUint64(BigInt(b.get(V)),{into:C.attributeValues[A]})}let W=b.get("");for(let A of _)n.setUint64(BigInt(W),{into:C.attributeValues[A]})}return n.buffer},Gr=ue('<div class="svelte-66wdl1"></div>');function Wr(l,n){let h=y(n,"color",24,()=>"cornflowerblue"),c=y(n,"duration",24,()=>"1.5s"),d=y(n,"size",24,()=>"1em");var m=Gr();se(()=>{$(m,"style",`--duration: ${c()??""}`),gt(m,"border-color",`${h()??""} transparent ${h()??""}
  ${h()??""}`),gt(m,"width",d()),gt(m,"height",d())}),P(l,m)}var Jr=ue("<span><!></span>");function Hr(l,n){vt(n,!1);const[h,c]=wr(),d=()=>br(_,"$store",h);let m=y(n,"wiggle",12,!1),g=y(n,"angle",8,0),o=y(n,"scale",8,1),I=y(n,"dx",8,0),x=y(n,"dy",8,0),w=y(n,"duration",8,200),v=y(n,"stiffness",8,.05),N=y(n,"damping",8,.1),b={angle:0,scale:1,dx:0,dy:0},_=yr(b,{stiffness:v(),damping:N()});Ye(()=>(ne(m()),ne(w())),()=>{m()&&setTimeout(()=>m(!1),w())}),Ye(()=>(ne(m()),ne(o()),ne(g()),ne(I()),ne(x())),()=>{_.set(m()?{scale:o(),angle:g(),dx:I(),dy:x()}:b)}),nr(),ir();var S=Jr(),D=oe(S);Ae(D,n,"default",{},null),se(()=>gt(S,"transform",`rotate(${d().angle??""}deg) scale(${d().scale??""}) translate(${d().dx??""}px,
  ${d().dy??""}px)`)),P(l,S),Et(),c()}var Yr=Lt('<svg><path d="M3.646 9.146a.5.5 0 0 1 .708 0L8 12.793l3.646-3.647a.5.5 0 0 1 .708.708l-4 4a.5.5 0 0 1-.708 0l-4-4a.5.5 0 0 1 0-.708zm0-2.292a.5.5 0 0 0 .708 0L8 3.207l3.646 3.647a.5.5 0 0 0 .708-.708l-4-4a.5.5 0 0 0-.708 0l-4 4a.5.5 0 0 0 0 .708z"></path></svg>');function Xr(l,n){const h=kt(n,["children","$$slots","$$events","$$legacy"]);var c=Yr();let d;se(()=>d=Mt(c,d,{...h,fill:"currentColor",viewBox:"0 0 16 16"},void 0,!0)),P(l,c)}var Zr=Lt('<svg><path d="M18.3 5.71a.996.996 0 0 0-1.41 0L12 10.59L7.11 5.7A.996.996 0 1 0 5.7 7.11L10.59 12L5.7 16.89a.996.996 0 1 0 1.41 1.41L12 13.41l4.89 4.89a.996.996 0 1 0 1.41-1.41L13.41 12l4.89-4.89c.38-.38.38-1.02 0-1.4z"></path></svg>');function tr(l,n){const h=kt(n,["children","$$slots","$$events","$$legacy"]);var c=Zr();let d;se(()=>d=Mt(c,d,{...h,viewBox:"0 0 24 24",fill:"currentColor"},void 0,!0)),P(l,c)}var Kr=Lt('<svg><path d="M12 22c5.523 0 10-4.477 10-10S17.523 2 12 2S2 6.477 2 12s4.477 10 10 10Zm-4.906-3.68L18.32 7.094A8 8 0 0 1 7.094 18.32ZM5.68 16.906A8 8 0 0 1 16.906 5.68L5.68 16.906Z"></path></svg>');function Qr(l,n){const h=kt(n,["children","$$slots","$$events","$$legacy"]);var c=Kr();let d;se(()=>d=Mt(c,d,{...h,viewBox:"0 0 24 24",fill:"currentColor"},void 0,!0)),P(l,c)}const _e=l=>l instanceof Object?(l.label===void 0&&console.error(`MultiSelect option ${JSON.stringify(l)} is an object but has no label key`),l.label):`${l}`;function rr(l,n=null){let h="";if(["selected","option",null].includes(n)||console.error(`MultiSelect: Invalid key=${n} for get_style`),typeof l=="object"&&l.style&&(typeof l.style=="string"&&(h=l.style),typeof l.style=="object")){if(n&&n in l.style)return l.style[n]??"";console.error(`Invalid style object for option=${JSON.stringify(l)}`)}return h.trim()&&!h.trim().endsWith(";")&&(h+=";"),h}var $r=ue('<button type="button" class="remove svelte-1r2hsto"><!></button>'),en=ue('<li role="option" aria-selected="true"><!> <!></li>'),tn=ue("<span> </span>"),rn=ue('<button type="button" class="remove remove-all svelte-1r2hsto"><!></button>'),nn=ue("<!> <!>",1),ln=ue('<li role="option" aria-selected="false"><!></li>'),sn=ue('<li role="option" aria-selected="false"><!></li>'),on=ue('<ul role="listbox"><!> <!></ul>'),an=ue('<div role="searchbox" tabindex="-1"><input tabindex="-1" aria-hidden="true" aria-label="ignore this, used only to prevent form submission if select is required but empty" class="form-control svelte-1r2hsto"> <!> <ul aria-label="selected options"><!> <input> <!></ul> <!> <!> <!></div>');function un(l,n){vt(n,!1);const h=st();let c=y(n,"activeIndex",12,null),d=y(n,"activeOption",12,null),m=y(n,"createOptionMsg",24,()=>"Create this option..."),g=y(n,"allowUserOptions",8,!1),o=y(n,"allowEmpty",8,!1),I=y(n,"autocomplete",24,()=>"off"),x=y(n,"autoScroll",8,!0),w=y(n,"breakpoint",8,800),v=y(n,"defaultDisabledTitle",24,()=>"This option is disabled"),N=y(n,"disabled",8,!1),b=y(n,"disabledInputTitle",24,()=>"This input is disabled"),_=y(n,"duplicateOptionMsg",24,()=>"This option is already selected"),S=y(n,"duplicates",8,!1),D=y(n,"key",8,u=>`${_e(u)}`.toLowerCase()),B=y(n,"filterFunc",8,(u,E)=>E?`${_e(u)}`.toLowerCase().includes(E.toLowerCase()):!0),k=y(n,"closeDropdownOnSelect",24,()=>"desktop"),C=y(n,"form_input",12,null),xe=y(n,"highlightMatches",8,!0),W=y(n,"id",8,null),A=y(n,"input",12,null),V=y(n,"inputClass",24,()=>""),Z=y(n,"inputStyle",8,null),fe=y(n,"inputmode",8,null),ie=y(n,"invalid",12,!1),ge=y(n,"liActiveOptionClass",24,()=>""),je=y(n,"liActiveUserMsgClass",24,()=>""),$e=y(n,"liOptionClass",24,()=>""),et=y(n,"liOptionStyle",8,null),Xe=y(n,"liSelectedClass",24,()=>""),ot=y(n,"liSelectedStyle",8,null),at=y(n,"liUserMsgClass",24,()=>""),tt=y(n,"loading",8,!1),ce=y(n,"matchingOptions",28,()=>[]),ke=y(n,"maxOptions",8,void 0),U=y(n,"maxSelect",8,null),K=y(n,"maxSelectMsg",8,(u,E)=>E>1?`${u}/${E}`:""),rt=y(n,"maxSelectMsgClass",24,()=>""),mt=y(n,"name",8,null),Ze=y(n,"noMatchingOptionsMsg",24,()=>"No matching options"),Le=y(n,"open",12,!1),me=y(n,"options",12),Ce=y(n,"outerDiv",12,null),ut=y(n,"outerDivClass",24,()=>""),nt=y(n,"parseLabelsAsHtml",8,!1),It=y(n,"pattern",8,null),ft=y(n,"placeholder",8,null),ze=y(n,"removeAllTitle",24,()=>"Remove all"),Ke=y(n,"removeBtnTitle",24,()=>"Remove"),yt=y(n,"minSelect",8,null),Be=y(n,"required",8,!1),ct=y(n,"resetFilterOnAdd",8,!0),ee=y(n,"searchText",28,()=>""),F=y(n,"selected",28,()=>me()?.filter(u=>u instanceof Object&&u?.preselected).slice(0,U()??void 0)??[]),Ge=y(n,"sortSelected",8,!1),Qe=y(n,"selectedOptionsDraggable",24,()=>!Ge()),Ue=y(n,"style",8,null),ht=y(n,"ulOptionsClass",24,()=>""),_t=y(n,"ulSelectedClass",24,()=>""),Me=y(n,"ulSelectedStyle",8,null),Ut=y(n,"ulOptionsStyle",8,null),r=y(n,"value",12,null);const e=u=>{r(U()===1?u[0]??null:u)},t=u=>{U()===1?F(u?[u]:[]):F(u??[])};let i=st(!1);me()?.length>0||(g()||tt()||N()||o()?me([]):console.error("MultiSelect received no options")),U()!==null&&U()<1&&console.error(`MultiSelect's maxSelect must be null or positive integer, got ${U()}`),Array.isArray(F())||console.error(`MultiSelect's selected prop should always be an array, got ${F()}`),U()&&typeof Be()=="number"&&Be()>U()&&console.error(`MultiSelect maxSelect=${U()} < required=${Be()}, makes it impossible for users to submit a valid form`),nt()&&g()&&console.warn("Don't combine parseLabelsAsHtml and allowUserOptions. It's susceptible to XSS attacks!"),Ge()&&Qe()&&console.warn("MultiSelect's sortSelected and selectedOptionsDraggable should not be combined as any user re-orderings of selected options will be undone by sortSelected on component re-renders."),g()&&!m()&&m()!==null&&console.error(`MultiSelect has allowUserOptions=${g()} but createOptionMsg=${m()} is falsy. This prevents the "Add option" <span> from showing up, resulting in a confusing user experience.`),ke()&&(typeof ke()!="number"||ke()<0||ke()%1!=0)&&console.error(`MultiSelect's maxOptions must be undefined or a positive integer, got ${ke()}`);const s=xr();let a=st(!1),f=st();if(c()!==null&&!ce()[c()])throw`Run time error, activeIndex=${c()} is out of bounds, matchingOptions.length=${ce().length}`;function T(u,E){U()&&U()>1&&F().length>=U()&&le(i,!0),!isNaN(Number(u))&&typeof F().map(_e)[0]=="number"&&(u=Number(u));const R=F().map(D()).includes(D()(u));if((U()===null||U()===1||F().length<U())&&(S()||!R)){if(!me().includes(u)&&[!0,"append"].includes(g())&&ee().length>0&&(typeof me()[0]=="object"?u={label:ee()}:(["number","undefined"].includes(typeof me()[0])&&!isNaN(Number(ee()))?u=Number(ee()):u=ee(),s("create",{option:u})),g()==="append"&&me([...me(),u])),ct()&&ee(""),["",void 0,null].includes(u)){console.error(`MultiSelect: encountered falsy option ${u}`);return}U()===1?F([u]):(F([...F(),u]),Ge()===!0?F(F().sort((de,Y)=>{const[he,Te]=[_e(de),_e(Y)];return`${he}`.localeCompare(`${Te}`)})):typeof Ge()=="function"&&F(F().sort(Ge())));const j=F().length===U(),ve=k()===!0||k()==="desktop"&&p(f)<w();j||ve?H(E):ve||A()?.focus(),s("add",{option:u}),s("change",{option:u,type:"add"}),ie(!1),C()?.setCustomValidity("")}}function J(u){if(F().length===0)return;const E=F().findIndex(j=>D()(j)===D()(u));let[R]=F().splice(E,1);if(R===void 0&&g()&&(R=typeof me()[0]?{label:u}:u),R===void 0)return console.error(`Multiselect can't remove selected option ${JSON.stringify(u)}, not found in selected list`);F([...F()]),ie(!1),C()?.setCustomValidity(""),s("remove",{option:R}),s("change",{option:R,type:"remove"})}function z(u){N()||(Le(!0),u instanceof FocusEvent||A()?.focus(),s("open",{event:u}))}function H(u){Le(!1),A()?.blur(),c(null),s("close",{event:u})}async function G(u){if(u.key==="Escape"||u.key==="Tab")H(u),ee("");else if(u.key==="Enter")u.preventDefault(),d()?(F().includes(d())?J(d()):T(d(),u),ee("")):g()&&ee().length>0?T(ee(),u):z(u);else if(["ArrowDown","ArrowUp"].includes(u.key)){if(c()===null&&ce().length>0){c(0);return}else if(g()&&!ce().length&&ee().length>0){le(a,!p(a));return}else if(c()===null)return;u.preventDefault();const E=u.key==="ArrowUp"?-1:1;if(c((c()+E)%ce().length),c()<0&&c(ce().length-1),x()){await Ir();const R=document.querySelector("ul.options > li.active");R&&R.scrollIntoViewIfNeeded?.()}}else u.key==="Backspace"&&F().length>0&&!ee()?J(F().at(-1)):ce().length>0&&c(0)}function Rt(){s("removeAll",{options:F()}),s("change",{options:F(),type:"removeAll"}),F([]),ee("")}const jt=u=>E=>{["Enter","Space"].includes(E.code)&&(E.preventDefault(),u())};function Pt(u){Ce()&&!Ce().contains(u.target)&&H(u)}let Ft=st(null);const or=u=>E=>{if(!E.dataTransfer)return;E.dataTransfer.dropEffect="move";const R=parseInt(E.dataTransfer.getData("text/plain")),j=[...F()];R<u?(j.splice(u+1,0,j[R]),j.splice(R,1)):(j.splice(u,0,j[R]),j.splice(R+1,1)),F(j),le(Ft,null)},ar=u=>E=>{E.dataTransfer&&(E.dataTransfer.effectAllowed="move",E.dataTransfer.dropEffect="move",E.dataTransfer.setData("text/plain",`${u}`))};let At=st();function ur(u){if(!xe()||typeof CSS>"u"||!CSS.highlights)return;CSS.highlights.clear();const E=u?.target?.value.trim().toLowerCase();if(!E)return;const R=document.createTreeWalker(p(At),NodeFilter.SHOW_TEXT,{acceptNode:Y=>Y?.textContent===Ze()?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT}),j=[];let ve=R.nextNode();for(;ve;)j.push(ve),ve=R.nextNode();const de=j.map(Y=>{const he=Y.textContent?.toLowerCase(),Te=[];let L=0;for(;he&&L<he.length;){const M=he.indexOf(E,L);if(M===-1)break;Te.push(M),L=M+E.length}return Te.map(M=>{const Q=new Range;return Q.setStart(Y,M),Q.setEnd(Y,M+E.length),Q})});CSS.highlights.set("sms-search-matches",new Highlight(...de.flat()))}Ye(()=>ne(F()),()=>{e(F())}),Ye(()=>ne(r()),()=>{t(r())}),Ye(()=>(ne(me()),ne(B()),ne(ee()),ne(F()),ne(D()),ne(S())),()=>{ce(me().filter(u=>B()(u,ee())&&(!F().map(D()).includes(D()(u))||S())))}),Ye(()=>(ne(ce()),ne(c())),()=>{d(ce()[c()??-1]??null)}),Ye(()=>(ne(F()),_e),()=>{le(h,u=>F().map(_e).includes(u))}),Ye(()=>(ne(Be()),ne(C())),()=>{Be(),C()?.setCustomValidity("")}),nr(),ir();var Fe=an();O("click",Wt,Pt),O("touchstart",Wt,Pt);var it=oe(Fe);bt(it,u=>C(u),()=>C());var Vt=re(it,2);Ae(Vt,n,"expand-icon",{get open(){return Le()}},u=>{Xr(u,{width:"15px",style:"min-width: 1em; padding: 0 1pt; cursor: pointer;"})});var wt=re(Vt,2),qt=oe(wt);Bt(qt,11,F,(u,E)=>S()?[D()(u),E]:D()(u),(u,E,R)=>{var j=en(),ve=Ve(()=>ar(p(R))),de=Ve(()=>or(p(R))),Y=oe(j);Ae(Y,n,"selected",{get option(){return p(E)},get idx(){return p(R)}},L=>{var M=Ne(),Q=be(M);Ae(Q,n,"default",{get option(){return p(E)},get idx(){return p(R)}},De=>{var X=Ne(),ae=be(X);{var te=Ee=>{var Ie=Ne(),Je=be(Ie);Yt(Je,()=>_e(p(E))),P(Ee,Ie)},We=Ee=>{var Ie=St();se(Je=>qe(Ie,Je),[()=>_e(p(E))],ye),P(Ee,Ie)};we(ae,Ee=>{nt()?Ee(te):Ee(We,!1)})}P(De,X)}),P(L,M)});var he=re(Y,2);{var Te=L=>{var M=$r(),Q=Ve(()=>jt(()=>J(p(E)))),De=oe(M);Ae(De,n,"remove-icon",{},X=>{tr(X,{width:"15px"})}),se(X=>$(M,"title",`${Ke()??""} ${X??""}`),[()=>_e(p(E))],ye),O("mouseup",M,Pe(()=>J(p(E)))),O("keydown",M,function(...X){p(Q)?.apply(this,X)}),P(L,M)};we(he,L=>{!N()&&(yt()===null||F().length>yt())&&L(Te)})}se(L=>{He(j,Jt(Xe()),"svelte-1r2hsto"),$(j,"draggable",Qe()&&!N()&&F().length>1),$(j,"style",`${L??""} ${ot()??""}`),Re(j,"active",p(Ft)===p(R))},[()=>rr(p(E),"selected")],ye),_r(j,()=>Ur,()=>({duration:100})),O("dragstart",j,function(...L){p(ve)?.apply(this,L)}),O("drop",j,Ht(function(...L){p(de)?.apply(this,L)})),O("dragenter",j,()=>le(Ft,p(R))),O("dragover",j,Ht(function(L){pe.call(this,n,L)})),P(u,j)});var q=re(qt,2);bt(q,u=>A(u),()=>A());var fr=re(q,2);Ae(fr,n,"after-input",{get selected(){return F()},get disabled(){return N()},get invalid(){return ie()},get id(){return W()},get placeholder(){return ft()},get open(){return Le()},get required(){return Be()}},null);var zt=re(wt,2);{var cr=u=>{var E=Ne(),R=be(E);Ae(R,n,"spinner",{},j=>{Wr(j,{})}),P(u,E)};we(zt,u=>{tt()&&u(cr)})}var Gt=re(zt,2);{var hr=u=>{var E=Ne(),R=be(E);Ae(R,n,"disabled-icon",{},j=>{Qr(j,{width:"14pt",style:"margin: 0 2pt;","data-name":"disabled-icon"})}),P(u,E)},dr=u=>{var E=Ne(),R=be(E);{var j=ve=>{var de=nn(),Y=be(de);{var he=M=>{Hr(M,{angle:20,get wiggle(){return p(i)},set wiggle(Q){le(i,Q)},children:(Q,De)=>{var X=tn(),ae=oe(X);se(te=>{He(X,`max-select-msg ${rt()??""} svelte-1r2hsto`),qe(ae,te)},[()=>K()?.(F().length,U())],ye),P(Q,X)},$$slots:{default:!0},$$legacy:!0})};we(Y,M=>{U()&&(U()>1||K())&&M(he)})}var Te=re(Y,2);{var L=M=>{var Q=rn(),De=Ve(()=>jt(Rt)),X=oe(Q);Ae(X,n,"remove-icon",{},ae=>{tr(ae,{width:"15px"})}),se(()=>$(Q,"title",ze())),O("mouseup",Q,Pe(Rt)),O("keydown",Q,function(...ae){p(De)?.apply(this,ae)}),P(M,Q)};we(Te,M=>{U()!==1&&F().length>1&&M(L)})}P(ve,de)};we(R,ve=>{F().length>0&&ve(j)},!0)}P(u,E)};we(Gt,u=>{N()?u(hr):u(dr,!1)})}var pr=re(Gt,2);{var gr=u=>{var E=on(),R=oe(E);Bt(R,1,()=>ce().slice(0,Math.max(0,ke()??0)||1/0),Dt,(de,Y,he,Te)=>{var L=ln();const M=ye(()=>{const{label:X,disabled:ae=null,title:te=null,selectedTitle:We=null,disabledTitle:Ee=v()}=p(Y)instanceof Object?p(Y):{label:p(Y)};return{label:X,disabled:ae,title:te,selectedTitle:We,disabledTitle:Ee}}),Q=ye(()=>c()===he);var De=oe(L);Ae(De,n,"option",{get option(){return p(Y)},idx:he},X=>{var ae=Ne(),te=be(ae);Ae(te,n,"default",{get option(){return p(Y)},idx:he},We=>{var Ee=Ne(),Ie=be(Ee);{var Je=lt=>{var dt=Ne(),Ot=be(dt);Yt(Ot,()=>_e(p(Y))),P(lt,dt)},mr=lt=>{var dt=St();se(Ot=>qe(dt,Ot),[()=>_e(p(Y))],ye),P(lt,dt)};we(Ie,lt=>{nt()?lt(Je):lt(mr,!1)})}P(We,Ee)}),P(X,ae)}),se((X,ae,te)=>{$(L,"title",X),He(L,`${$e()??""} ${(p(Q)?ge():"")??""} svelte-1r2hsto`),$(L,"style",`${ae??""} ${et()??""}`),Re(L,"selected",te),Re(L,"active",p(Q)),Re(L,"disabled",p(M).disabled)},[()=>p(M).disabled?p(M).disabledTitle:p(h)(p(M).label)&&p(M).selectedTitle||p(M).title,()=>rr(p(Y),"option"),()=>p(h)(p(M).label)],ye),O("mousedown",L,Pe(function(X){pe.call(this,n,X)})),O("mouseup",L,Pe(X=>{p(M).disabled||T(p(Y),X)})),O("mouseover",L,()=>{p(M).disabled||c(he)}),O("focus",L,()=>{p(M).disabled||c(he)}),O("mouseout",L,()=>c(null)),O("blur",L,()=>c(null)),P(de,L)});var j=re(R,2);{var ve=de=>{var Y=Ne();const he=ye(()=>F().map(_e).includes(ee())),Te=ye(()=>!S()&&p(he)&&"dupe"),L=ye(()=>!!(g()&&m())&&"create"),M=ye(()=>!!(ce()?.length==0&&Ze())&&"no-match"),Q=ye(()=>p(Te)||p(L)||p(M));var De=be(Y);{var X=ae=>{var te=sn();const We=ye(()=>({dupe:_(),create:m(),"no-match":Ze()})[p(Q)]);var Ee=oe(te);Ae(Ee,n,"user-msg",{get searchText(){return ee()},get msgType(){return p(Q)},get msg(){return p(We)}},Ie=>{var Je=St();se(()=>qe(Je,p(We))),P(Ie,Je)}),se(()=>{$(te,"title",m()),He(te,`user-msg ${at()??""} ${(p(a)?je():"")??""} svelte-1r2hsto`),Re(te,"active",p(a)),gt(te,"cursor",{dupe:"not-allowed",create:"pointer","no-match":"default"}[p(Q)])}),O("mousedown",te,Pe(function(Ie){pe.call(this,n,Ie)})),O("mouseup",te,Pe(Ie=>{g()&&T(ee(),Ie)})),O("mouseover",te,()=>le(a,!0)),O("focus",te,()=>le(a,!0)),O("mouseout",te,()=>le(a,!1)),O("blur",te,()=>le(a,!1)),P(ae,te)};we(De,ae=>{p(Q)&&ae(X)})}P(de,Y)};we(j,de=>{ee()&&de(ve)})}bt(E,de=>le(At,de),()=>p(At)),se(()=>{He(E,`options ${ht()??""} svelte-1r2hsto`),$(E,"aria-multiselectable",U()===null||U()>1),$(E,"aria-expanded",Le()),$(E,"aria-disabled",N()?"true":null),$(E,"style",Ut()),Re(E,"hidden",!Le())}),P(u,E)};we(pr,u=>{(ee()&&Ze()||me()?.length>0)&&u(gr)})}bt(Fe,u=>Ce(u),()=>Ce()),se(u=>{He(Fe,`multiselect ${ut()??""} svelte-1r2hsto`),$(Fe,"title",N()?b():null),$(Fe,"data-id",W()),$(Fe,"style",Ue()),Re(Fe,"disabled",N()),Re(Fe,"single",U()===1),Re(Fe,"open",Le()),Re(Fe,"invalid",ie()),$(it,"name",mt()),it.required=Be(),Er(it,u),He(wt,`selected ${_t()??""} svelte-1r2hsto`),$(wt,"style",Me()),He(q,Jt(V()),"svelte-1r2hsto"),$(q,"style",Z()),$(q,"id",W()),q.disabled=N(),$(q,"autocomplete",I()),$(q,"inputmode",fe()),$(q,"pattern",It()),$(q,"placeholder",F().length==0?ft():null),$(q,"aria-invalid",ie()?"true":null)},[()=>F().length>=Number(Be())?JSON.stringify(F()):null],ye),Br("innerWidth",u=>le(f,u)),O("invalid",it,()=>{ie(!0);let u;U()&&U()>1&&Number(Be())>1?u=`Please select between ${Be()} and ${U()} options`:Number(Be())>1?u=`Please select at least ${Be()} options`:u="Please select an option",C()?.setCustomValidity(u)}),lr(q,ee),O("mouseup",q,vr(Pe(z))),O("keydown",q,Pe(G)),O("focus",q,function(u){pe.call(this,n,u)}),O("focus",q,z),O("input",q,ur),O("drop",q,()=>!1),O("blur",q,function(u){pe.call(this,n,u)}),O("change",q,function(u){pe.call(this,n,u)}),O("click",q,function(u){pe.call(this,n,u)}),O("keydown",q,function(u){pe.call(this,n,u)}),O("keyup",q,function(u){pe.call(this,n,u)}),O("mousedown",q,function(u){pe.call(this,n,u)}),O("mouseenter",q,function(u){pe.call(this,n,u)}),O("mouseleave",q,function(u){pe.call(this,n,u)}),O("touchcancel",q,function(u){pe.call(this,n,u)}),O("touchend",q,function(u){pe.call(this,n,u)}),O("touchmove",q,function(u){pe.call(this,n,u)}),O("touchstart",q,function(u){pe.call(this,n,u)}),O("mouseup",Fe,Pe(z)),P(l,Fe),Et()}function fn(l=!0){const n=this,h=new IntersectionObserver(function([c]){const d=c.intersectionRatio;if(d<1){const m=d<=0&&l?"center":"nearest";n.scrollIntoView({block:m,inline:m})}this.disconnect()});return h.observe(n),h}typeof Element<"u"&&!Element.prototype?.scrollIntoViewIfNeeded&&typeof IntersectionObserver<"u"&&(Element.prototype.scrollIntoViewIfNeeded=fn);const Oe=Nt({file:null});var cn=ue('<div> </div> <textarea class="h-100px bg-#33221166 shadow-#00000099 b-color-amber rounded-lg p-3 shadow-md"></textarea>',1),hn=ue('<div class="px-6 py-2"><h2 class="m-0"> </h2> <div class="w-450px flex flex-col"></div></div>');function dn(l,n){vt(n,!0);const h=Ve(()=>Oe.file?.entries[n.entryName]);var c=Ne(),d=be(c);{var m=g=>{var o=hn(),I=oe(o),x=oe(I),w=re(I,2);Bt(w,21,()=>n.languages,Dt,(v,N)=>{var b=cn(),_=be(b),S=oe(_),D=re(_,2);se(()=>qe(S,p(N))),lr(D,()=>p(h).strings[p(N)],B=>p(h).strings[p(N)]=B),P(v,b)}),se(()=>qe(x,p(h).name)),P(g,o)};we(d,g=>{p(h)!=null&&g(m)})}P(l,c),Et()}var pn=ue('<div class="bg-amber-9 bg-op-25 z-100 fixed flex h-full w-full items-center justify-center"><div class="w-350px max-w-80% h-250px text-30px bg-#111 text-shadow-lg b-3px b-amber-4 rounded-30px b-dashed flex items-center justify-center font-bold shadow-lg">Drop file</div></div>'),gn=ue('<div class="b-3 b-1px b-solid b-red-5 fixed bottom-8 right-8 z-50 flex items-center justify-center rounded-lg bg-red-950 px-5 py-3">Invalid file</div>'),mn=ue('<label for="file" class="h-75 w-75 b-1 b-amber b-solid flex cursor-pointer flex-col items-center justify-center rounded-2xl p-8"><span class="i-lucide:file-scan h-25 w-25"></span> <span class="text-center font-bold">Select/Drop <br> *.msg.* file</span></label>'),yn=ue('<h1 class="m-0"> </h1> <div class="flex items-center gap-6"><div> </div> <div> </div> <button class="b-solid b-1 b-amber cursor-pointer rounded-lg">Export as msg</button> <button class="b-solid b-1 b-amber cursor-pointer rounded-lg">Export as json</button></div> <div class="mb-4 mt-2"><!></div> <div class="flex h-full w-full flex-col items-center overflow-auto"></div>',1),wn=ue('<input id="file" type="file" hidden> <div class="flex h-full w-full flex-col items-center justify-center"><!> <!> <!> <a target="_blank" rel="noopener" href="https://github.com/beeequeue/remsg-editor" class="text-#eee fixed bottom-2 flex items-center"><div class="i-simple-icons:github mr-1"></div> Made by beequeue</a></div>',1);function bn(l,n){vt(n,!0);const h=Ve(()=>Object.values(Oe.file?.entries??{}));let c=Ct(!1);Ar(()=>{p(c)&&setTimeout(()=>{le(c,!1)},7500)});const d=Ve(()=>{const A=Object.keys(p(h)[0].strings),V=Object.fromEntries(A.map(Z=>[Z,!1]));for(const Z of A)for(const fe of p(h))fe.strings[Z]==null||fe.strings[Z].length===0||(V[Z]=!0);return Object.entries(V).filter(([,Z])=>Z).map(([Z])=>Z)});let m=Ct(Nt(["en"]));const g=async A=>{const V=A.target.files;if(V==null||V.length===0)return;const Z=V.item(0),fe=er(Se.Buffer.from(await Z.arrayBuffer())),ie=Object.fromEntries(fe.entries.map(ge=>[ge.name,ge]));Oe.file={name:Z.name,meta:fe.meta,entries:ie}};let o=Ct(!1);const I=A=>{le(o,!0),A.preventDefault()},x=()=>{le(o,!1)},w=async A=>{A.preventDefault(),le(c,!1);try{const V=A.dataTransfer.items[0].getAsFile(),Z=er(Se.Buffer.from(await V.arrayBuffer())),fe=Object.fromEntries(Z.entries.map(ie=>[ie.name,ie]));Oe.file={name:V.name,meta:Z.meta,entries:fe}}catch{le(c,!0)}le(o,!1)},v=A=>()=>{if(Oe.file==null)return;const V=Object.values(Oe.file.entries),Z={meta:Oe.file.meta,entries:V};let fe;if(A==="msg"){const je=zr(Z);fe=new Blob([je],{type:"application/octet-stream"})}else{const je=JSON.stringify(Z,null,2);fe=new Blob([je],{type:"application/json"})}const ie=URL.createObjectURL(fe),ge=document.createElement("a");ge.href=ie,ge.download=Oe.file.name,A==="json"&&(ge.download+=".json"),ge.click(),URL.revokeObjectURL(ie),ge.remove()};var N=wn(),b=be(N);b.__change=g;var _=re(b,2),S=oe(_);{var D=A=>{var V=pn();Xt(3,V,()=>Zt,()=>({duration:100})),P(A,V)};we(S,A=>{p(o)&&A(D)})}var B=re(S,2);{var k=A=>{var V=gn();Xt(3,V,()=>Zt,()=>({duration:250})),P(A,V)};we(B,A=>{p(c)&&A(k)})}var C=re(B,2);{var xe=A=>{var V=mn();P(A,V)},W=A=>{var V=yn(),Z=be(V),fe=oe(Z),ie=re(Z,2),ge=oe(ie),je=oe(ge),$e=re(ge,2),et=oe($e),Xe=re($e,2),ot=Ve(()=>v("msg"));Xe.__click=function(...K){p(ot)?.apply(this,K)};var at=re(Xe,2),tt=Ve(()=>v("json"));at.__click=function(...K){p(tt)?.apply(this,K)};var ce=re(ie,2),ke=oe(ce);un(ke,{placeholder:"Languages",get options(){return p(d)},outerDivClass:"w-300px min-h-32px b-color-amber",liOptionClass:"color-#eee bg-#333",get selected(){return p(m)},set selected(K){le(m,Nt(K))}});var U=re(ce,2);Bt(U,21,()=>p(h),Dt,(K,rt)=>{dn(K,{get entryName(){return p(rt).name},get languages(){return p(m)}})}),se(()=>{qe(fe,Oe.file.name),qe(je,`Version ${Oe.file.meta.version??""}`),qe(et,`${Oe.file.meta.attributes.length??""} attributes`)}),P(A,V)};we(C,A=>{Oe?.file==null?A(xe):A(W,!1)})}O("drop",_,w),O("dragover",_,I),O("dragleave",_,x),P(l,N),Et()}Fr(["change","click"]);Or(bn,{target:document.getElementById("root")});
